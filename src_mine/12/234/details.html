<html><h3>fc142fccc56395575f41b459a66b629bdd79a559,set_expansion_demo/ui/main.py,,row_selected_callback,#,128
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def row_selected_callback(attr, old, new):
    global clear_flag
    <a id="change">if not clear_flag:
        print(&quotrow selected callback&quot)
        print(&quotold indices=&quot + str(old.indices))
        print(&quotnew indices=&quot + str(new.indices))
        global all_selected_phrases
        &#47&#47 selected_rows = new.indices
        &#47&#47 values = &quot&quot
        &#47&#47 for x in selected_rows:
        &#47&#47     values += (expand_table_source.data[&quotres&quot][x] + &quot, &quot)
        &#47&#47 values = values[:-2]


    &#47&#47sync phrases lists:

   </a> old_phrases = [expand_table_source.data[&quotres&quot][p] for p in old.indices]
    new_phrases = [expand_table_source.data[&quotres&quot][p] for p in new.indices]
    print(&quotselected_expand was updated: old=&quot + str(
        old_phrases) + &quot ,new=&quot + str(new_phrases))</code></pre><h3>After Change</h3><pre><code class='java'>

def row_selected_callback(attr, old, new):
    global clear_flag
    <a id="change">if not clear_flag and expand_table_source.data != empty_table:
        print(&quotrow selected callback&quot)
        print(&quotold indices=&quot + str(old.indices))
        print(&quotnew indices=&quot + str(new.indices))
        global all_selected_phrases
        &#47&#47sync phrases lists:
        old_phrases = [expand_table_source.data[&quotres&quot][p] for p in old.indices]
        new_phrases = [expand_table_source.data[&quotres&quot][p] for p in new.indices]
        print(&quotselected_expand was updated: old=&quot + str(
            old_phrases) + &quot ,new=&quot + str(new_phrases))
        &#47&#47phrase was de-selected from expand list:
        for o in old_phrases:
            if o not in new_phrases and (all_phrases is not None and all_phrases_dict[o] in phrases_list.value):
                print(&quotremoving &quot + o + &quotfrom vocab selected&quot)
                phrases_list.value.remove(all_phrases_dict[o])
                break
        &#47&#47new phrase was selected from expand list:
        for n in new_phrases:
            if n not in old_phrases and (all_phrases is not None and all_phrases_dict[n] in phrases_list.options and all_phrases_dict[n] not in phrases_list.value):
                phrases_list.value.append(all_phrases_dict[n])
                break
        update_all_selected_phrases()
        seed_input_box.value = get_selected_phrases_for_seed()


</a>def update_all_selected_phrases():
    print(&quotupdate selected phrases&quot)
    global all_selected_phrases
    updated_selected_phrases = all_selected_phrases[:]</code></pre><img src="666190.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/NervanaSystems/nlp-architect/commit/fc142fccc56395575f41b459a66b629bdd79a559#diff-4c7c2e9eb0d70e256a1e73bc27ad69f7c9cb1b376cfbb2c585971115ec0deb58L130' target='_blank'>Link</a></div><div id='project'> Project Name: NervanaSystems/nlp-architect</div><div id='commit'> Commit Name: fc142fccc56395575f41b459a66b629bdd79a559</div><div id='time'> Time: 2018-06-07</div><div id='author'> Author: shira.guskin@intel.com</div><div id='file'> File Name: set_expansion_demo/ui/main.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: row_selected_callback</div><BR>