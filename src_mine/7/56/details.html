<html><h3>fdd85e3af411d61040e5693d4de6061725a52b15,python/ray/serve/benchmarks/handle.py,,run_test,#,59
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 real test
    start = time.time()
    <a id="change">ray.get([handle.remote() for _ in range(num_queries)])</a>
    qps = num_queries / (time.time() - start)

    logger.info("{} forwarders and {} worker replicas: {} requests/s".format(
        num_forwarders, num_replicas, int(qps)))</code></pre><h3>After Change</h3><pre><code class='java'>
        if sync:
            ray.get(handle.remote())
        else:
            <a id="change">ray.get(await handle.remote_async())</a>

    &#47&#47 real test
    start = time.time()
    if sync:
        <a id="change">ray.get([handle.remote() for _ in range(num_queries)])</a>
    else:
        <a id="change">ray.get([(await handle.remote_async()) for _ in range(num_queries)])</a>
    qps = num_queries / (time.time() - start)

    print(
        f"Sync: {sync}, {num_forwarders} forwarders and {num_replicas} worker "</code></pre><img src="299652.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/fdd85e3af411d61040e5693d4de6061725a52b15#diff-412e5028ad3642469464af35993ed67b77b6814a2f445d1f2be2ce103b6405ceL57' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: fdd85e3af411d61040e5693d4de6061725a52b15</div><div id='time'> Time: 2020-12-15</div><div id='author'> Author: simon.mo@hey.com</div><div id='file'> File Name: python/ray/serve/benchmarks/handle.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: run_test</div><BR><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/fdd85e3af411d61040e5693d4de6061725a52b15#diff-412e5028ad3642469464af35993ed67b77b6814a2f445d1f2be2ce103b6405ceL59' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: fdd85e3af411d61040e5693d4de6061725a52b15</div><div id='time'> Time: 2020-12-15</div><div id='author'> Author: simon.mo@hey.com</div><div id='file'> File Name: python/ray/serve/benchmarks/handle.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: run_test</div><BR><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/ada58abcd92cd7b38cf1c0ee1525d52e388558f9#diff-9a96423bd7ffcd62d82111c19def74768a785bd1b1067364c464204945ee406aL154' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: ada58abcd92cd7b38cf1c0ee1525d52e388558f9</div><div id='time'> Time: 2020-10-02</div><div id='author'> Author: swang@cs.berkeley.edu</div><div id='file'> File Name: python/ray/tests/test_object_spilling.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_spill_remote_object</div><BR><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/52c94b7ee970da69721ca64f291e38556310482e#diff-15e91777662e8a3b185e4d5f9545f80419f7d7d9ba0d5bd27d2a84a9da43407bL22' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: 52c94b7ee970da69721ca64f291e38556310482e</div><div id='time'> Time: 2021-02-02</div><div id='author'> Author: sven@anyscale.io</div><div id='file'> File Name: rllib/models/tf/fcnet.py</div><div id='class'> Class Name: FullyConnectedNetwork</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/dd63178e91dbe77b79be8d38bdf67501ceee1d7c#diff-ceddd7a3906823cadf3cfc67027bada51381473a998b0670382cfc86b779ce9aL286' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: dd63178e91dbe77b79be8d38bdf67501ceee1d7c</div><div id='time'> Time: 2020-04-10</div><div id='author'> Author: rliaw@berkeley.edu</div><div id='file'> File Name: python/ray/util/sgd/torch/torch_trainer.py</div><div id='class'> Class Name: TorchTrainer</div><div id='method'> Method Name: _start_workers</div><BR><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/52c94b7ee970da69721ca64f291e38556310482e#diff-f654d80b9df4fccec4706f33383d8e6cea725174709bfbc0f22f9e2d352c6974L27' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: 52c94b7ee970da69721ca64f291e38556310482e</div><div id='time'> Time: 2021-02-02</div><div id='author'> Author: sven@anyscale.io</div><div id='file'> File Name: rllib/models/torch/fcnet.py</div><div id='class'> Class Name: FullyConnectedNetwork</div><div id='method'> Method Name: __init__</div><BR>