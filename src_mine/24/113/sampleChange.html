<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    lst_y = [ y for i, y in enumerate(labels) if i%nfold != test_id ]
    test_x = [ x for i, x in enumerate(data) if i%nfold == test_id ]
    test_y = [ y for i, y in enumerate(labels) if i%nfold == test_id ]
    perm = <a id="change">range(len(lst_x))</a>
    random.shuffle(perm)
    M = int(len(lst_x)*0.9)
    <a id="change">train_x</a> = [ lst_x[i] for i in perm[:M] ]
    <a id="change">train_y</a> = [ lst_y[i] for i in perm[:M] ]
    <a id="change">valid_x</a> = [ lst_x[i] for <a id="change">i</a> in perm[M:] ]
    <a id="change">valid_y</a> = [ lst_y[i] for i in perm[M:] ]
    return train_x, train_y, valid_x, valid_y, test_x, test_y

def cv_split2(data, labels, nfold, valid_id):</code></pre><h3>After Change</h3><pre><code class='java'>
    lst_y = [ y for i, y in enumerate(labels) if i%nfold != test_id ]
    test_x = [ x for i, x in enumerate(data) if i%nfold == test_id ]
    test_y = [ y for i, y in enumerate(labels) if i%nfold == test_id ]
    perm = <a id="change">list(range(len(lst_x)))</a>
    random.shuffle(perm)
    M = int(len(lst_x)*0.9)
    <a id="change">train_x</a> = [ lst_x[i] for i in perm[:M] ]
    <a id="change">train_y</a> = [ lst_y[i] for i in perm[:M] ]
    <a id="change">valid_x</a> = [ lst_x[i] for <a id="change">i</a> in perm[M:] ]
    <a id="change">valid_y</a> = [ lst_y[i] for i in perm[M:] ]
    return train_x, train_y, valid_x, valid_y, test_x, test_y

def cv_split2(data, labels, nfold, valid_id):</code></pre>