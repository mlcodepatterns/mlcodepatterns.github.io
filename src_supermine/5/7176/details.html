<html><h3>45714e343f36292cec938dc01ebb8a2dec10cea4,keras/preprocessing/image.py,ImageDataGenerator,flow,#ImageDataGenerator#Any#Any#Any#Any#Any#Any#Any#Any#,142
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            np.random.seed(seed)
            np.random.shuffle(y)

        nb_batch = int(math.ceil(<a id="change">float(X.shape[0])</a>/batch_size))
        <a id="change">for b in range(nb_batch):
            batch_end = (b+1)*batch_size
            if batch_end &gt; X.shape[0]:
                nb_samples = X.shape[0] - b*batch_size
            else:
                nb_samples = batch_size

            bX = np.zeros(tuple([nb_samples]+list(X.shape)[1:]))
            for i in range(nb_samples):
                x = X[b*batch_size+i]
                x = self.random_transform(x.astype("float32"))
                x = self.standardize(x)
                bX[i] = x

            if save_to_dir:
                for i in range(nb_samples):
                    img = array_to_img(bX[i], scale=True)
                    img.save(save_to_dir + "/" + save_prefix + "_" + str(i) + "." + save_format)

            yield bX, y[b*batch_size:b*batch_size+nb_samples]

   </a> def standardize(self, x):
        if self.featurewise_center:
            x -= self.mean
        if self.featurewise_std_normalization:</code></pre><h3>After Change</h3><pre><code class='java'>
                for i in range(current_batch_size):
                    img = array_to_img(bX[i], scale=True)
                    img.save(save_to_dir + "/" + save_prefix + "_" + str(i) + "." + save_format)
            <a id="change">if current_batch_size == batch_size:
                b += 1
            else:
                b = 0
           </a> yield bX, y[current_index: current_index + batch_size]

    def standardize(self, x):
        if self.featurewise_center:</code></pre><img src="29441489.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/45714e343f36292cec938dc01ebb8a2dec10cea4#diff-dcffbb7837e8870b074a048eac9a345e242c9f7c098b1dd8ad24698cfaa7cb52L144' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: 45714e343f36292cec938dc01ebb8a2dec10cea4</div><div id='time'> Time: 2016-01-19</div><div id='author'> Author: francois.chollet@gmail.com</div><div id='file'> File Name: keras/preprocessing/image.py</div><div id='class'> Class Name: ImageDataGenerator</div><div id='method'> Method Name: flow</div><BR><BR><div id='link'><a href='https://github.com/chainer/chainercv/commit/2eb0b6e398af59d0179a0adb95c57d27e0113f2d#diff-2452fc97aa0600ea7a3914ca636b13ad0f15179541b7c65626a77e9bcac2207dL41' target='_blank'>Link</a></div><div id='project'> Project Name: chainer/chainercv</div><div id='commit'> Commit Name: 2eb0b6e398af59d0179a0adb95c57d27e0113f2d</div><div id='time'> Time: 2019-03-27</div><div id='author'> Author: shingogo@hotmail.co.jp</div><div id='file'> File Name: chainercv/functions/ps_roi_average_align_2d.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _get_bounds</div><BR><BR><div id='link'><a href='https://github.com/catalyst-team/catalyst/commit/aab3902d4a7d55f5a86058854adc36b8a12c873f#diff-94f0b9669517bfb949ba9c8c8bd57cbd96ea0f16b7482a95010f509c6c577190L202' target='_blank'>Link</a></div><div id='project'> Project Name: catalyst-team/catalyst</div><div id='commit'> Commit Name: aab3902d4a7d55f5a86058854adc36b8a12c873f</div><div id='time'> Time: 2019-05-20</div><div id='author'> Author: ekhvedchenya@gmail.com</div><div id='file'> File Name: catalyst/dl/callbacks/base.py</div><div id='class'> Class Name: OptimizerCallback</div><div id='method'> Method Name: on_batch_end</div><BR>