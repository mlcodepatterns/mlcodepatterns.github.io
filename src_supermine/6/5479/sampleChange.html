<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    bar += &quot=&quot
            bar += (&quot.&quot * (self.width - prog_width))
            bar += &quot]&quot
            <a id="change">sys.stdout.write(bar)</a>
            self.total_width = len(bar)

            if current:
                time_per_unit = (now - self.start) / current</code></pre><h3>After Change</h3><pre><code class='java'>
            sys.stdout.write(&quot\b&quot * prev_total_width)
            sys.stdout.write(&quot\r&quot)

            <a id="change">if self.target is not -1:
                numdigits = int(np.floor(np.log10(self.target))) + 1
                barstr = &quot%%%dd/%%%dd [&quot % (numdigits, numdigits)
                bar = barstr % (current, self.target)
                prog = float(current) / self.target
                prog_width = int(self.width * prog)
                if prog_width &gt; 0:
                    bar += (&quot=&quot * (prog_width - 1))
                    if current &lt; self.target:
                        bar += &quot&gt;&quot
                    else:
                        bar += &quot=&quot
                bar += (&quot.&quot * (self.width - prog_width))
                bar += &quot]&quot
                sys.stdout.write(bar)
                self.total_width = len(bar)

           </a> if current:
                time_per_unit = (now - self.start) / current
            else:
                time_per_unit = 0</code></pre>