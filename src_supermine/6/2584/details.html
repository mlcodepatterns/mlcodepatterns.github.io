<html><h3>b2bcab711d333442c282cf64c66a9fac2c93218f,rllib/models/tf/attention_net.py,GTrXLNet,get_initial_state,#GTrXLNet#,318
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 State is the T last observations concat&quotd together into one Tensor.
        &#47&#47 Plus all Transformer blocks&quot E(l) outputs concat&quotd together (up to
        &#47&#47 tau timesteps).
        <a id="change">return [np.zeros((self.max_seq_len, self.obs_dim), np.float32)] + \
               [np.zeros((self.memory_tau, self.attn_dim), np.float32)
                for _ in range(self.num_transformer_units)]</a>

    @override(ModelV2)
    def value_function(self) -&gt; TensorType:
        return tf.reshape(self._value_out, [-1])</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 TODO: (sven) Deprecate this once trajectory view API has fully matured.
    @override(RecurrentNetwork)
    def get_initial_state(self) -&gt; List[np.ndarray]:
        <a id="change">return []</a>

    @override(ModelV2)
    def value_function(self) -&gt; TensorType:
        return tf.reshape(self._value_out, [-1])</code></pre><img src="14173100.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/b2bcab711d333442c282cf64c66a9fac2c93218f#diff-c6890cd20e9c768a4efaa52dcc9a29a8834fddb81592710c147e63e7bdb7310dL318' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: b2bcab711d333442c282cf64c66a9fac2c93218f</div><div id='time'> Time: 2020-12-20</div><div id='author'> Author: sven@anyscale.io</div><div id='file'> File Name: rllib/models/tf/attention_net.py</div><div id='class'> Class Name: GTrXLNet</div><div id='method'> Method Name: get_initial_state</div><BR><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/d5604eaba321c11c1b9616c283262c4ddea55049#diff-2ac408eb0cf0d1ba6d299f5dd7d5dea59be6f048e85b0eddd1a7069f0f06fac8L220' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: d5604eaba321c11c1b9616c283262c4ddea55049</div><div id='time'> Time: 2020-12-21</div><div id='author'> Author: sven@anyscale.io</div><div id='file'> File Name: rllib/models/torch/attention_net.py</div><div id='class'> Class Name: GTrXLNet</div><div id='method'> Method Name: get_initial_state</div><BR><BR><div id='link'><a href='https://github.com/GPflow/GPflow/commit/41fa0902ddf895045b0a109852d9b2f724e1d808#diff-ec0d17c56803b2f1f790c17ade16c48c0642747da1032335114129e55d1ceadaL47' target='_blank'>Link</a></div><div id='project'> Project Name: GPflow/GPflow</div><div id='commit'> Commit Name: 41fa0902ddf895045b0a109852d9b2f724e1d808</div><div id='time'> Time: 2016-01-14</div><div id='author'> Author: james.hensman@gmail.com</div><div id='file'> File Name: GPflow/kernels.py</div><div id='class'> Class Name: White</div><div id='method'> Method Name: K</div><BR>