<html><h3>1918f160796525d2b5f241f81d3224a941418935,agents/ppo_agent.py,PPOAgent,update_kl_coefficient,#PPOAgent#,205
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.tp.sess.run(self.increase_kl_coefficient, feed_dict={self.kl_coefficient: kl_coefficient})
        elif self.total_kl_divergence_during_training_process &lt; 0.7 * kl_target:
            &#47&#47 kl too low =&gt; decrease regularization
            <a id="change">self.tp.sess.run(self.decrease_kl_coefficient, feed_dict={self.kl_coefficient: kl_coefficient})</a>
        screen.log_title("KL penalty coefficient change = {} -&gt; {}".format(
            kl_coefficient, self.tp.sess.run(self.policy_network.online_network.output_heads[0].kl_coefficient)))

    def post_training_commands(self):</code></pre><h3>After Change</h3><pre><code class='java'>
                new_kl_coefficient,
                self.policy_network.online_network.output_heads[0].kl_coefficient_ph)

        screen.log_title(<a id="change">"KL penalty coefficient change = {} -&gt; {}".format(kl_coefficient, new_kl_coefficient)</a>)

    def post_training_commands(self):
        if self.tp.agent.use_kl_regularization:</code></pre><img src="26682766.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/NervanaSystems/coach/commit/1918f160796525d2b5f241f81d3224a941418935#diff-28e8eb4814c67ed8c4557d61846635d3d8cc05fa844d5f810fe3556c232f2cd3L197' target='_blank'>Link</a></div><div id='project'> Project Name: NervanaSystems/coach</div><div id='commit'> Commit Name: 1918f160796525d2b5f241f81d3224a941418935</div><div id='time'> Time: 2017-10-31</div><div id='author'> Author: itai.caspi@intel.com</div><div id='file'> File Name: agents/ppo_agent.py</div><div id='class'> Class Name: PPOAgent</div><div id='method'> Method Name: update_kl_coefficient</div><BR><BR><div id='link'><a href='https://github.com/NervanaSystems/coach/commit/5fadb9c18e3de16cc5633175199f9e9e2c381102#diff-6b7053739e10064930832574d3209ed55ed6363a51d627613d736cb253a7be1aL493' target='_blank'>Link</a></div><div id='project'> Project Name: NervanaSystems/coach</div><div id='commit'> Commit Name: 5fadb9c18e3de16cc5633175199f9e9e2c381102</div><div id='time'> Time: 2018-11-07</div><div id='author'> Author: sina.beh@gmail.com</div><div id='file'> File Name: rl_coach/graph_managers/graph_manager.py</div><div id='class'> Class Name: GraphManager</div><div id='method'> Method Name: restore_checkpoint</div><BR><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/57544b1ff9f97d4da9f64d25c8ea5a3d8d247ffc#diff-6e6f5ac309686c42bec61e8cf74c48e92895c1abaf1b57a60679f105670ee42dL106' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: 57544b1ff9f97d4da9f64d25c8ea5a3d8d247ffc</div><div id='time'> Time: 2020-05-11</div><div id='author'> Author: sven@anyscale.io</div><div id='file'> File Name: rllib/examples/rock_paper_scissors_multiagent.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: run_heuristic_vs_learned</div><BR>