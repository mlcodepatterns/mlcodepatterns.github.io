<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        if self.max_workers == 0:
            return {}
        elif pending_nodes or <a id="change">len(nodes)</a> &gt; 1:
            &#47&#47 If we are already launching a worker node.
            &#47&#47 If first worker node fails this will never launch more nodes.
            return {}</code></pre><h3>After Change</h3><pre><code class='java'>
        workers, it returns max(1, min_workers) worker nodes from which we
        later calculate the node resources.
        
        <a id="change">worker_nodes = self.provider.non_terminated_nodes(
            tag_filters={TAG_RAY_NODE_KIND: NODE_KIND_WORKER})</a>
        if self.max_workers == 0:
            return {}
        elif sum(launching_nodes.values()) + len(worker_nodes) &gt; 0:
            &#47&#47 If we are already launching a worker node, wait for its resources</code></pre>