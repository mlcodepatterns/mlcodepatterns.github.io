<html><h3>a644060daa4c22aabedcfd9b891d43f9afa88f97,rllib/utils/experimental_dsl.py,CollectMetrics,__call__,#CollectMetrics#Any#,268
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def __call__(self, _):
        metrics = LocalIterator.get_metrics()
        if metrics.parent_metrics:
            <a id="change">raise ValueError("TODO: support nested metrics")</a>
        episodes, self.to_be_collected = collect_episodes(
            self.workers.local_worker(),
            self.workers.remote_workers(),
            self.to_be_collected,</code></pre><h3>After Change</h3><pre><code class='java'>
        info = {}
        for metrics in all_metrics:
            info.update(metrics.info)
            <a id="change">for k, counter in metrics.counters.items():
                counters[k] = counter
           </a> for k, timer in metrics.timers.items():
                timers["{}_time_ms".format(k)] = round(timer.mean * 1000, 3)
                if timer.has_units_processed():
                    timers["{}_throughput".format(k)] = round(</code></pre><img src="17568765.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/a644060daa4c22aabedcfd9b891d43f9afa88f97#diff-f65c71c69a9c37d5106088cb9c718cbd25ac9d9ecb099324dee26c83799bd8a7L269' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: a644060daa4c22aabedcfd9b891d43f9afa88f97</div><div id='time'> Time: 2020-03-07</div><div id='author'> Author: ekhliang@gmail.com</div><div id='file'> File Name: rllib/utils/experimental_dsl.py</div><div id='class'> Class Name: CollectMetrics</div><div id='method'> Method Name: __call__</div><BR><BR><div id='link'><a href='https://github.com/google/tangent/commit/31269a5197170026985db35c4703cc6e9c805ebf#diff-ecb77585ab61d1ae79c638178a3dc07e3ae607652f2ec744edb6a3fc7f5dc63eL669' target='_blank'>Link</a></div><div id='project'> Project Name: google/tangent</div><div id='commit'> Commit Name: 31269a5197170026985db35c4703cc6e9c805ebf</div><div id='time'> Time: 2017-11-10</div><div id='author'> Author: bart.vanmerrienboer@gmail.com</div><div id='file'> File Name: tangent/reverse_ad.py</div><div id='class'> Class Name: ReverseAD</div><div id='method'> Method Name: visit_Call</div><BR><BR><div id='link'><a href='https://github.com/dmlc/gluon-nlp/commit/b1b61d3f90cf795c7b48b6d109db7b7b96fa21ff#diff-923bf4022efcda59b2e139db69fceea9b297efa3618eb0ccf629389c78883304L206' target='_blank'>Link</a></div><div id='project'> Project Name: dmlc/gluon-nlp</div><div id='commit'> Commit Name: b1b61d3f90cf795c7b48b6d109db7b7b96fa21ff</div><div id='time'> Time: 2019-08-04</div><div id='author'> Author: lausen@amazon.com</div><div id='file'> File Name: src/gluonnlp/model/attention_cell.py</div><div id='class'> Class Name: MultiHeadAttentionCell</div><div id='method'> Method Name: __init__</div><BR>