<html><h3>fed7cc257e960a3849978088dccd500b0fbfc753,keras/layers/recurrent.py,LSTM,step,#LSTM#Any#Any#,563
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        i = self.inner_activation(x_i + K.dot(h_tm1 * B_U[0], self.U_i))
        f = self.inner_activation(x_f + K.dot(h_tm1 * B_U[1], self.U_f))
        c = f * c_tm1 + i * self.activation(x_c + K.dot(h_tm1 * <a id="change">B_U[2]</a>, self.U_c))
        o = self.inner_activation(x_o + K.dot(h_tm1 * B_U[3], self.U_o))
        h = o * self.activation(c)
        return h, [h, c]</code></pre><h3>After Change</h3><pre><code class='java'>
        x_o = K.dot(x * K.gather(B_W, 3), self.W_o) + self.b_o

        i = self.inner_activation(x_i + K.dot(h_tm1 * K.gather(B_U, 0), self.U_i))
        f = self.inner_activation(x_f + K.dot(h_tm1 * <a id="change">K.gather(B_U, 1)</a>, self.U_f))
        c = f * c_tm1 + i * self.activation(x_c + K.dot(h_tm1 * <a id="change">K.gather(B_U, 2)</a>, self.U_c))
        o = self.inner_activation(x_o + K.dot(h_tm1 * K.gather(B_U, 3), self.U_o))
        h = o * self.activation(c)
        return h, [h, c]</code></pre><img src="9715860.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/fed7cc257e960a3849978088dccd500b0fbfc753#diff-b33e355dd27235d2b7b60307276fae5c0630d0663baca2d3dd0288fcf9969cd1L567' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: fed7cc257e960a3849978088dccd500b0fbfc753</div><div id='time'> Time: 2016-02-19</div><div id='author'> Author: yaringal@gmail.com</div><div id='file'> File Name: keras/layers/recurrent.py</div><div id='class'> Class Name: LSTM</div><div id='method'> Method Name: step</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/fed7cc257e960a3849978088dccd500b0fbfc753#diff-b33e355dd27235d2b7b60307276fae5c0630d0663baca2d3dd0288fcf9969cd1L403' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: fed7cc257e960a3849978088dccd500b0fbfc753</div><div id='time'> Time: 2016-02-19</div><div id='author'> Author: yaringal@gmail.com</div><div id='file'> File Name: keras/layers/recurrent.py</div><div id='class'> Class Name: GRU</div><div id='method'> Method Name: step</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/fed7cc257e960a3849978088dccd500b0fbfc753#diff-b33e355dd27235d2b7b60307276fae5c0630d0663baca2d3dd0288fcf9969cd1L567' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: fed7cc257e960a3849978088dccd500b0fbfc753</div><div id='time'> Time: 2016-02-19</div><div id='author'> Author: yaringal@gmail.com</div><div id='file'> File Name: keras/layers/recurrent.py</div><div id='class'> Class Name: LSTM</div><div id='method'> Method Name: step</div><BR><BR><div id='link'><a href='https://github.com/GPflow/GPflow/commit/4d628f1716c24f9ef6552b57d4d021c101620ba1#diff-ec0d17c56803b2f1f790c17ade16c48c0642747da1032335114129e55d1ceadaL34' target='_blank'>Link</a></div><div id='project'> Project Name: GPflow/GPflow</div><div id='commit'> Commit Name: 4d628f1716c24f9ef6552b57d4d021c101620ba1</div><div id='time'> Time: 2016-06-28</div><div id='author'> Author: james.hensman@gmail.com</div><div id='file'> File Name: GPflow/kernels.py</div><div id='class'> Class Name: Kern</div><div id='method'> Method Name: _slice</div><BR>