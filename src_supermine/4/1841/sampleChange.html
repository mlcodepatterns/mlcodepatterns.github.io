<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    for tgt_id, src_id in enumerate(tgt_align_src_id.tolist()):
        align_pairs.append(str(src_id) + "-" + str(tgt_id))
    <a id="change">align_pairs.sort(key=lambda x: int(x.split(&quot-&quot)[-1]))</a>  &#47&#47 sort by tgt_id
    align_pairs.sort(key=lambda x: int(x.split(&quot-&quot)[0]))  &#47&#47 sort by src_id
    return align_pairs
</code></pre><h3>After Change</h3><pre><code class='java'>
    or empty list if it&quots None.
    
    align_pairs = []
    <a id="change">if isinstance(valid_alignment, torch.Tensor):
        tgt_align_src_id = valid_alignment.argmax(dim=-1)

        for tgt_id, src_id in enumerate(tgt_align_src_id.tolist()):
            align_pairs.append(str(src_id) + "-" + str(tgt_id))
        align_pairs.sort(key=lambda x: int(x.split(&quot-&quot)[-1]))  &#47&#47 sort by tgt_id
        align_pairs.sort(key=lambda x: int(x.split(&quot-&quot)[0]))  &#47&#47 sort by src_id
   </a> return align_pairs


def to_word_align(src, tgt, subword_align, mode):</code></pre>