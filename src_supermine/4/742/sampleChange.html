<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            tgt_data = ftgt.readlines()

            src_corpus = "".join(src_corpus.split(".")[:-1])
            <a id="change">tgt_corpus = "".join(tgt_corpus.split(".")[:-1])</a>

            num_shards = int(len(src_data) / opt.shard_size)
            for x in range(num_shards):
                f = codecs.open(src_corpus + ".{0}.txt".format(x), "w",</code></pre><h3>After Change</h3><pre><code class='java'>

    with codecs.open(src_corpus, "r", encoding="utf-8") as fsrc:
        with codecs.open(tgt_corpus, "r", encoding="utf-8") as ftgt:
            <a id="change">logger.info("Reading source and target files: %s %s."
                        % (src_corpus, tgt_corpus))</a>
            src_data = fsrc.readlines()
            tgt_data = ftgt.readlines()

            num_shards = int(len(src_data) / opt.shard_size)</code></pre>