<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        if self.max_workers == 0:
            return {}
        elif pending_nodes or <a id="change">len(nodes) &gt; 1:
    </a>        &#47&#47 If we are already launching a worker node.
            &#47&#47 If first worker node fails this will never launch more nodes.
            return {}
        else:</code></pre><h3>After Change</h3><pre><code class='java'>
                                                   resource_demands)
            workers_to_add = min(
                self.node_types[NODE_TYPE_LEGACY_WORKER].get("min_workers", 0),
                <a id="change">self.node_types[NODE_TYPE_LEGACY_WORKER].get("max_workers", 0)</a>)
            if workers_to_add &gt; 0 or unfulfilled:
                return {NODE_TYPE_LEGACY_WORKER: max(1, workers_to_add)}
            else:</code></pre>