<html><h3>a25472c657d6e3338c396d4261c30a060d608274,python/ray/serve/tests/test_metric.py,,test_client,#,29
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            default_labels={"default": "label"},
        )
    }
    <a id="change">assert exporter.batches == [("counter", {
        "a": "1",
        "b": "2"
    }, 1), ("counter", {
        "a": "1",
        "b": "3"
    }, 42), ("measure", {}, 2)]</a>


async def test_in_memory_exporter(serve_instance):
    exporter = MetricExporterActor.remote(InMemoryExporter)</code></pre><h3>After Change</h3><pre><code class='java'>
        default_labels={"default": "label"},
    ) in exporter.metadata.values()

    <a id="change">metric_values = [item.value for item in exporter.batches]</a>
    assert set(metric_values) == {1, 42, 2}

    metric_labels = [
        frozenset(item.labels.items()) for item in exporter.batches</code></pre><img src="3339858.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/a25472c657d6e3338c396d4261c30a060d608274#diff-5f7f0cb27026f33fb0579106da10b0eb12e6d01acacb5ecc9f8de396f4069c51L30' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: a25472c657d6e3338c396d4261c30a060d608274</div><div id='time'> Time: 2020-07-02</div><div id='author'> Author: xmo@berkeley.edu</div><div id='file'> File Name: python/ray/serve/tests/test_metric.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_client</div><BR><BR><div id='link'><a href='https://github.com/microsoft/nni/commit/5461fe7792ce43c3a7009a602c086842fe9fae64#diff-2ae2ce958712064e7c2160be8e568d135690bbeb50823851c277543ec1249903L78' target='_blank'>Link</a></div><div id='project'> Project Name: microsoft/nni</div><div id='commit'> Commit Name: 5461fe7792ce43c3a7009a602c086842fe9fae64</div><div id='time'> Time: 2018-12-20</div><div id='author'> Author: 871886504@qq.com</div><div id='file'> File Name: tools/nni_annotation/search_space_generator.py</div><div id='class'> Class Name: SearchSpaceGenerator</div><div id='method'> Method Name: visit_Call</div><BR><BR><div id='link'><a href='https://github.com/google/deepvariant/commit/7804a2fc6e24b3ecb9365e5459fb16ab6048ef8f#diff-ec725d17919af194b7f391b1f75634eed7b99bd898b2e868152e3d11ddc54154L132' target='_blank'>Link</a></div><div id='project'> Project Name: google/deepvariant</div><div id='commit'> Commit Name: 7804a2fc6e24b3ecb9365e5459fb16ab6048ef8f</div><div id='time'> Time: 2018-08-28</div><div id='author'> Author: no-reply@google.com</div><div id='file'> File Name: third_party/nucleus/io/fasta_test.py</div><div id='class'> Class Name: InMemoryRefReaderTests</div><div id='method'> Method Name: test_iterate</div><BR>