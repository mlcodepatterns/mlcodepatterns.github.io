<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def run_evaluation(self, test_mode: bool = False, max_batches=None):

        &#47&#47 used to know if we are logging for val, test + reset cached results
        <a id="change">self.logger_connector.set_stage(test_mode, reset=True)</a>

        &#47&#47 bookkeeping
        self.evaluation_loop.testing = test_mode
</code></pre><h3>After Change</h3><pre><code class='java'>
    def run_evaluation(self, test_mode: bool = False, max_batches=None):

        &#47&#47 used to know if we are logging for val, test + reset cached results
        <a id="change">self._set_wide_running_stage(RunningStage.TESTING if test_mode else RunningStage.EVALUATING)</a>
        self.logger_connector.reset()

        &#47&#47 bookkeeping
        self.evaluation_loop.testing = test_mode</code></pre>