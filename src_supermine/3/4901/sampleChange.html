<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        c_g = sorted(c, key=lambda x:x[0], reverse=True)
        c_p = sorted(c, key=lambda x:x[1], reverse=True)
        idcg = [0. for i in range(k)]
        dcg = [0. <a id="change">for</a> i in <a id="change">range(k)</a>]
        for i, (g,p) in enumerate(c_g):
            if g &gt; self.rel_threshold:
                idcg[i:] += (np.pow(2., g) - 1.) / np.log(2. + i)</code></pre><h3>After Change</h3><pre><code class='java'>
        c_p = sorted(c, key=lambda x:x[1], reverse=True)
        &#47&#47idcg = [0. for i in range(k)]
        idcg = np.zeros([k], dtype=np.float32)
        dcg = <a id="change">np.zeros([k], dtype=np.float32)</a>
        &#47&#47dcg = [0. for i in range(k)]
        for i, (g,p) in enumerate(c_g):
            if g &gt; self.rel_threshold:
                idcg[i:] += (math.pow(2., g) - 1.) / math.log(2. + i)</code></pre>