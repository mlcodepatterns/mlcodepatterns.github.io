<html><h3>4220efc634021812eba44cdd97e914ec026b0e7a,dvalib/retriever.py,BaseRetriever,nearest,#BaseRetriever#Any#Any#,33
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def nearest(self, vector=None, n=12):
        temp = []
        dist = []
        <a id="change">for k in xrange(self.index.shape[0]):
            temp.append(self.index[k])
            if (k+1) % 50000 == 0:
                temp = np.transpose(np.dstack(temp)[0])
                dist.append(spatial.distance.cdist(vector,temp))
                temp = []
       </a> if temp:
            temp = np.transpose(np.dstack(temp)[0])
            dist.append(spatial.distance.cdist(vector,temp))
        results = []</code></pre><h3>After Change</h3><pre><code class='java'>
    def nearest(self, vector=None, n=12):
        dist = None
        results = []
        <a id="change">if self.index is not None:
            &#47&#47 logging.info("{} and {}".format(vector.shape,self.index.shape))
            dist = spatial.distance.cdist(vector,self.index)
       </a> if dist is not None:
            ranked = np.squeeze(dist.argsort())
            for i, k in enumerate(ranked[:n]):
                temp = {&quotrank&quot:i+1,&quotalgo&quot:self.name,&quotdist&quot:float(dist[0,k])}</code></pre><img src="21469333.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/AKSHAYUBHAT/DeepVideoAnalytics/commit/4220efc634021812eba44cdd97e914ec026b0e7a#diff-e14635f086b7d72ff1f482371d8455f503840df58b47dfbf50e51e62d23b0e91L34' target='_blank'>Link</a></div><div id='project'> Project Name: AKSHAYUBHAT/DeepVideoAnalytics</div><div id='commit'> Commit Name: 4220efc634021812eba44cdd97e914ec026b0e7a</div><div id='time'> Time: 2017-08-26</div><div id='author'> Author: akshayubhat@gmail.com</div><div id='file'> File Name: dvalib/retriever.py</div><div id='class'> Class Name: BaseRetriever</div><div id='method'> Method Name: nearest</div><BR><BR><div id='link'><a href='https://github.com/chainer/chainercv/commit/92e4f9fc21754db063e055f7873b5452e0f2fa51#diff-e0c45cb518d3a5896243b483f17d8a81addd2a95054b2b6b7d5e3543e5c57ddfL62' target='_blank'>Link</a></div><div id='project'> Project Name: chainer/chainercv</div><div id='commit'> Commit Name: 92e4f9fc21754db063e055f7873b5452e0f2fa51</div><div id='time'> Time: 2017-04-26</div><div id='author'> Author: yuyuniitani@gmail.com</div><div id='file'> File Name: chainercv/evaluations/eval_detection.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: eval_detection</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/d5455154f2a9f055e601e14dd5e8e3fea2ac4721#diff-4d5872668d8f1e6249e940d77bcd3bae5651b985477b0e85332ba0ebe70baf62L66' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: d5455154f2a9f055e601e14dd5e8e3fea2ac4721</div><div id='time'> Time: 2015-08-17</div><div id='author'> Author: francois.chollet@gmail.com</div><div id='file'> File Name: examples/addition_rnn.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/aleju/imgaug/commit/bc87005e5dce729044e1a10286f9124d652e34d6#diff-661616a8ca72acfea9cb9923d8d42bf6375a0b05d90cf5e943f2484e70e02646L260' target='_blank'>Link</a></div><div id='project'> Project Name: aleju/imgaug</div><div id='commit'> Commit Name: bc87005e5dce729044e1a10286f9124d652e34d6</div><div id='time'> Time: 2019-08-25</div><div id='author'> Author: kontakt@ajung.name</div><div id='file'> File Name: imgaug/augmentables/kps.py</div><div id='class'> Class Name: Keypoint</div><div id='method'> Method Name: generate_similar_points_manhattan</div><BR>