<html><h3>36bda8432b2ed23f623c8c3031b2cba148bec93b,rllib/examples/policy/episode_env_aware_policy.py,EpisodeEnvAwarePolicy,compute_actions_from_input_dict,#EpisodeEnvAwarePolicy#Any#Any#Any#,48
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                        explore=None,
                                        timestep=None,
                                        **kwargs):
        <a id="change">self.episode_id = input_dict[SampleBatch.EPS_ID][0]</a>
        <a id="change">self.env_id = input_dict["env_id"][0]</a>
        &#47&#47 Always return (episodeID, envID)
        <a id="change">return [
            np.array([self.episode_id, self.env_id]) for _ in input_dict["obs"]
        ], [], {}</a>

    @override(Policy)
    def postprocess_trajectory(self,
                               sample_batch,</code></pre><h3>After Change</h3><pre><code class='java'>
                                        explore=None,
                                        timestep=None,
                                        **kwargs):
        <a id="change">ts = input_dict["t"]</a>
        print(ts)
        &#47&#47 Always return [episodeID, envID] as actions.
        <a id="change">actions = np.array([[
            input_dict[SampleBatch.AGENT_INDEX][i],
            input_dict[SampleBatch.EPS_ID][i], input_dict["env_id"][i]
        ] for i, _ in enumerate(input_dict["obs"])])</a>
        states = [
            np.array([[ts[i]] <a id="change">for</a> i in range(len(input_dict["obs"]))])
            for _ in range(2)
        ]
        <a id="change">return actions, states, {}</a>

    @override(Policy)
    def postprocess_trajectory(self,
                               sample_batch,</code></pre><img src="14740961.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ray-project/ray/commit/36bda8432b2ed23f623c8c3031b2cba148bec93b#diff-5de596895936b951561c4edc3a555595b84489dcef8f9367199c23f266b0141eL48' target='_blank'>Link</a></div><div id='project'> Project Name: ray-project/ray</div><div id='commit'> Commit Name: 36bda8432b2ed23f623c8c3031b2cba148bec93b</div><div id='time'> Time: 2020-10-01</div><div id='author'> Author: sven@anyscale.io</div><div id='file'> File Name: rllib/examples/policy/episode_env_aware_policy.py</div><div id='class'> Class Name: EpisodeEnvAwarePolicy</div><div id='method'> Method Name: compute_actions_from_input_dict</div><BR><BR><div id='link'><a href='https://github.com/d2l-ai/d2l-zh/commit/ef784a5b9046b1861de9d7ebba06e2d51a87c0cd#diff-7ac4dd745e963d58cecb23d997ff3ae77322d6d8393fb173cdfc2051f5f6f7c9L166' target='_blank'>Link</a></div><div id='project'> Project Name: d2l-ai/d2l-zh</div><div id='commit'> Commit Name: ef784a5b9046b1861de9d7ebba06e2d51a87c0cd</div><div id='time'> Time: 2018-08-28</div><div id='author'> Author: muli@cs.cmu.edu</div><div id='file'> File Name: gluonbook/utils.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_data_ch7</div><BR><BR><div id='link'><a href='https://github.com/chainer/chainercv/commit/f5ff0f5fb3933bb4e704ce7947e2bd5a99ef8358#diff-6e51fa6b7887bbd1c08b6a911d741d7487d6be387f9ce5deffa4f23cb9b70a41L34' target='_blank'>Link</a></div><div id='project'> Project Name: chainer/chainercv</div><div id='commit'> Commit Name: f5ff0f5fb3933bb4e704ce7947e2bd5a99ef8358</div><div id='time'> Time: 2018-05-02</div><div id='author'> Author: Hakuyume@users.noreply.github.com</div><div id='file'> File Name: tests/links_tests/model_tests/yolo_tests/test_yolo_base.py</div><div id='class'> Class Name: DummyYOLO</div><div id='method'> Method Name: _decode</div><BR><BR><div id='link'><a href='https://github.com/google/deepvariant/commit/bde9abbb18dcdf19b4c4d2a02ccd323f90ebd5d4#diff-2c2a0cd846c47f0815b25bde1a18951452697c8873836c0a7b5d6d6f95e8b180L1134' target='_blank'>Link</a></div><div id='project'> Project Name: google/deepvariant</div><div id='commit'> Commit Name: bde9abbb18dcdf19b4c4d2a02ccd323f90ebd5d4</div><div id='time'> Time: 2020-06-25</div><div id='author'> Author: sidharthgoel@google.com</div><div id='file'> File Name: deeptrio/make_examples.py</div><div id='class'> Class Name: RegionProcessor</div><div id='method'> Method Name: process</div><BR>