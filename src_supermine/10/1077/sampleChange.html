<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                swords = [ &quot &quot.join([vocab._id_to_token_map_py[i] for i in sent]) for sent in source ]
                dwords = [ &quot &quot.join([vocab._id_to_token_map_py[i] for i in sent]) for sent in dec_in ]
                twords = [ &quot &quot.join([vocab._id_to_token_map_py[i] for i in sent]) for sent in target ]
                <a id="change">if step &lt; 1000:
                    logging.info(&quotsource:{}&quot.format(source))
                    logging.info(&quotswords:{}&quot.format(swords))
                    logging.info(&quotdec_in:{}&quot.format(dec_in))
                    logging.info(&quotdwords:{}&quot.format(dwords))
                    logging.info(&quottarget:{}&quot.format(target))
                    logging.info(&quottwords:{}&quot.format(twords))
               </a> writer.add_summary(mgd, global_step=step)
                if step % 1000 == 0:
                    print(&quotstep:{} loss:{}&quot.format(step, loss))
                    saver.save(sess, logdir+&quotmy-model&quot, global_step=step)</code></pre><h3>After Change</h3><pre><code class='java'>
                    [encoder_input, decoder_input, labels, preds, train_op, global_step, mle_loss, merged],
                    feed_dict={context.is_train(): True})
                if step % 100 == 0:
                    <a id="change">logging.info(&quotstep:{} source:{} targets:{} loss:{}&quot.format(\
                        step, source.shape, target.shape, loss))</a>
                source, dec_in, target = source.tolist(), dec_in.tolist(), target.tolist()
                swords = [ &quot &quot.join([vocab._id_to_token_map_py[i] for i in sent]) for sent in source ]
                dwords = [ &quot &quot.join([vocab._id_to_token_map_py[i] for i in sent]) for sent in dec_in ]
                twords = [ &quot &quot.join([vocab._id_to_token_map_py[i] for i in sent]) for sent in target ]</code></pre>