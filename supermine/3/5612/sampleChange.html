<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        cnarr = cnarr.squash_genes()
    for row in cnarr:
        if row.start - 1 &gt;= 0 and row.end &lt;= chrom_sizes[row.chromosome]:  &#47&#47 Sanity check
            feat_name = <a id="change">row.gene if row.gene in gene_labels else None</a>
            features[row.chromosome].append(
                (row.start - 1, row.end, strand, feat_name,
                 colors.Color(*plots.cvg2rgb(row.log2, not cnarr_is_seg))))
    if do_both:</code></pre><h3>After Change</h3><pre><code class='java'>
    cnarr = cnarr.shift_xx(male_reference)
    if cnarr_is_seg:
        sel = cnarr.data[(cnarr.data.log2.abs() &gt;= threshold) &
                          ~<a id="change">cnarr.data.gene.isin(params.IGNORE_GENE_NAMES)</a>]
        gainloss = [(s.gene, s.chromosome, s.start, s.end, s.log2, s.probes)
                    <a id="change">for</a> s in sel.itertuples(index=False)]
    elif segarr:
        segarr = segarr.shift_xx(male_reference)
        gainloss = reports.gainloss_by_segment(cnarr, segarr, threshold)</code></pre>