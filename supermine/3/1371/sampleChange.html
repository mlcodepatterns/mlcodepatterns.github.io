<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            batch_memory.append(data)

        ISWeights = np.vstack(ISWeights)
        ISWeights = <a id="change">np.power(ISWeights, -self.beta) / maxiwi</a>  &#47&#47 normalize
        return batch_idx, np.vstack(batch_memory), ISWeights

    def update(self, idx, error):</code></pre><h3>After Change</h3><pre><code class='java'>
            v = np.random.uniform(a, b)
            idx, p, data = self.tree.get_leaf(v)
            prob = p / self.tree.total_p
            ISWeights[i, 0] = <a id="change">np.power(prob/min_prob, -self.beta)</a>
            b_idx[i], b_memory[i, :] = idx, data
        return b_idx, b_memory, ISWeights

    def batch_update(self, tree_idx, abs_errors):</code></pre>