<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    Xn = ( (X -cofx)/radius).ravel()
    Yn = ( (Y -cofx)/radius).ravel()
    k = (np.sqrt(Xn**2 + Yn**2) &lt;= 1.)
    frac_center = <a id="change">np.array(P[k], np.double)/img.sum()</a>
    Yn = Yn[k]
    Xn = Xn[k]
    frac_center = frac_center.ravel()
</code></pre><h3>After Change</h3><pre><code class='java'>
            if (n-l)%2 == 0:
                z = _slow_znl(Yn, Xn, frac_center, float(n), float(l))
                zvalues.append(abs(z))
    return <a id="change">np.array(zvalues)</a>

def test_zernike():
    A = (np.arange(256) % 14).reshape((16, 16))
    slow = _slow_zernike(A, 12, 8.)</code></pre>