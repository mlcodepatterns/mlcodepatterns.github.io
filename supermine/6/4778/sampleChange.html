<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
          knns_ind[layer][i, :] = query_res
        except:  &#47&#47 pylint: disable-msg=W0702
          knns_ind[layer][i, :len(query_res)] = query_res
          knn_errors += knns_ind[layer].shape[1] - <a id="change">len(query_res)</a>

      &#47&#47 Find labels of neighbors found in the training data.
      knns_labels[layer] = np.zeros((nb_data, self.neighbors), dtype=np.int32)
      for data_id in range(nb_data):</code></pre><h3>After Change</h3><pre><code class='java'>
        data_activations_layer, self.neighbors
      )

      <a id="change">d1 = neighbor_index.reshape(-1)</a>
      m1 = d1 == -1

      <a id="change">knns_ind[layer].reshape(-1)[
        numpy.logical_not(m1)
      ] = d1[
        numpy.logical_not(m1)
      ]</a>

      knn_erros = numpy.sum(m1)

      &#47&#47 Find labels of neighbors found in the training data.</code></pre>