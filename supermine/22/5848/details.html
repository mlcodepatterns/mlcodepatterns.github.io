<html><h3>7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0,examples/timedelay_conv_model.py,,,#,2
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

data_loader = DataLoader(from_csv=False, datapath=directory_path, time_delay=3)
dataset = data_loader.get_data()
<a id="change">labels = dataset.get_labels()</a>
<a id="change">images = dataset.get_images()</a>

if verbose:
    <a id="change">print(&quotraw image data shape: &quot + str(images.shape))</a>
label_count = len(labels[0])

print(&quotCreating training/testing data...&quot)
<a id="change">validation_split = 0.25</a>
<a id="change">X_train, X_test, y_train, y_test = train_test_split(images, labels,
                                                    test_size=validation_split, random_state=42, stratify=labels)</a>
train_gen = DataGenerator(time_delay=dataset.get_time_delay()).fit(X_train, y_train)
test_gen = DataGenerator(time_delay=dataset.get_time_delay()).fit(X_test, y_test)

print(&quotTraining net...&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
from src.dataloader import DataLoader
from src.neuralnets import TimeDelayConvNN

<a id="change">validation_split = 0.25</a>

target_dimensions = (64, 64)
channels = 1
verbose = True

print(&quot--------------- Time-Delay Convolutional Model -------------------&quot)
print(&quotLoading data...&quot)
directory_path = "image_data/sample_image_series_directory"
data_loader = DataLoader(from_csv=False, datapath=directory_path, validation_split=validation_split, time_delay=3)
<a id="change">dataset</a> = data_loader.load_data()

if verbose:
    <a id="change">dataset.print_data_details()</a>

print(&quotPreparing training/testing data...&quot)
<a id="change">train_images, train_labels = dataset.get_training_data()</a>
train_gen = DataGenerator(time_delay=dataset.get_time_delay()).fit(train_images, train_labels)
<a id="change">test_images, test_labels = dataset.get_test_data()</a>
test_gen = DataGenerator(time_delay=dataset.get_time_delay()).fit(test_images, test_labels)

print(&quotTraining net...&quot)
model = TimeDelayConvNN(target_dimensions, channels, emotion_map=dataset.get_emotion_index_map(), time_delay=dataset.get_time_delay())</code></pre><img src="24285314.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 17</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/thoughtworksarts/EmoPy/commit/7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0#diff-d6e61b85eb714ffb73e54ff49fb8cab0bf43187c535ba0922e243c15c405924eL7' target='_blank'>Link</a></div><div id='project'> Project Name: thoughtworksarts/EmoPy</div><div id='commit'> Commit Name: 7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: angelica.perez37@gmail.com</div><div id='file'> File Name: examples/timedelay_conv_model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/thoughtworksarts/EmoPy/commit/7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0#diff-4a52fc160739f6a29370a2613b68696e0f4d7d41dd89026ad96d64a08797a207L7' target='_blank'>Link</a></div><div id='project'> Project Name: thoughtworksarts/EmoPy</div><div id='commit'> Commit Name: 7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: angelica.perez37@gmail.com</div><div id='file'> File Name: examples/convolutional_lstm_model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/thoughtworksarts/EmoPy/commit/7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0#diff-c4c44346344579b2af745d2e70f32ab74cfd80a5b2a289d99fe9439a33ed7ee7L11' target='_blank'>Link</a></div><div id='project'> Project Name: thoughtworksarts/EmoPy</div><div id='commit'> Commit Name: 7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: angelica.perez37@gmail.com</div><div id='file'> File Name: examples/transferlearning_model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/thoughtworksarts/EmoPy/commit/7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0#diff-cb3809abb78287fa8597abd877d4c0f541c64570a7e9ce62fc4887d0ab99eb61L7' target='_blank'>Link</a></div><div id='project'> Project Name: thoughtworksarts/EmoPy</div><div id='commit'> Commit Name: 7b6fd231d17cd1fd88c1fc163a33f1049d63e7b0</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: angelica.perez37@gmail.com</div><div id='file'> File Name: examples/convolutional_model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>