<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    t_max=t_max, plot=plot_optimal_t, ax=ax)
            else:
                t = self.t
            <a id="change">tasklogger.log_start("diffusion potential")</a>
            &#47&#47 diffused diffusion operator
            diff_op_t = np.linalg.matrix_power(self.diff_op, t)
            if self.gamma == 1:
                &#47&#47 handling small values
                diff_op_t = diff_op_t + 1e-7
                self._diff_potential = -1 * np.log(diff_op_t)
            elif self.gamma == -1:
                self._diff_potential = diff_op_t
            else:
                c = (1 - self.gamma) / 2
                self._diff_potential = ((diff_op_t)**c) / c
            <a id="change">tasklogger.log_complete("diffusion potential")</a>
        elif plot_optimal_t:
            self._find_optimal_t(t_max=t_max, plot=plot_optimal_t, ax=ax)

        return self._diff_potential</code></pre><h3>After Change</h3><pre><code class='java'>
                    t_max=t_max, plot=plot_optimal_t, ax=ax)
            else:
                t = self.t
            <a id="change">with _logger.task(&quotdiffusion potential&quot):
                &#47&#47 diffused diffusion operator
                diff_op_t = np.linalg.matrix_power(self.diff_op, t)
                if self.gamma == 1:
                    &#47&#47 handling small values
                    diff_op_t = diff_op_t + 1e-7
                    self._diff_potential = -1 * np.log(diff_op_t)
                elif self.gamma == -1:
                    self._diff_potential = diff_op_t
                else:
                    c = (1 - self.gamma) / 2
                    self._diff_potential = ((diff_op_t)**c) / c
       </a> elif plot_optimal_t:
            self._find_optimal_t(t_max=t_max, plot=plot_optimal_t, ax=ax)

        return self._diff_potential</code></pre>