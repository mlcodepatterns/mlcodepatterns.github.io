<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            shutil.rmtree(self.output_dir)
        os.makedirs(os.path.join(self.output_dir, self.package_path))

        <a id="change">for prefix, filenames in self.outputs.items():
            for filename in filenames:
                output_path = os.path.join(self.output_dir, prefix, filename)

                if filename == self.script_name:
                    content = self.source_content
                else:
                    template_filename = &quottest.py&quot if filename == self.test_name else filename
                    with open(os.path.join(&quottemplates&quot, template_filename), &quotr&quot) as f:
                        template = f.read()

                    content = template.format(**self.format_dict)

                with open(output_path, &quotw&quot) as f:
                    f.write(content)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>

        self.build_pipes()

        <a id="change">for pipe in self.pipes:
            pipe.run()
</a>
        &#47&#47 for prefix, filenames in self.outputs.items():
        &#47&#47     for filename in filenames:
        &#47&#47         output_path = os.path.join(self.output_dir, prefix, filename)
</code></pre>