<html><h3>d0c329325c37ce342f78f43fc8486b5aa0e87d72,core/tokenizer.py,,,#,19
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &quotJan&quot: 1, &quotFeb&quot: 1, &quotMar&quot: 1, &quotApr&quot: 1, &quotJun&quot: 1, &quotJul&quot: 1, &quotAug&quot: 1, &quotSep&quot: 1, &quotOct&quot: 1, &quotNov&quot: 1, &quotDec&quot: 1
}&quot&quot&quot
&#47&#47 Hey, it&quots reddit, better use lowercased list (and lowercase matched word later in code)
<a id="change">nonbreaking_prefixes = {
    &quota&quot: 1, &quotb&quot: 1, &quotc&quot: 1, &quotd&quot: 1, &quote&quot: 1, &quotf&quot: 1, &quotg&quot: 1, &quoth&quot: 1, &quoti&quot: 1, &quotj&quot: 1, &quotk&quot: 1, &quotl&quot: 1, &quotm&quot: 1, &quotn&quot: 1, &quoto&quot: 1, &quotp&quot: 1, &quotq&quot: 1, &quotr&quot: 1, &quots&quot: 1, &quott&quot: 1, &quotu&quot: 1, &quotv&quot: 1, &quotw&quot: 1, &quotx&quot: 1, &quoty&quot: 1, &quotz&quot: 1,
    &quotadj&quot: 1, &quotadm&quot: 1, &quotadv&quot: 1, &quotasst&quot: 1, &quotbart&quot: 1, &quotbldg&quot: 1, &quotbrig&quot: 1, &quotbros&quot: 1, &quotcapt&quot: 1, &quotcmdr&quot: 1, &quotcol&quot: 1, &quotcomdr&quot: 1, &quotcon&quot: 1, &quotcorp&quot: 1, &quotcpl&quot: 1, &quotdR&quot: 1, &quotdr&quot: 1, &quotdrs&quot: 1, &quotens&quot: 1,
    &quotgen&quot: 1, &quotgov&quot: 1, &quothon&quot: 1, &quothr&quot: 1, &quothosp&quot: 1, &quotinsp&quot: 1, &quotlt&quot: 1, &quotmm&quot: 1, &quotmr&quot: 1, &quotmrs&quot: 1, &quotms&quot: 1, &quotmaj&quot: 1, &quotmessrs&quot: 1, &quotmlle&quot: 1, &quotmme&quot: 1, &quotmsgr&quot: 1,
    &quotop&quot: 1, &quotord&quot: 1, &quotpfc&quot: 1, &quotph&quot: 1, &quotprof&quot: 1, &quotpvt&quot: 1, &quotrep&quot: 1, &quotreps&quot: 1, &quotres&quot: 1, &quotrt&quot: 1, &quotsen&quot: 1, &quotsens&quot: 1, &quotsfc&quot: 1, &quotsgt&quot: 1, &quotsr&quot: 1, &quotst&quot: 1, &quotsupt&quot: 1, &quotsurg&quot: 1,
    &quotvs&quot: 1, &quoti.e&quot: 1, &quotrev&quot: 1, &quote.g&quot: 1,
    &quotno&quot: 2, &quotnos&quot: 1, &quotnrt&quot: 2, &quotnr&quot: 1, &quotpp&quot: 2,
    &quotjan&quot: 1, &quotfeb&quot: 1, &quotmar&quot: 1, &quotapr&quot: 1, &quotjun&quot: 1, &quotjul&quot: 1, &quotaug&quot: 1, &quotsep&quot: 1, &quotoct&quot: 1, &quotnov&quot: 1, &quotdec&quot: 1
}</a>

&#47&#47 Load list of protected words/phrases (those will not be breaked)
protected_phrases = []
with open(preprocessing[&quotprotected_phrases_file&quot], &quotr&quot, encoding=&quotutf-8&quot) as protected_file:</code></pre><h3>After Change</h3><pre><code class='java'>
with open(preprocessing[&quotprotected_phrases_file&quot], &quotr&quot, encoding=&quotutf-8&quot) as protected_file:
    protected_phrases = list(filter(None, protected_file.read().split("\n")))
protected_phrases_regex = []
<a id="change">with open(preprocessing[&quotprotected_phrases_regex_file&quot], &quotr&quot, encoding=&quotutf-8&quot) as protected_file:
    protected_phrases_regex = list(filter(None, protected_file.read().split("\n")))


&#47&#47 Tokenize sentense
</a>def tokenize(sentence):
    &#47&#47 Remove special tokens
    sentence = re.sub(&quot&lt;unk&gt;|&lt;s&gt;|&lt;/s&gt;&quot, &quot&quot, sentence, flags=re.IGNORECASE)
</code></pre><img src="592969.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/daniel-kukiela/nmt-chatbot/commit/d0c329325c37ce342f78f43fc8486b5aa0e87d72#diff-9a964026fdbec0e2f77fdc0ac0e810c859ada71ae6f34ad834b43b296dd24c27L12' target='_blank'>Link</a></div><div id='project'> Project Name: daniel-kukiela/nmt-chatbot</div><div id='commit'> Commit Name: d0c329325c37ce342f78f43fc8486b5aa0e87d72</div><div id='time'> Time: 2017-11-22</div><div id='author'> Author: daniel@kukiela.pl</div><div id='file'> File Name: core/tokenizer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/estnltk/estnltk/commit/70241c951da537919f8203e4bb5c8ae1123aeb2f#diff-85933aa74a2d66c3e4dcdf7a9ad8397f5a7971080d34ef1108296a7c6b69e7e3L22' target='_blank'>Link</a></div><div id='project'> Project Name: estnltk/estnltk</div><div id='commit'> Commit Name: 70241c951da537919f8203e4bb5c8ae1123aeb2f</div><div id='time'> Time: 2016-11-15</div><div id='author'> Author: u.raudvere@gmail.com</div><div id='file'> File Name: docs/conf.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/UFAL-DSG/tgen/commit/e4eac21828a6b9037d314266908f4ba083b1940e#diff-2b23def1076a1f2592d10b040f8722adea9c60f8fc9054509341a803c97383b7L72' target='_blank'>Link</a></div><div id='project'> Project Name: UFAL-DSG/tgen</div><div id='commit'> Commit Name: e4eac21828a6b9037d314266908f4ba083b1940e</div><div id='time'> Time: 2015-12-15</div><div id='author'> Author: odusek@ufal.mff.cuni.cz</div><div id='file'> File Name: tgen/parallel_percrank_train.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: dump_ranker</div><BR>