<html><h3>9c158b87f5fb2dca1ed95884e667ab2fc218e1b7,dragonn/models.py,SequenceDNN,deeplift,#SequenceDNN#,175
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        Returns (num_task, num_samples, 1, num_bases, sequence_length) deeplift score array.
        
        if <a id="change">sys.version_info[0]</a> != 2:
            raise RuntimeError("DeepLIFT requires Python2!")
        assert len(np.shape(X)) == 4 and np.shape(X)[1] == 1
        from deeplift.conversion import keras_conversion as kc</code></pre><h3>After Change</h3><pre><code class='java'>
        score_func = deeplift_model.get_target_contribs_func(
            find_scores_layer_idx=0)
        &#47&#47 use a 40% GC reference
        <a id="change">input_references = [np.array([0.3, 0.2, 0.2, 0.3])[None, None, :, None]]</a>
        &#47&#47 get deeplift scores
        deeplift_scores = np.zeros((self.num_tasks,) + X.shape)
        for i in range(self.num_tasks):
            <a id="change">deeplift_scores[i] = score_func(
                task_idx=i,
                input_data_list=[X],
                batch_size=batch_size,
                progress_update=None,
                input_references_list=input_references)</a>
        return deeplift_scores

    def in_silico_mutagenesis(self, X):
        </code></pre><img src="18802430.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/kundajelab/dragonn/commit/9c158b87f5fb2dca1ed95884e667ab2fc218e1b7#diff-32db8bda9df10bc3308a4865e580e4a515df7f617a43468aea7006a6f81a7fa4L175' target='_blank'>Link</a></div><div id='project'> Project Name: kundajelab/dragonn</div><div id='commit'> Commit Name: 9c158b87f5fb2dca1ed95884e667ab2fc218e1b7</div><div id='time'> Time: 2017-05-01</div><div id='author'> Author: jisraeli@stanford.edu</div><div id='file'> File Name: dragonn/models.py</div><div id='class'> Class Name: SequenceDNN</div><div id='method'> Method Name: deeplift</div><BR><BR><div id='link'><a href='https://github.com/HazyResearch/fonduer/commit/0110937ab04f4298f98963bed1de08962d776b24#diff-0c785e8f4024f6d1d130d6b0b9b59af850e9d7d3a6cec8d4642f81bf54c1b510L179' target='_blank'>Link</a></div><div id='project'> Project Name: HazyResearch/fonduer</div><div id='commit'> Commit Name: 0110937ab04f4298f98963bed1de08962d776b24</div><div id='time'> Time: 2020-07-01</div><div id='author'> Author: wajdikhattel@think-it.io</div><div id='file'> File Name: src/fonduer/utils/data_model_utils/structural.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: common_ancestor</div><BR><BR><div id='link'><a href='https://github.com/HazyResearch/fonduer/commit/0110937ab04f4298f98963bed1de08962d776b24#diff-0c785e8f4024f6d1d130d6b0b9b59af850e9d7d3a6cec8d4642f81bf54c1b510L208' target='_blank'>Link</a></div><div id='project'> Project Name: HazyResearch/fonduer</div><div id='commit'> Commit Name: 0110937ab04f4298f98963bed1de08962d776b24</div><div id='time'> Time: 2020-07-01</div><div id='author'> Author: wajdikhattel@think-it.io</div><div id='file'> File Name: src/fonduer/utils/data_model_utils/structural.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: lowest_common_ancestor_depth</div><BR>