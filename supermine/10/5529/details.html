<html><h3>1cf4c73059ba4435f37a93a316edbd426263cbf0,pytorch2keras/converter.py,,pytorch_to_keras,#,141
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if node_input.node().scopeName():
                node_input_names.append(get_node_id(node_input.node()))

        <a id="change">if len(node_input_names) == 0:
            if len(node_inputs) &gt; 0:
                if node_inputs[0] in model_inputs:
                    node_input_names.append(model_inputs[node_inputs[0]])
                else:
                    input_name = &quotinput{0}&quot.format(input_index)
                    if input_name not in layers:
                        continue
                    node_input_names.append(input_name)
                    input_index += 1
                    model_inputs[node_inputs[0]] = input_name

       </a> node_type = node.kind()
        &#47&#47 print(dir(node))

        node_scope_name = node.scopeName()</code></pre><h3>After Change</h3><pre><code class='java'>
    print(&quotGraph outputs:&quot, graph_outputs)


    graph_inputs = [n.uniqueName() <a id="change">for</a> n in trace.graph().inputs()]
    print(&quotGraph inputs:&quot, graph_inputs)

    &#47&#47 Collect model state dict
    state_dict = _unique_state_dict(model)
    if verbose:
        print(&quotState dict:&quot, list(state_dict))

    import re
    import keras
    from keras import backend as K
    K.set_image_data_format(&quotchannels_first&quot)

    layers = dict()
    keras_inputs = []
    for i in range(len(args)):
        layers[&quotinput{0}&quot.format(i)] = keras.layers.InputLayer(
            input_shape=input_shapes[i], name=&quotinput{0}&quot.format(i)
        ).output
        keras_inputs.append(layers[&quotinput{0}&quot.format(i)])

    outputs = []

    input_index = 0
    <a id="change">model_inputs = [&quotinput&quot + i for i in graph_inputs]</a>

    for node in nodes:
        node_inputs = list(node.inputs())
        &#47&#47 print(node_inputs, model_inputs)</code></pre><img src="23572327.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nerox8664/pytorch2keras/commit/1cf4c73059ba4435f37a93a316edbd426263cbf0#diff-493a5e63f976397ce99961a7d8a50bacdef08087997a9d7fd43c8a6ab6f5c758L244' target='_blank'>Link</a></div><div id='project'> Project Name: nerox8664/pytorch2keras</div><div id='commit'> Commit Name: 1cf4c73059ba4435f37a93a316edbd426263cbf0</div><div id='time'> Time: 2018-12-20</div><div id='author'> Author: nerox8664@gmail.com</div><div id='file'> File Name: pytorch2keras/converter.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: pytorch_to_keras</div><BR><BR><div id='link'><a href='https://github.com/pytorch/tutorials/commit/a61996ae5406ddfee4ac65ab647ebe858fc16260#diff-ac8c33f7f434713f5870ff7c602e80620c1d0d8b8631edb84c0e5c2ed03ec384L1286' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/tutorials</div><div id='commit'> Commit Name: a61996ae5406ddfee4ac65ab647ebe858fc16260</div><div id='time'> Time: 2018-09-17</div><div id='author'> Author: matthewinkawhich@gmail.com</div><div id='file'> File Name: beginner_source/chatbot_tutorial.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: evaluateInput</div><BR><BR><div id='link'><a href='https://github.com/pytorch/tutorials/commit/69d978ed497856d05730c05564597e604713f5c4#diff-ac8c33f7f434713f5870ff7c602e80620c1d0d8b8631edb84c0e5c2ed03ec384L1286' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/tutorials</div><div id='commit'> Commit Name: 69d978ed497856d05730c05564597e604713f5c4</div><div id='time'> Time: 2018-09-16</div><div id='author'> Author: minkawhich@fb.com</div><div id='file'> File Name: beginner_source/chatbot_tutorial.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: evaluateInput</div><BR>