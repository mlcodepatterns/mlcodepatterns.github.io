<html><h3>31bfc7c1ce9dac771dbd5e2edf2d5e789d8b1aaa,evaluate.py,,from_pipe,#,18
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                        error = (str(err) + ("\n\nMoviePy error: FFMPEG encountered "
                                             "the following error while writing file:"
                                             "\n\n %s" % ffmpeg_error))
                        <a id="change">pipe_out.stdin.close()</a>
                        pipe_in.stdout.close()
                        pipe_out.terminate()
                        pipe_in.terminate()
                        del pipe_in</code></pre><h3>After Change</h3><pre><code class='java'>
                if len(raw_image) != nbytes:
                    last = True
                    X = X[:count]
                    <a id="change">batch_shape = (count, height, width, 3)</a>
                    img_placeholder = tf.placeholder(tf.float32, shape=batch_shape,
                                                     name=&quotimg_placeholder&quot)
                    <a id="change">preds = transform.net(img_placeholder)</a>
                    break

                image = numpy.fromstring(raw_image, dtype=&quotuint8&quot)
                image = image.reshape((height, width, 3))
                X[count] = image
                count += 1

            if read_input:
                if last:
                    read_input = False
                _preds = sess.run(preds, feed_dict={img_placeholder: X})

                for i in range(0, <a id="change">batch_shape[0]</a>):
                    img = np.clip(_preds[i], 0, 255).astype(np.uint8)
                    try:
                        pipe_out.stdin.write(img)</code></pre><img src="39148830.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lengstrom/fast-style-transfer/commit/31bfc7c1ce9dac771dbd5e2edf2d5e789d8b1aaa#diff-24edcdcba3747a424b769b374189e8346f6c2f7bdb1e16d2d9ffbe9b926d45a7L26' target='_blank'>Link</a></div><div id='project'> Project Name: lengstrom/fast-style-transfer</div><div id='commit'> Commit Name: 31bfc7c1ce9dac771dbd5e2edf2d5e789d8b1aaa</div><div id='time'> Time: 2016-12-23</div><div id='author'> Author: jonathan.e.m.bocker@gmail.com</div><div id='file'> File Name: evaluate.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: from_pipe</div><BR><BR><div id='link'><a href='https://github.com/THUNLP-MT/THUMT/commit/6880ee0c2c46573cfc77444e2970aa8695140076#diff-20fa116de4376b3137dfa6679ac073318f19f65f1cad05cabcd4925de27fb9fcL27' target='_blank'>Link</a></div><div id='project'> Project Name: THUNLP-MT/THUMT</div><div id='commit'> Commit Name: 6880ee0c2c46573cfc77444e2970aa8695140076</div><div id='time'> Time: 2019-02-14</div><div id='author'> Author: playinf@stu.xmu.edu.cn</div><div id='file'> File Name: thumt/scripts/shuffle_corpus.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: main</div><BR><BR><div id='link'><a href='https://github.com/richzhang/colorization-pytorch/commit/1215d2390c0ef900337366e7a89e8d21e4bfd592#diff-0c577a28583f5420e28f144b5818c2812b81111d43a328ba7e586e9e1bf697b0L28' target='_blank'>Link</a></div><div id='project'> Project Name: richzhang/colorization-pytorch</div><div id='commit'> Commit Name: 1215d2390c0ef900337366e7a89e8d21e4bfd592</div><div id='time'> Time: 2018-08-25</div><div id='author'> Author: rzhang88@gmail.com</div><div id='file'> File Name: test_sweep.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>