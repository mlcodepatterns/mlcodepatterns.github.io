<html><h3>c343409098b4f4b8396119d9f26e040e479a0e2b,labs/08/speech_recognition_eval.py,,,#,18
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
args = parser.parse_args()

with open(args.system, "r", encoding="utf-8") as system_file:
    <a id="change">system = [line.rstrip("\n") for line in system_file]</a>

with open(args.gold, "r", encoding="utf-8") as gold_file:
    gold = [line.rstrip("\n") for line in gold_file]
</code></pre><h3>After Change</h3><pre><code class='java'>
            )
    return a[-1][-1]

<a id="change">if __name__ == "__main__":
    &#47&#47 Parse arguments
    parser = argparse.ArgumentParser()
    parser.add_argument("predictions", type=str, help="Path to predicted output.")
    parser.add_argument("dataset", type=str, help="Which dataset to evaluate (&quotdev&quot, &quottest&quot).")
    args = parser.parse_args([] if "__file__" not in globals() else None)

    gold = getattr(TimitMFCC(), args.dataset).data["letters"]

    with open(args.predictions, "r", encoding="utf-8") as predictions_file:
        predictions = [line.rstrip("\n") for line in predictions_file]

    if len(predictions) &lt; len(gold):
        raise RuntimeError("The predictions are shorter than gold data: {} vs {}.".format(len(predictions), len(gold)))

    score = 0
    for i in range(len(gold)):
        gold_sentence = [TimitMFCC.LETTERS[letter] for letter in gold[i]]
        predicted_sentence = predictions[i].split(" ")
        score += edit_distance(gold_sentence, predicted_sentence) / len(gold_sentence)

    print("Average normalized edit distance: {:.2f}%".format(100 * score / len(gold)))</a>
</code></pre><img src="19817726.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ufal/npfl114/commit/c343409098b4f4b8396119d9f26e040e479a0e2b#diff-94d40439703e58f8185b11815ecf2316af953fb40679a728e28f388b7e618db8L18' target='_blank'>Link</a></div><div id='project'> Project Name: ufal/npfl114</div><div id='commit'> Commit Name: c343409098b4f4b8396119d9f26e040e479a0e2b</div><div id='time'> Time: 2020-04-20</div><div id='author'> Author: milan@strakovi.com</div><div id='file'> File Name: labs/08/speech_recognition_eval.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/metalbubble/moments_models/commit/5212f598c3d65670a0399afe0a7434e91a5556aa#diff-fa16e16954ea3c9cac606d42eb4ee7b49f5ff1431e2e851a95b9c8f11087d2eaL47' target='_blank'>Link</a></div><div id='project'> Project Name: metalbubble/moments_models</div><div id='commit'> Commit Name: 5212f598c3d65670a0399afe0a7434e91a5556aa</div><div id='time'> Time: 2018-01-15</div><div id='author'> Author: alexandonian@gmail.com</div><div id='file'> File Name: test_model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/has2k1/plotnine/commit/26e44fb488bd8ab2c504f39e2ca0eeba93329763#diff-6e1c1b32da3f84e1c387b7f9507195377bbd245a3771a554aeb517584be56631L102' target='_blank'>Link</a></div><div id='project'> Project Name: has2k1/plotnine</div><div id='commit'> Commit Name: 26e44fb488bd8ab2c504f39e2ca0eeba93329763</div><div id='time'> Time: 2020-10-06</div><div id='author'> Author: has2k1@gmail.com</div><div id='file'> File Name: plotnine/geoms/geom_map.py</div><div id='class'> Class Name: geom_map</div><div id='method'> Method Name: draw_panel</div><BR>