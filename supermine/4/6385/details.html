<html><h3>cc42dfa0e2808a96e9022fac7da980fad13d124a,tpot/builtins/stacking_estimator.py,StackingEstimator,transform,#StackingEstimator#,70
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        X_transformed = np.copy(X)
        &#47&#47 add class probabilities as a synthetic feature
        if issubclass(self.estimator.__class__, ClassifierMixin) and hasattr(self.estimator, &quotpredict_proba&quot):
            X_transformed = <a id="change">np.hstack((self.estimator.predict_proba(X), X))</a>

        &#47&#47 add class prodiction as a synthetic feature
        X_transformed = np.hstack((np.reshape(self.estimator.predict(X), (-1, 1)), X_transformed))
</code></pre><h3>After Change</h3><pre><code class='java'>
        if issubclass(self.estimator.__class__, ClassifierMixin) and hasattr(self.estimator, &quotpredict_proba&quot):
            y_pred_proba = self.estimator.predict_proba(X)
            &#47&#47 check all values that should be not infinity or not NAN
            <a id="change">if np.all(np.isfinite(y_pred_proba)):
                X_transformed = np.hstack((y_pred_proba, X))

        &#47&#47 add class prodiction as a synthetic feature
       </a> X_transformed = np.hstack((np.reshape(self.estimator.predict(X), (-1, 1)), X_transformed))

        return X_transformed
</code></pre><img src="25580382.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/EpistasisLab/tpot/commit/cc42dfa0e2808a96e9022fac7da980fad13d124a#diff-8989f476d7ac00c8722464d7258e3be5c015453ea1a2806e6912d559f622389fL83' target='_blank'>Link</a></div><div id='project'> Project Name: EpistasisLab/tpot</div><div id='commit'> Commit Name: cc42dfa0e2808a96e9022fac7da980fad13d124a</div><div id='time'> Time: 2019-11-05</div><div id='author'> Author: weixuanf@pennmedicine.upenn.edu</div><div id='file'> File Name: tpot/builtins/stacking_estimator.py</div><div id='class'> Class Name: StackingEstimator</div><div id='method'> Method Name: transform</div><BR><BR><div id='link'><a href='https://github.com/utiasSTARS/liegroups/commit/784586f02d063d39360a287422a6384f30f10d12#diff-ccc16ee38df5a402e0629acb9b8a425cf4a23d88ce6964decfdffae6ecbbe688L71' target='_blank'>Link</a></div><div id='project'> Project Name: utiasSTARS/liegroups</div><div id='commit'> Commit Name: 784586f02d063d39360a287422a6384f30f10d12</div><div id='time'> Time: 2017-01-30</div><div id='author'> Author: clement.leopold@gmail.com</div><div id='file'> File Name: liegroups/se2.py</div><div id='class'> Class Name: SE2</div><div id='method'> Method Name: vee</div><BR><BR><div id='link'><a href='https://github.com/utiasSTARS/liegroups/commit/784586f02d063d39360a287422a6384f30f10d12#diff-daeb16847a4515f22b7440cee4b42272a8506db0f24cbac5ab9ee347919454bdL92' target='_blank'>Link</a></div><div id='project'> Project Name: utiasSTARS/liegroups</div><div id='commit'> Commit Name: 784586f02d063d39360a287422a6384f30f10d12</div><div id='time'> Time: 2017-01-30</div><div id='author'> Author: clement.leopold@gmail.com</div><div id='file'> File Name: liegroups/se3.py</div><div id='class'> Class Name: SE3</div><div id='method'> Method Name: vee</div><BR>