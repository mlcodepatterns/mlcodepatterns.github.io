<html><h3>0cfe82c6beb9a28a5ff7da81b86fa0e93c388f14,tasks/save_reload_model.py,,,#,10
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
if os.path.exists(&quottcn.npz&quot):
    &#47&#47 Load checkpoint if file exists.
    w = np.load(&quottcn.npz&quot, allow_pickle=True)[&quotw&quot]
    <a id="change">print(&quotModel reloaded.&quot)</a>
    model.set_weights(w.tolist())
else:
    &#47&#47 Save the checkpoint.
    w = np.array(model.get_weights())</code></pre><h3>After Change</h3><pre><code class='java'>

&#47&#47 get model as json string and save to file
model_as_json = model.to_json()
with <a id="change">open(r&quotmodel.json&quot, "w")</a> as json_file:
    json_file.write(model_as_json)
&#47&#47 save weights to file (for this format, need h5py installed)
model.save_weights(&quotweights.h5&quot)</code></pre><img src="19595018.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/philipperemy/keras-tcn/commit/0cfe82c6beb9a28a5ff7da81b86fa0e93c388f14#diff-a1a14690bd4d0db68da6b27026209aa1ee45066f7ce9125d736e3b406d0059ceL8' target='_blank'>Link</a></div><div id='project'> Project Name: philipperemy/keras-tcn</div><div id='commit'> Commit Name: 0cfe82c6beb9a28a5ff7da81b86fa0e93c388f14</div><div id='time'> Time: 2019-11-20</div><div id='author'> Author: premy@cogent.co.jp</div><div id='file'> File Name: tasks/save_reload_model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/jadore801120/attention-is-all-you-need-pytorch/commit/d5ca7331d0fec71a409e4df2629eda0e632640a6#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L276' target='_blank'>Link</a></div><div id='project'> Project Name: jadore801120/attention-is-all-you-need-pytorch</div><div id='commit'> Commit Name: d5ca7331d0fec71a409e4df2629eda0e632640a6</div><div id='time'> Time: 2019-12-08</div><div id='author'> Author: jadore801120@gmail.com</div><div id='file'> File Name: train.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: prepare_dataloaders_from_bpe_files</div><BR><BR><div id='link'><a href='https://github.com/nipy/dipy/commit/5b0238d247d238b768a5729dd7a5fda931bf2fb1#diff-6d4156a9847beff08703257d1c8b369d3870302cfbb9f9e1240fa170d7595bafL29' target='_blank'>Link</a></div><div id='project'> Project Name: nipy/dipy</div><div id='commit'> Commit Name: 5b0238d247d238b768a5729dd7a5fda931bf2fb1</div><div id='time'> Time: 2020-10-17</div><div id='author'> Author: skab12@gmail.com</div><div id='file'> File Name: dipy/io/tests/test_io_gradients.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_read_bvals_bvecs</div><BR>