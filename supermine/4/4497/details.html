<html><h3>be59363ec171475fe839cd8d903b9eb8d92856ae,thumt/models/seq2seq.py,,model_graph,#,15
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        logits = layers.nn.linear(outputs[:, -1, :], tgt_vocab_size, True,
                                  scope="softmax")

        <a id="change">return logits</a>

    &#47&#47 Prediction
    logits = layers.nn.linear(outputs, tgt_vocab_size, True, scope="softmax")
    logits = tf.reshape(logits, [-1, tgt_vocab_size])</code></pre><h3>After Change</h3><pre><code class='java'>
        logits = layers.nn.linear(outputs[:, -1, :], tgt_vocab_size, True,
                                  scope="softmax")

        <a id="change">return tf.nn.log_softmax(logits)</a>

    &#47&#47 Prediction
    logits = layers.nn.linear(outputs, tgt_vocab_size, True, scope="softmax")
    logits = tf.reshape(logits, [-1, tgt_vocab_size])</code></pre><img src="19516443.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/THUNLP-MT/THUMT/commit/be59363ec171475fe839cd8d903b9eb8d92856ae#diff-d0f5e50648e2ab4c5b8d47360fba183cbede4f4d8ee1fbe9ebc3b84a6594bcbfL102' target='_blank'>Link</a></div><div id='project'> Project Name: THUNLP-MT/THUMT</div><div id='commit'> Commit Name: be59363ec171475fe839cd8d903b9eb8d92856ae</div><div id='time'> Time: 2018-02-25</div><div id='author'> Author: playinf@stu.xmu.edu.cn</div><div id='file'> File Name: thumt/models/seq2seq.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: model_graph</div><BR><BR><div id='link'><a href='https://github.com/mapbox/robosat/commit/c738a069948a773d7e0cd9e0f4e68e0ac5fbc3a2#diff-37bd56cee83bc0214539d241da6cef891c4844057a7a8e19a83b531c4a7b7475L75' target='_blank'>Link</a></div><div id='project'> Project Name: mapbox/robosat</div><div id='commit'> Commit Name: c738a069948a773d7e0cd9e0f4e68e0ac5fbc3a2</div><div id='time'> Time: 2018-10-02</div><div id='author'> Author: o@courtin.co</div><div id='file'> File Name: robosat/losses.py</div><div id='class'> Class Name: mIoULoss2d</div><div id='method'> Method Name: forward</div><BR><BR><div id='link'><a href='https://github.com/THUNLP-MT/THUMT/commit/be59363ec171475fe839cd8d903b9eb8d92856ae#diff-d2f7cdab2ab1ebf076bfc33d519688545b1f287f44ec5e7af3bab7abbe1a4b1dL289' target='_blank'>Link</a></div><div id='project'> Project Name: THUNLP-MT/THUMT</div><div id='commit'> Commit Name: be59363ec171475fe839cd8d903b9eb8d92856ae</div><div id='time'> Time: 2018-02-25</div><div id='author'> Author: playinf@stu.xmu.edu.cn</div><div id='file'> File Name: thumt/models/rnnsearch.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: model_graph</div><BR><BR><div id='link'><a href='https://github.com/THUNLP-MT/THUMT/commit/be59363ec171475fe839cd8d903b9eb8d92856ae#diff-5dcdecd6236000bcec4764ff37e6c0f85dd6e4022d1f4aa31683a805c4495db5L217' target='_blank'>Link</a></div><div id='project'> Project Name: THUNLP-MT/THUMT</div><div id='commit'> Commit Name: be59363ec171475fe839cd8d903b9eb8d92856ae</div><div id='time'> Time: 2018-02-25</div><div id='author'> Author: playinf@stu.xmu.edu.cn</div><div id='file'> File Name: thumt/models/transformer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: model_graph</div><BR>