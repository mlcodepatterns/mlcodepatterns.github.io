<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
  global _SCM
  if not _SCM:
    &#47&#47 We know about git, so attempt an auto-configure
    git_dir = <a id="change">os.path.join(get_buildroot(), &quot.git&quot)</a>
    if os.path.isdir(git_dir):
      from pants.scm.git import Git
      git = Git(worktree=get_buildroot())
      try:</code></pre><h3>After Change</h3><pre><code class='java'>
    if worktree and os.path.isdir(worktree):
      git = Git(worktree=worktree)
      try:
        log.info(&quotDetected git repository at %s on branch %s&quot % <a id="change">(worktree, git.branch_name)</a>)
        set_scm(git)
      except git.LocalException as e:
        log.info(&quotFailed to load git repository at %s: %s&quot % (worktree, e))</code></pre>