<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    with distributed_utils.override_print(suppress_output, print_prefix):
        &#47&#47 perform distributed setup, ensuring all hosts are ready
        <a id="change">torch.cuda.set_device(opt[&quotgpu&quot])</a>
        dist.init_process_group(
            backend="nccl",
            init_method="tcp://{}:{}".format(hostname, port),
            world_size=opt[&quotdistributed_world_size&quot],</code></pre><h3>After Change</h3><pre><code class='java'>

    with distributed_utils.override_print(suppress_output, print_prefix):
        &#47&#47 perform distributed setup, ensuring all hosts are ready
        <a id="change">if opt[&quotgpu&quot] != -1:
            torch.cuda.set_device(opt[&quotgpu&quot])
       </a> dist.init_process_group(
            backend="nccl",
            init_method="tcp://{}:{}".format(hostname, port),
            world_size=opt[&quotdistributed_world_size&quot],</code></pre>