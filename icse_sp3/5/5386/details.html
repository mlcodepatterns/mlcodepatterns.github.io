<html><h3>791aee867bb9fdc51756074e2f2117c11c843fde,rasa/shared/nlu/training_data/formats/readerwriter.py,TrainingDataWriter,generate_message,#Any#,75
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 format (e.g. `/greet{"name": "Rasa"}) and we don&quott have to add the NLU
        &#47&#47 entity annotation
        if not text.startswith(INTENT_MESSAGE_PREFIX):
            entities = <a id="change">sorted(message.get("entities", []), key=lambda k: k["start"])</a>

            for entity in entities:
                md += text[pos : entity["start"]]
                md += TrainingDataWriter.generate_entity(text, entity)</code></pre><h3>After Change</h3><pre><code class='java'>
            entities_with_start_and_end = [
                e for e in entities if "start" in e and "end" in e
            ]
            sorted_entities = <a id="change">sorted(
                entities_with_start_and_end, key=operator.itemgetter("start")
            )</a>

            <a id="change">for entity in sorted_entities:
                md += text[pos : entity["start"]]
                md += TrainingDataWriter.generate_entity(text, entity)
                pos = entity["end"]

       </a> md += text[pos:]

        return md
</code></pre><img src="35671382.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/RasaHQ/rasa/commit/791aee867bb9fdc51756074e2f2117c11c843fde#diff-cd73e9fa63d1bf46bf4e4ce0c49e5f063894ddd9c6ad227a1ce06ff16f839d97L88' target='_blank'>Link</a></div><div id='project'> Project Name: RasaHQ/rasa</div><div id='commit'> Commit Name: 791aee867bb9fdc51756074e2f2117c11c843fde</div><div id='time'> Time: 2021-03-25</div><div id='author'> Author: joejuzl@gmail.com</div><div id='file'> File Name: rasa/shared/nlu/training_data/formats/readerwriter.py</div><div id='class'> Class Name: TrainingDataWriter</div><div id='method'> Method Name: generate_message</div><BR><BR><div id='link'><a href='https://github.com/RasaHQ/rasa/commit/74ce55924e820be3cd81fcc105ed4ba6b7225df4#diff-cd73e9fa63d1bf46bf4e4ce0c49e5f063894ddd9c6ad227a1ce06ff16f839d97L93' target='_blank'>Link</a></div><div id='project'> Project Name: RasaHQ/rasa</div><div id='commit'> Commit Name: 74ce55924e820be3cd81fcc105ed4ba6b7225df4</div><div id='time'> Time: 2021-03-25</div><div id='author'> Author: joejuzl@gmail.com</div><div id='file'> File Name: rasa/shared/nlu/training_data/formats/readerwriter.py</div><div id='class'> Class Name: TrainingDataWriter</div><div id='method'> Method Name: generate_message</div><BR><BR><div id='link'><a href='https://github.com/WheatonCS/Lexos/commit/ce6ff9a4ccff73a6d7c4392d29e48914347983a0#diff-084ee75e57e6ff17ffdfa8cd5e83895e1da1bfcea8982d9e5fcaf2b502065c37L311' target='_blank'>Link</a></div><div id='project'> Project Name: WheatonCS/Lexos</div><div id='commit'> Commit Name: ce6ff9a4ccff73a6d7c4392d29e48914347983a0</div><div id='time'> Time: 2016-05-26</div><div id='author'> Author: 13501393281@163.com</div><div id='file'> File Name: processors/analyze/topword.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: testgroup</div><BR>