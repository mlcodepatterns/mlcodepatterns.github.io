<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 send the query to the nominatim geocoder and parse the json response
    url_template = &quothttps://nominatim.openstreetmap.org/search?format=json&limit=1&q={}&quot
    url = url_template.format(query)
    response = <a id="change">requests.get(url, timeout=60)</a>
    <a id="change">results = response.json()</a>

    &#47&#47 if results were returned, parse lat and long out of the result
    if len(results) &gt; 0 and &quotlat&quot in results[0] and &quotlon&quot in results[0]:
        lat = float(results[0][&quotlat&quot])</code></pre><h3>After Change</h3><pre><code class='java'>
    

    &#47&#47 define the parameters
    <a id="change">params = OrderedDict()</a>
    params[&quotformat&quot] = &quotjson&quot
    params[&quotlimit&quot] = 1
    params[&quotdedupe&quot] = 0  &#47&#47 prevent OSM from deduping results so we get precisely &quotlimit&quot &#47&#47 of results
    params[&quotq&quot] = query</code></pre>