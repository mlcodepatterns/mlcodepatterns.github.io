<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.container_name)

    def _check_docker_installed(self):
        <a id="change">try:
            self.ssh_command_runner.run("command -v docker")
            return
        except Exception:
            install_commands = [
                "curl -fsSL https://get.docker.com -o get-docker.sh",
                "sudo sh get-docker.sh", "sudo usermod -aG docker $USER",
                "sudo systemctl restart docker -f"
            ]
            logger.error(
                "Docker not installed. You can install Docker by adding the "
                "following commands to &quotinitialization_commands&quot:\n" +
                "\n".join(install_commands))

   </a> def _shutdown_after_next_cmd(self):
        self.shutdown = True

    def _check_container_status(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        no_exist = "NoExist"
        output = self.ssh_command_runner.run(
            f"command -v docker || echo &quot{no_exist}&quot", with_output=True)
        cleaned_output = <a id="change">output.decode().strip()</a>
        <a id="change">if no_exist in cleaned_output or "docker" not in cleaned_output:
            install_commands = [
                "curl -fsSL https://get.docker.com -o get-docker.sh",
                "sudo sh get-docker.sh", "sudo usermod -aG docker $USER",
                "sudo systemctl restart docker -f"
            ]
            logger.error(
                "Docker not installed. You can install Docker by adding the "
                "following commands to &quotinitialization_commands&quot:\n" +
                "\n".join(install_commands))

   </a> def _shutdown_after_next_cmd(self):
        self.shutdown = True

    def _check_container_status(self):</code></pre>