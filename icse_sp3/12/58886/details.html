<html><h3>15e329a5882db608e49f26eded5014645efbac66,homeassistant/components/camera/__init__.py,,setup,#Any#Any#,42
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        handler.send_response(HTTP_OK)
        handler.write_content(response)

    <a id="change">hass.http.register_path(
        &quotGET&quot,
        re.compile(r&quot/api/camera_proxy/(?P&lt;entity_id&gt;[a-zA-Z\._0-9]+)&quot),
        _proxy_camera_image)</a>

    def _proxy_camera_mjpeg_stream(handler, path_match, data):
        Proxy the camera image as an mjpeg stream via the HA server.
        entity_id = path_match.group(ATTR_ENTITY_ID)
        camera = component.entities.get(entity_id)

        if camera is None:
            handler.send_response(HTTP_NOT_FOUND)
            handler.end_headers()
            return

        try:
            camera.is_streaming = True
            camera.update_ha_state()
            camera.mjpeg_stream(handler)

        except (requests.RequestException, IOError):
            camera.is_streaming = False
            camera.update_ha_state()

    <a id="change">hass.http.register_path(
        &quotGET&quot,
        re.compile(r&quot/api/camera_proxy_stream/(?P&lt;entity_id&gt;[a-zA-Z\._0-9]+)&quot),
        _proxy_camera_mjpeg_stream)</a>

    return True

</code></pre><h3>After Change</h3><pre><code class='java'>
        logging.getLogger(__name__), DOMAIN, hass, SCAN_INTERVAL,
        DISCOVERY_PLATFORMS)

    <a id="change">hass.wsgi.register_view(CameraImageView(hass, component.entities))</a>
    <a id="change">hass</a>.wsgi.register_view(CameraMjpegStream(hass, component.entities))

    component.setup(config)
</code></pre><img src="272855315.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/15e329a5882db608e49f26eded5014645efbac66#diff-75655c0eec1c3e736cad1bdb5627100a4595ece9accc391b5c85343bb998594fL43' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 15e329a5882db608e49f26eded5014645efbac66</div><div id='time'> Time: 2016-05-21</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: homeassistant/components/camera/__init__.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: setup</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/15e329a5882db608e49f26eded5014645efbac66#diff-9f3b44b42ad6dc28292d41c967b143e339e02a1287630056c954b01716a4dbfeL158' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 15e329a5882db608e49f26eded5014645efbac66</div><div id='time'> Time: 2016-05-21</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: homeassistant/components/history.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: setup</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/15e329a5882db608e49f26eded5014645efbac66#diff-75655c0eec1c3e736cad1bdb5627100a4595ece9accc391b5c85343bb998594fL43' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 15e329a5882db608e49f26eded5014645efbac66</div><div id='time'> Time: 2016-05-21</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: homeassistant/components/camera/__init__.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: setup</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/15e329a5882db608e49f26eded5014645efbac66#diff-1bc25b0eeaea615d24ee266bb2bd17c09d0413608e9b78ea2a719728a4d49106L246' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 15e329a5882db608e49f26eded5014645efbac66</div><div id='time'> Time: 2016-05-21</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: homeassistant/components/sensor/fitbit.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: setup_platform</div><BR>