<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 net.train()
        net.eval()
        <a id="change">net_params = filter(lambda p: p.requires_grad, net.parameters())</a>
        weight_count = 0
        <a id="change">for param in net_params:
            weight_count += np.prod(param.size())
       </a> assert (model != shufflenet_g1_w1 or weight_count == 1531936)
        assert (model != shufflenet_g2_w1 or weight_count == 1733848)
        assert (model != shufflenet_g3_w1 or weight_count == 1865728)
        assert (model != shufflenet_g4_w1 or weight_count == 1968344)</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 net.train()
        net.eval()
        weight_count = <a id="change">_calc_width(net)</a>
        <a id="change">print("m={}, {}".format(model.__name__, weight_count))</a>
        assert (model != shufflenet_g1_w1 or weight_count == 1531936)
        assert (model != shufflenet_g2_w1 or weight_count == 1733848)
        assert (model != shufflenet_g3_w1 or weight_count == 1865728)
        assert (model != shufflenet_g4_w1 or weight_count == 1968344)</code></pre>