<html><h3>04d0a9bbfc085d244ee5abed1e4591202a8bd4cb,web/minstServingHandler.py,,do_inference,#Any#Any#,130
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    print(host, port)

    &#47&#47 创建 python grpc 代码调用。
    channel = implementations.insecure_channel(host, <a id="change">int(port)</a>)
    <a id="change">stub = prediction_service_pb2.beta_create_PredictionService_stub(channel)</a>
    request = predict_pb2.PredictRequest()
    request.model_spec.name = &quotmnist&quot
    request.model_spec.signature_name = &quotpredict_images&quot
    &#47&#47 image, label = test_data_set.next_batch(1)</code></pre><h3>After Change</h3><pre><code class='java'>

    prediction = ""
    exception = result_future.exception()
    <a id="change">if exception:
        prediction = str(exception)
        print(exception)
    else:
        sys.stdout.write(&quot.&quot)
        sys.stdout.flush()
        response = numpy.array(
            result_future.result().outputs[&quotscores&quot].float_val)
        &#47&#47 print("response:\n",result_future.result())
        prediction = str(numpy.argmax(response))
   </a> print("&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47", prediction)
    return prediction
</code></pre><img src="268708896.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pythonstock/stock/commit/04d0a9bbfc085d244ee5abed1e4591202a8bd4cb#diff-2802e49d98ec665ef0084a365c4ae414542ab260b449b64885502fa3af71e00eL90' target='_blank'>Link</a></div><div id='project'> Project Name: pythonstock/stock</div><div id='commit'> Commit Name: 04d0a9bbfc085d244ee5abed1e4591202a8bd4cb</div><div id='time'> Time: 2017-10-26</div><div id='author'> Author: yhy</div><div id='file'> File Name: web/minstServingHandler.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: do_inference</div><BR><BR><div id='link'><a href='https://github.com/YerevaNN/mimic3-benchmarks/commit/ba4a47663778725cdb3aeb0d18777695b76fbacf#diff-aca223629cf54be0366ea177c5291235e31b196f8d076562363957e2f88a214bL122' target='_blank'>Link</a></div><div id='project'> Project Name: YerevaNN/mimic3-benchmarks</div><div id='commit'> Commit Name: ba4a47663778725cdb3aeb0d18777695b76fbacf</div><div id='time'> Time: 2017-12-18</div><div id='author'> Author: harhro@gmail.com</div><div id='file'> File Name: mimic3models/rerun.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: process_single</div><BR><BR><div id='link'><a href='https://github.com/lebedov/scikit-cuda/commit/d632bed2770cda8f06d27690b3745237a558fd29#diff-1b7f4d20d63da2f54d9034c6450c85985aa6447fc552ddb12dafb7cc26b0a367L244' target='_blank'>Link</a></div><div id='project'> Project Name: lebedov/scikit-cuda</div><div id='commit'> Commit Name: d632bed2770cda8f06d27690b3745237a558fd29</div><div id='time'> Time: 2014-08-25</div><div id='author'> Author: lev@columbia.edu</div><div id='file'> File Name: scikits/cuda/cublas.py</div><div id='class'> Class Name: _cublas_version_req</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/hls-fpga-machine-learning/hls4ml/commit/6d27701311a5d0f013cf608dc5947e2fd0813882#diff-fb08e31764e30a21598f9f6b2b8a08e53ba4d222153748b639ee4c7e49044156L428' target='_blank'>Link</a></div><div id='project'> Project Name: hls-fpga-machine-learning/hls4ml</div><div id='commit'> Commit Name: 6d27701311a5d0f013cf608dc5947e2fd0813882</div><div id='time'> Time: 2020-05-04</div><div id='author'> Author: sioni.summers10@imperial.ac.uk</div><div id='file'> File Name: hls4ml/model/hls_model.py</div><div id='class'> Class Name: WeightVariable</div><div id='method'> Method Name: update_precision</div><BR>