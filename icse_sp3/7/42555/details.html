<html><h3>fdfdbec9e2f2eccfbdd331ae8d165d3ce05bcb73,fairseq/models/fairseq_model.py,BaseFairseqModel,get_normalized_probs,#BaseFairseqModel#Any#Any#Any#,46
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if hasattr(self, "decoder"):
            return self.decoder.get_normalized_probs(net_output, log_probs, sample)
        elif torch.is_tensor(net_output):
            <a id="change">logits = net_output.float()</a>
            if log_probs:
                <a id="change">return F.log_softmax(logits, dim=-1)</a>
            else:
                return F.softmax(logits, dim=-1)
        raise NotImplementedError
</code></pre><h3>After Change</h3><pre><code class='java'>
        sample: Optional[Dict[str, Tensor]] = None,
    ):
        Get normalized probabilities (or log probs) from a net&quots output.
        <a id="change">return self.get_normalized_probs_scriptable(net_output, log_probs, sample)</a>

    &#47&#47 TorchScript doesn&quott support super() method so that the scriptable Subclass
    &#47&#47 can&quott access the base class model in Torchscript.
    &#47&#47 Current workaround is to add a helper function with different name and</code></pre><img src="200098860.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pytorch/fairseq/commit/fdfdbec9e2f2eccfbdd331ae8d165d3ce05bcb73#diff-7c92090d7b64eba64b487144a9fc1b5c1415086ad35b65635f2d6b1e7627929cL47' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/fairseq</div><div id='commit'> Commit Name: fdfdbec9e2f2eccfbdd331ae8d165d3ce05bcb73</div><div id='time'> Time: 2020-02-26</div><div id='author'> Author: chenliu8@fb.com</div><div id='file'> File Name: fairseq/models/fairseq_model.py</div><div id='class'> Class Name: BaseFairseqModel</div><div id='method'> Method Name: get_normalized_probs</div><BR><BR><div id='link'><a href='https://github.com/pytorch/fairseq/commit/808b751597d85c098990080d21fd450877dcb242#diff-11881cdf7c948facd96a164059f1dff5491b4f08a62ee4894b170cfcc7c39fcbL61' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/fairseq</div><div id='commit'> Commit Name: 808b751597d85c098990080d21fd450877dcb242</div><div id='time'> Time: 2021-02-22</div><div id='author'> Author: miguel.delagua@nuance.com</div><div id='file'> File Name: fairseq/models/fairseq_decoder.py</div><div id='class'> Class Name: FairseqDecoder</div><div id='method'> Method Name: get_normalized_probs</div><BR><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/ea556a8f0d9fb0ba1a18b8ee3a08df198dbe418d#diff-e2f3b4c703ea04e1880871ae0d9beb5d9ec37988868fc8746a4bf2583e0abed5L69' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: ea556a8f0d9fb0ba1a18b8ee3a08df198dbe418d</div><div id='time'> Time: 2018-11-13</div><div id='author'> Author: dpressel@gmail.com</div><div id='file'> File Name: python/baseline/tf/lm/model.py</div><div id='class'> Class Name: LanguageModelBase</div><div id='method'> Method Name: create_loss</div><BR>