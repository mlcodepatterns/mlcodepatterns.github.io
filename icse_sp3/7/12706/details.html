<html><h3>516b77610d058cfe3a6f379e8ff9753065d48707,janitor/functions.py,,groupby_agg,#Any#Any#Any#Any#Any#,3208
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    :returns: A pandas DataFrame.
    
    new_col = df.groupby(by)[agg_column_name].transform(agg)
    <a id="change">df_new = df.assign(**{new_column_name: new_col})</a>
    return df_new


@pf.register_dataframe_accessor("data_description")</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 replace the values with some outrageous value, that should not exist
    &#47&#47 in the column. Also, the hasnans property is significantly faster than
    &#47&#47 .isnull().any()
    <a id="change">if any(df[col].hasnans for col in by):

        mapping = {
            column: ".*^%s1ho1go1logoban?*&-|/\\gos1he()&#47&#47_" for column in by
        }

        df[new_column_name] = (
            df.fillna(mapping).groupby(by)[agg_column_name].transform(agg)
        )

    else:
        df[new_column_name] = df.groupby(by)[agg_column_name].transform(agg)
   </a> return df


@pf.register_dataframe_accessor("data_description")</code></pre><img src="77559117.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ericmjl/pyjanitor/commit/516b77610d058cfe3a6f379e8ff9753065d48707#diff-8f61e63f9c6e90e31cc8e0d79fdf583b283e0e3b6e9475b27e133aa4abb06dfeL3247' target='_blank'>Link</a></div><div id='project'> Project Name: ericmjl/pyjanitor</div><div id='commit'> Commit Name: 516b77610d058cfe3a6f379e8ff9753065d48707</div><div id='time'> Time: 2020-08-09</div><div id='author'> Author: samueloranyeli@gmail.com</div><div id='file'> File Name: janitor/functions.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: groupby_agg</div><BR><BR><div id='link'><a href='https://github.com/ContextLab/hypertools/commit/2df451029d31850d7f5353b3786b875f17f740a5#diff-d97c03bd49390a65dde16babedd0b40da3ce636af2922fe046a92fd94a4e5a46L109' target='_blank'>Link</a></div><div id='project'> Project Name: ContextLab/hypertools</div><div id='commit'> Commit Name: 2df451029d31850d7f5353b3786b875f17f740a5</div><div id='time'> Time: 2018-04-06</div><div id='author'> Author: andrew.heusser@gmail.com</div><div id='file'> File Name: hypertools/tools/load.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: load</div><BR><BR><div id='link'><a href='https://github.com/quiltdata/quilt/commit/7d9a7fead18653a43645c3d673499cf639337406#diff-75e3588577c6f019a82536d2c88e59ca3d77cb035b1d933e8f3d92fda26b8c67L229' target='_blank'>Link</a></div><div id='project'> Project Name: quiltdata/quilt</div><div id='commit'> Commit Name: 7d9a7fead18653a43645c3d673499cf639337406</div><div id='time'> Time: 2020-06-03</div><div id='author'> Author: akarve@users.noreply.github.com</div><div id='file'> File Name: lambdas/es/indexer/index.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: handler</div><BR>