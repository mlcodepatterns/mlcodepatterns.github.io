<html><h3>bbbb4282d5c5f8d5766be6f2cf9444d35e78da4e,reagent/gym/tests/preprocessors/test_replay_buffer_inserters.py,TestRecSimReplayBufferInserter,test_recsim_interest_exploration,#TestRecSimReplayBufferInserter#,130
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    @unittest.skipIf(not HAS_RECSIM, "RecSim not installed")
    def test_recsim_interest_exploration(self):
        num_candidate = 10
        <a id="change">env_config = {
            "num_candidates": num_candidate,
            "slate_size": 3,
            "resample_documents": False,
            "seed": 1,
        }</a>
        <a id="change">env = interest_exploration.create_environment(env_config)</a>
        replay_buffer, inserted = _create_replay_buffer_and_insert(env)
        batch = replay_buffer.sample_transition_batch(indices=torch.tensor([0]))
        npt.assert_array_almost_equal(
            inserted[0]["observation"]["user"].astype(np.float32),</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_recsim_interest_exploration(self):
        num_candidate = 10
        slate_size = 3
        <a id="change">env = RecSim(
            num_candidates=num_candidate,
            slate_size=slate_size,
            resample_documents=False,
            is_interest_exploration=True,
        )</a>
        replay_buffer, inserted = _create_replay_buffer_and_insert(env)
        batch = replay_buffer.sample_transition_batch(indices=torch.tensor([0]))
        npt.assert_array_almost_equal(
            inserted[0]["observation"]["user"].astype(np.float32),</code></pre><img src="11526191.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/facebookresearch/Horizon/commit/bbbb4282d5c5f8d5766be6f2cf9444d35e78da4e#diff-cc16eeaee76055f98942ad0ea8c0d5a7c22b6b220bbb36db9e54282e6d897d3bL129' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/Horizon</div><div id='commit'> Commit Name: bbbb4282d5c5f8d5766be6f2cf9444d35e78da4e</div><div id='time'> Time: 2020-07-15</div><div id='author'> Author: kaiwenw@fb.com</div><div id='file'> File Name: reagent/gym/tests/preprocessors/test_replay_buffer_inserters.py</div><div id='class'> Class Name: TestRecSimReplayBufferInserter</div><div id='method'> Method Name: test_recsim_interest_exploration</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/Horizon/commit/bbbb4282d5c5f8d5766be6f2cf9444d35e78da4e#diff-299e1e7daae9678a96e29aa430780d22afb71a0ee0d40a92ec025bc69d50617aL20' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/Horizon</div><div id='commit'> Commit Name: bbbb4282d5c5f8d5766be6f2cf9444d35e78da4e</div><div id='time'> Time: 2020-07-15</div><div id='author'> Author: kaiwenw@fb.com</div><div id='file'> File Name: reagent/test/replay_memory/create_from_env_test.py</div><div id='class'> Class Name: CreateFromEnvTest</div><div id='method'> Method Name: test_create_from_recsim_interest_exploration</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/Horizon/commit/bbbb4282d5c5f8d5766be6f2cf9444d35e78da4e#diff-cc16eeaee76055f98942ad0ea8c0d5a7c22b6b220bbb36db9e54282e6d897d3bL82' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/Horizon</div><div id='commit'> Commit Name: bbbb4282d5c5f8d5766be6f2cf9444d35e78da4e</div><div id='time'> Time: 2020-07-15</div><div id='author'> Author: kaiwenw@fb.com</div><div id='file'> File Name: reagent/gym/tests/preprocessors/test_replay_buffer_inserters.py</div><div id='class'> Class Name: TestRecSimReplayBufferInserter</div><div id='method'> Method Name: test_recsim_interest_evolution</div><BR>