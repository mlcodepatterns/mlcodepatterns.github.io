<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                total_metrics[i] += metric(y_output, y_target)

            total_loss += loss.data[0]
            <a id="change">log_step = int(np.sqrt(self.batch_size))</a>
            if self.verbosity &gt;= 2 and batch_idx % log_step == 0:
                self.logger.info(&quotTrain Epoch: {} [{}/{} ({:.0f}%)] Loss: {:.6f}&quot.format(
                    epoch, batch_idx * len(data), len(self.data_loader) * len(data),
                    100.0 * batch_idx / len(self.data_loader), loss.data[0]))</code></pre><h3>After Change</h3><pre><code class='java'>
                    100.0 * batch_idx / len(self.data_loader), 
                    loss.data[0]))

        log = <a id="change">{
            &quotloss&quot: total_loss / len(self.data_loader), 
            &quotmetrics&quot: (total_metrics / len(self.data_loader)).tolist()
        }</a>

        if self.valid:
            val_log = self._valid_epoch()
            log = {**log, **val_log}</code></pre>