<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def test_gelman_rubin_bad(self):
        Confirm Gelman-Rubin statistic is far from 1 for a small number of samples.
        trace = <a id="change">self.fake_trace(6)</a>
        <a id="change">rhat = gelman_rubin(trace)</a>
        assert not all(1 / self.good_rhat &lt; r &lt; self.good_rhat for r in rhat.values)

    def test_effective_n(self):
        n_samples = 1000</code></pre><h3>After Change</h3><pre><code class='java'>
        rhat = gelman_rubin(np.hstack([
            20 + np.random.randn(100, 1),
            np.random.randn(100, 1)]))
        <a id="change">assert 1 / self.good_rhat &gt; rhat or self.good_rhat &lt; rhat</a>

    def test_effective_n_array(self):
        eff_n = effective_n(np.random.randn(4, 100))
        assert eff_n &gt; 100</code></pre>