<html><h3>8cb97248c6fe5b84312a3e4f74c20bfb19cc8d0e,skbio/tree/_nj.py,,_compute_collapsed_dm,#Any#Any#Any#Any#Any#,186
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    out_ids = [new_node_id]
    out_ids.extend([e for e in dm.ids if e not in (i, j)])
    result = np.zeros((out_n, out_n))
    <a id="change">for idx1, out_id1 in enumerate(out_ids[1:]):
        result[0, idx1 + 1] = result[idx1 + 1, 0] = _otu_to_new_node(
            dm, i, j, out_id1, disallow_negative_branch_length)
        for idx2, out_id2 in enumerate(out_ids[1:idx1+1]):
            result[idx1+1, idx2+1] = result[idx2+1, idx1+1] = \
                dm[out_id1, out_id2]
   </a> return DistanceMatrix(result, out_ids)


def _lowest_index(dm):</code></pre><h3>After Change</h3><pre><code class='java'>
    result = np.zeros((out_n, out_n))
    &#47&#47 pre-populate the result array with known distances
    ij_indexes = [dm.index(i), dm.index(j)]
    result[1:, 1:] = <a id="change">np.delete(np.delete(dm.data, ij_indexes, axis=0),
                               ij_indexes, axis=1)</a>
    &#47&#47 calculate the new distances from the current DistanceMatrix
    k_to_u = 0.5 * (dm[i] + dm[j] - dm[i, j])
    &#47&#47 set negative branches to 0 if specified
    if disallow_negative_branch_length:</code></pre><img src="290264173.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/biocore/scikit-bio/commit/8cb97248c6fe5b84312a3e4f74c20bfb19cc8d0e#diff-8de4b2aebf97ea186b62b8ed5946569ff3d13c245368f93836ecf699161d41cdL197' target='_blank'>Link</a></div><div id='project'> Project Name: biocore/scikit-bio</div><div id='commit'> Commit Name: 8cb97248c6fe5b84312a3e4f74c20bfb19cc8d0e</div><div id='time'> Time: 2017-04-27</div><div id='author'> Author: sdbrown@gmail.com</div><div id='file'> File Name: skbio/tree/_nj.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _compute_collapsed_dm</div><BR><BR><div id='link'><a href='https://github.com/matplotlib/matplotlib/commit/a7c4e9fbfeefbc78500bed3932f5820cbe3e5b4e#diff-f8bdc0e2875e2a77498931834958abb1b21ac6f31a16a2d55f7986a415b40ebdL115' target='_blank'>Link</a></div><div id='project'> Project Name: matplotlib/matplotlib</div><div id='commit'> Commit Name: a7c4e9fbfeefbc78500bed3932f5820cbe3e5b4e</div><div id='time'> Time: 2017-10-13</div><div id='author'> Author: fuzzy0427@gmail.com</div><div id='file'> File Name: examples/event_handling/poly_editor.py</div><div id='class'> Class Name: PolygonInteractor</div><div id='method'> Method Name: key_press_callback</div><BR><BR><div id='link'><a href='https://github.com/matplotlib/matplotlib/commit/6a18d6b58ec3ca42de7bc2cf5206f117c59e3318#diff-f8bdc0e2875e2a77498931834958abb1b21ac6f31a16a2d55f7986a415b40ebdL105' target='_blank'>Link</a></div><div id='project'> Project Name: matplotlib/matplotlib</div><div id='commit'> Commit Name: 6a18d6b58ec3ca42de7bc2cf5206f117c59e3318</div><div id='time'> Time: 2017-10-21</div><div id='author'> Author: tcaswell@gmail.com</div><div id='file'> File Name: examples/event_handling/poly_editor.py</div><div id='class'> Class Name: PolygonInteractor</div><div id='method'> Method Name: key_press_callback</div><BR>