<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        label = vq(data, code)[0]
        &#47&#47 Update the code by computing centroids using the new code book
        for j in range(nc):
            <a id="change">mbs = np.where(label == j)</a>
            if <a id="change">mbs</a>[0].size &gt; 0:
                code[j] = np.mean(data[mbs], axis=0)
            else:
                missing()</code></pre><h3>After Change</h3><pre><code class='java'>
        label = vq(data, code)[0]
        &#47&#47 Update the code by computing centroids using the new code book
        new_code, has_members = _vq.update(data, label, nc)
        if not <a id="change">has_members.all()</a>:
            missing()
            &#47&#47 Set the empty clusters to their previous positions
            new_code[~has_members] = code[~has_members]</code></pre>