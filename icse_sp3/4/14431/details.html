<html><h3>d8269a336571d652f7b47728578fc8b8549b6725,pycorrector/seq2seq_attention/infer.py,,,#,52
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    source_texts, target_texts = create_dataset(config.train_path, None)
    source_seq, source_word2id = tokenize(source_texts, config.maxlen)
    target_seq, target_word2id = tokenize(target_texts, config.maxlen)
    dataset = tf.data.Dataset.from_tensor_slices(<a id="change">(source_seq, target_seq)</a>).shuffle(len(source_seq))
    dataset = dataset.batch(config.batch_size, drop_remainder=True)
    example_source_batch, example_target_batch = next(iter(dataset))
    model = Seq2SeqModel(example_source_batch, source_word2id, target_word2id, embedding_dim=config.embedding_dim,</code></pre><h3>After Change</h3><pre><code class='java'>
        &quot会能够大幅减少互相抱怨的情况。&quot
    ]
    source_word2id = load_word_dict(config.save_src_vocab_path)
    <a id="change">target_word2id = load_word_dict(config.save_trg_vocab_path)</a>
    model = Seq2SeqModel(source_word2id, target_word2id, embedding_dim=config.embedding_dim,
                         hidden_dim=config.hidden_dim,
                         batch_size=config.batch_size, maxlen=config.maxlen, checkpoint_path=config.model_dir,
                         gpu_id=config.gpu_id)</code></pre><img src="85811967.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/shibing624/pycorrector/commit/d8269a336571d652f7b47728578fc8b8549b6725#diff-c8e97f1e1b1fc1f4f04fe726c58cf4c3d748415d5f9b9cec97cecb31d6ca3e5eL53' target='_blank'>Link</a></div><div id='project'> Project Name: shibing624/pycorrector</div><div id='commit'> Commit Name: d8269a336571d652f7b47728578fc8b8549b6725</div><div id='time'> Time: 2019-12-31</div><div id='author'> Author: xuming624@qq.com</div><div id='file'> File Name: pycorrector/seq2seq_attention/infer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/shibing624/pycorrector/commit/1dfa6c004e1ddb171725910ad38fe83814f6ad0f#diff-cf4cf17ad538e7c824b76d23c1dd616d8784daab3bbf0fd043cd22328bbd09b4L283' target='_blank'>Link</a></div><div id='project'> Project Name: shibing624/pycorrector</div><div id='commit'> Commit Name: 1dfa6c004e1ddb171725910ad38fe83814f6ad0f</div><div id='time'> Time: 2018-03-14</div><div id='author'> Author: 507153809@qq.com</div><div id='file'> File Name: pycorrector/__init__.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/shibing624/pycorrector/commit/b9b28080281ff6bbf613620559709f762fd3ef0b#diff-ba47e34bfd0a64ade91111786676be23f3c9bcb8931bf6cebb60f66611a9064dL24' target='_blank'>Link</a></div><div id='project'> Project Name: shibing624/pycorrector</div><div id='commit'> Commit Name: b9b28080281ff6bbf613620559709f762fd3ef0b</div><div id='time'> Time: 2018-05-17</div><div id='author'> Author: 507153809@qq.com</div><div id='file'> File Name: pycorrector/rnn_lm/infer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: generate</div><BR><BR><div id='link'><a href='https://github.com/shibing624/pycorrector/commit/b9b28080281ff6bbf613620559709f762fd3ef0b#diff-ba47e34bfd0a64ade91111786676be23f3c9bcb8931bf6cebb60f66611a9064dL75' target='_blank'>Link</a></div><div id='project'> Project Name: shibing624/pycorrector</div><div id='commit'> Commit Name: b9b28080281ff6bbf613620559709f762fd3ef0b</div><div id='time'> Time: 2018-05-17</div><div id='author'> Author: 507153809@qq.com</div><div id='file'> File Name: pycorrector/rnn_lm/infer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: ppl</div><BR>