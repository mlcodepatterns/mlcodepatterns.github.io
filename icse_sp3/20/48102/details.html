<html><h3>16246c8a9d84c875208a5e370da87888e799dd96,src/python/pants/pantsd/watchman.py,Watchman,__init__,#Watchman#Any#Any#Any#Any#Any#Any#Any#,31
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    :param str socket_path_override: The overridden target path of the watchman socket, if any.
    :param str metadata_base_dir: The overriden metadata base dir for `ProcessMetadataManager`.
    
    <a id="change">super(Watchman, self).__init__(name=&quotwatchman&quot,
                                   process_name=&quotwatchman&quot,
                                   socket_type=str,
                                   metadata_base_dir=metadata_base_dir)</a>
    self._watchman_path = self._normalize_watchman_path(watchman_path)
    self._watchman_work_dir = os.path.join(work_dir, <a id="change">self.name</a>)
    self._log_level = log_level
    self._startup_timeout = startup_timeout
    <a id="change">self._timeout = timeout</a>

    <a id="change">self._state_file</a> = os.path.join(self._watchman_work_dir, &quot{}.state&quot.format(<a id="change">self.name</a>))
    self._log_file = os.path.join(self._watchman_work_dir, &quot{}.log&quot.format(self.name))
    <a id="change">self._sock_file</a> = socket_path_override or os.path.join(self._watchman_work_dir,
                                                           &quot{}.sock&quot.format(self.name))

    self._logger = logging.getLogger(__name__)</code></pre><h3>After Change</h3><pre><code class='java'>

  def _normalize_watchman_path(self, watchman_path):
    if not self._is_valid_executable(watchman_path):
      raise self.ExecutionError(&quotinvalid wat<a id="change">chman binary at {}</a>!&quot.format(watchman_path))
    return os.path.abspath(watchman_path)

  def _maybe_ini<a id="change">t_metadata(self):
    safe_mkdir(self._watchman_work_dir)
    &#47&#47 Initialize watchman with an empty, but valid statefile so it doesn&quott complain </a>o<a id="change">n startup.
    safe_file_</a>dump(self._state_file, &quot{}&quot)

  def _construct_cmd(self, cmd_parts, state_file, sock_fi<a id="change">le, log_file, l</a>og_level):
    return [part for part in<a id="change"> cmd_parts] + [&quot--no-save-state&quot,
                     </a>                      &quot--statefile={}&quot.format(state_file),
                                           &quot--sockname={}&quot.format(sock_file),
                                           &quot--logfile={}&quot.format(log_file),
                                           &quot--log-level&quot, log_level]</code></pre><img src="222905416.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 17</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/16246c8a9d84c875208a5e370da87888e799dd96#diff-08f8b84ab6799dc11e0550911fd4100f1b5102bea37de9be1e25eff43973c751L31' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: 16246c8a9d84c875208a5e370da87888e799dd96</div><div id='time'> Time: 2017-11-08</div><div id='author'> Author: stuhood@twitter.com</div><div id='file'> File Name: src/python/pants/pantsd/watchman.py</div><div id='class'> Class Name: Watchman</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/16246c8a9d84c875208a5e370da87888e799dd96#diff-08f8b84ab6799dc11e0550911fd4100f1b5102bea37de9be1e25eff43973c751L31' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: 16246c8a9d84c875208a5e370da87888e799dd96</div><div id='time'> Time: 2017-11-08</div><div id='author'> Author: stuhood@twitter.com</div><div id='file'> File Name: src/python/pants/pantsd/watchman.py</div><div id='class'> Class Name: Watchman</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/NVIDIA/OpenSeq2Seq/commit/9a76bb5272c3f8662b266410c0c5b0dbce3ec025#diff-5ea66fe7f631e4ee8612345112d4e76afe92cc9cbfbe8da68238c99eb762f911L716' target='_blank'>Link</a></div><div id='project'> Project Name: NVIDIA/OpenSeq2Seq</div><div id='commit'> Commit Name: 9a76bb5272c3f8662b266410c0c5b0dbce3ec025</div><div id='time'> Time: 2018-08-20</div><div id='author'> Author: jasoli@nvidia.com</div><div id='file'> File Name: open_seq2seq/parts/rnns/attention_wrapper.py</div><div id='class'> Class Name: LocationSensitiveAttention</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/dmlc/gluon-nlp/commit/a947d66d28baaae1302363556a8a18b04fa6aa40#diff-8c38d8d7e6e2acb0239e4561bbe11789150dc07c3e01274ae1e4fd4348f36225L249' target='_blank'>Link</a></div><div id='project'> Project Name: dmlc/gluon-nlp</div><div id='commit'> Commit Name: a947d66d28baaae1302363556a8a18b04fa6aa40</div><div id='time'> Time: 2018-08-16</div><div id='author'> Author: leonard@lausen.nl</div><div id='file'> File Name: gluonnlp/embedding/evaluation.py</div><div id='class'> Class Name: ThreeCosMul</div><div id='method'> Method Name: __init__</div><BR>