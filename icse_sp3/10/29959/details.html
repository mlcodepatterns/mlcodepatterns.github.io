<html><h3>20769173fc5100fd8b60ca7d77a0b7dd5d6225fd,skbio/tree/_nj.py,,_compute_q,#Any#,172
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    q = np.zeros(dm.shape)
    n = dm.shape[0]
    <a id="change">for i in range(n):
        for j in range(i):
            q[i, j] = q[j, i] = \
                ((n - 2) * dm[i, j]) - dm[i].sum() - dm[j].sum()
   </a> return DistanceMatrix(q, dm.ids)


def _compute_collapsed_dm(dm, i, j, disallow_negative_branch_length,</code></pre><h3>After Change</h3><pre><code class='java'>
    q = np.zeros(dm.shape)
    n = dm.shape[0]
    dmv = dm.to_data_frame().values
    big_sum = np.array([<a id="change">dmv.sum(1)</a>] * dm.shape[0])
    <a id="change">big_sum_diffs = big_sum + big_sum.T</a>
    q = (n - 2) * dmv - big_sum_diffs
    np.fill_diagonal(q, 0)
    return DistanceMatrix(q, dm.ids)
</code></pre><img src="149764781.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/biocore/scikit-bio/commit/20769173fc5100fd8b60ca7d77a0b7dd5d6225fd#diff-8de4b2aebf97ea186b62b8ed5946569ff3d13c245368f93836ecf699161d41cdL176' target='_blank'>Link</a></div><div id='project'> Project Name: biocore/scikit-bio</div><div id='commit'> Commit Name: 20769173fc5100fd8b60ca7d77a0b7dd5d6225fd</div><div id='time'> Time: 2017-04-24</div><div id='author'> Author: sdbrown@gmail.com</div><div id='file'> File Name: skbio/tree/_nj.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _compute_q</div><BR><BR><div id='link'><a href='https://github.com/Esri/raster-functions/commit/372cc580b234724920fee6045e0151abb2b8a823#diff-9697302345a2fc79a872275ec41888db74dbe38e1684abfa69b1421a38389526L52' target='_blank'>Link</a></div><div id='project'> Project Name: Esri/raster-functions</div><div id='commit'> Commit Name: 372cc580b234724920fee6045e0151abb2b8a823</div><div id='time'> Time: 2014-09-09</div><div id='author'> Author: akferoz@esri.com</div><div id='file'> File Name: Aggregation.py</div><div id='class'> Class Name: Aggregation</div><div id='method'> Method Name: updatePixels</div><BR><BR><div id='link'><a href='https://github.com/biocore/scikit-bio/commit/20769173fc5100fd8b60ca7d77a0b7dd5d6225fd#diff-8de4b2aebf97ea186b62b8ed5946569ff3d13c245368f93836ecf699161d41cdL176' target='_blank'>Link</a></div><div id='project'> Project Name: biocore/scikit-bio</div><div id='commit'> Commit Name: 20769173fc5100fd8b60ca7d77a0b7dd5d6225fd</div><div id='time'> Time: 2017-04-24</div><div id='author'> Author: sdbrown@gmail.com</div><div id='file'> File Name: skbio/tree/_nj.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _compute_q</div><BR><BR><div id='link'><a href='https://github.com/explosion/thinc/commit/b8b71c4fbab9bd9e6a34a18a65474cc1035699de#diff-0582929e60e1008374059dd56a75d8d4ef825b9793f8e00c661e10c44549df4bL84' target='_blank'>Link</a></div><div id='project'> Project Name: explosion/thinc</div><div id='commit'> Commit Name: b8b71c4fbab9bd9e6a34a18a65474cc1035699de</div><div id='time'> Time: 2017-01-07</div><div id='author'> Author: honnibal+gh@gmail.com</div><div id='file'> File Name: thinc/neural/ops.py</div><div id='class'> Class Name: Ops</div><div id='method'> Method Name: softmax</div><BR><BR><div id='link'><a href='https://github.com/ntucllab/libact/commit/c57ce7f891a91592354b1685d37f2aee39f193f2#diff-f9e5477f7d50c535defccb896f3ac5258c8a44c36a055db76696e0c5c585def5L160' target='_blank'>Link</a></div><div id='project'> Project Name: ntucllab/libact</div><div id='commit'> Commit Name: c57ce7f891a91592354b1685d37f2aee39f193f2</div><div id='time'> Time: 2015-10-07</div><div id='author'> Author: yangarbiter@gmail.com</div><div id='file'> File Name: libact/query_strategies/active_learning_by_learning.py</div><div id='class'> Class Name: Exp4P</div><div id='method'> Method Name: exp4p</div><BR><BR><div id='link'><a href='https://github.com/LCAV/pyroomacoustics/commit/216fad967ebd8e0df284e2f0e961519321b7a52b#diff-b35731461913e8e99f331eb22694eb50532487162bdfccfb22a19ff0232a99b1L722' target='_blank'>Link</a></div><div id='project'> Project Name: LCAV/pyroomacoustics</div><div id='commit'> Commit Name: 216fad967ebd8e0df284e2f0e961519321b7a52b</div><div id='time'> Time: 2019-02-06</div><div id='author'> Author: ebezzam@gmail.com</div><div id='file'> File Name: pyroomacoustics/beamforming.py</div><div id='class'> Class Name: Beamformer</div><div id='method'> Method Name: process</div><BR><BR><div id='link'><a href='https://github.com/scikit-learn-contrib/DESlib/commit/4abda80dd12518e6bfdc44d067566a3e6947e906#diff-7ec846826f19cc399c1f1ee129f86583e676738a5502b98070a826b80871201eL91' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-learn-contrib/DESlib</div><div id='commit'> Commit Name: 4abda80dd12518e6bfdc44d067566a3e6947e906</div><div id='time'> Time: 2018-03-28</div><div id='author'> Author: rafaelmenelau@gmail.com</div><div id='file'> File Name: deslib/dcs/a_priori.py</div><div id='class'> Class Name: APriori</div><div id='method'> Method Name: estimate_competence</div><BR>