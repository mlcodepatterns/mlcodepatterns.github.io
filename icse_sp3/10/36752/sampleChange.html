<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    res_cores_list.append(res_core)
  &#47&#47 TODO: TT-ranks.
  if output_is_batch:
    <a id="change">return TensorTrainBatch(res_cores_list, where.get_raw_shape(),
                            batch_size=output_batch_size)</a>
  else:
    return TensorTrain(res_cores_list, where.get_raw_shape())

</code></pre><h3>After Change</h3><pre><code class='java'>
    res_cores_list.append(res_core)
  &#47&#47 TODO: TT-ranks.
  if output_is_batch:
    <a id="change">res = TensorTrainBatch(res_cores_list, where.get_raw_shape(),
                            batch_size=output_batch_size)</a>
  else:
    <a id="change">res = TensorTrain(res_cores_list, where.get_raw_shape())</a>

  <a id="change">res.projection_on = where</a>
  <a id="change">return res</a>


def project_matmul(what, where, matrix):
  Project `matrix` * `what` TTs on the tangent space of `where` TT.</code></pre>