<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
logging.info(&quotcache: %s&quot % str(cache))

&#47&#47 Getting disposable email domains from https://github.com/ivolo/disposable-email-domains
<a id="change">if verification_level &gt; 1:
    r = requests.get(&quothttps://rawgit.com/ivolo/disposable-email-domains/master/index.json&quot)
    disposable_domains = r.json()
    if r.status_code &gt;= 300 or not isinstance(disposable_domains, list) or len(disposable_domains) &lt; 50:
        raise Exception("Error when getting disposable emails domains")
else:
    disposable_domains = None

&#47&#47 Email format validation
</a>EMAIL_REGEX = re.compile(r"^[A-Za-z0-9\.\+_-]+@[A-Za-z0-9\._-]+\.[a-zA-Z]{2,10}$")
def email_test_regex(email):
    if not email or len(email) == 0:
        return False</code></pre><h3>After Change</h3><pre><code class='java'>
filename = &quotemail-tester-locally-cache&quot
cache_file = os.path.join(cache_folder, filename)
cache = shelve.open(cache_file, writeback = True)
cache_plugin_version = <a id="change">cache[&quotplugin_version&quot] if &quotplugin_version&quot in cache else None</a>
logging.info(&quotcache file: %s&quot % cache_file)
logging.debug(&quotcache: %s&quot % str(cache))

&#47&#47 Function to compare version numbers</code></pre>