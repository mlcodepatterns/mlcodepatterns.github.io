<html><h3>b85a210e72d4333b71c72f33b905de0ad0070c17,scripts/train.py,,,#,10
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
model.fit(X,Y, nb_epoch=10, validation_split=0.2)


<a id="change">model.save(&quottest_model&quot)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
&#47&#47 Get args.
args = docopt(__doc__)

<a id="change">if __name__ == "__main__":
    print(args)
    sessions = args[&quot--sessions&quot].split(&quot,&quot)
    epochs = int(args[&quot--epochs&quot])
    &#47&#47Train on session pictures
    sh = dk.sessions.SessionHandler(sessions_path=&quot~/donkey_data/sessions/&quot)
    s = sh.load(sessions[0])
    X, Y = s.load_dataset()


    &#47&#47Train on simulated pictures
    &#47&#47X, Y = dk.datasets.moving_square(n_frames=2000, return_x=True, return_y=False)


    &#47&#47print(&quotDownloading file, this could take some time.&quot)
    &#47&#47url = &quothttps://s3.amazonaws.com/donkey_resources/port.pkl&quot
    &#47&#47X, Y = dk.datasets.load_url(url)

    print(&quotLoading Model.&quot)
    &#47&#47m = dk.models.cnn3_full1_relu()
    m = keras.models.load_model(&quot/home/wroscoe/donkey_data/models/best-diff_lines2.hdf5&quot)


    filepath="best-"+sessions[0]+".hdf5"
    checkpoint = ModelCheckpoint(filepath, monitor=&quotval_loss&quot, verbose=1, 
                                 save_best_only=True, mode=&quotmin&quot)
    callbacks_list = [checkpoint]

    hist = m.fit(X, Y, batch_size=64, nb_epoch=epochs, 
                     validation_split=.2, callbacks=callbacks_list)</a>
</code></pre><img src="247355964.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/autorope/donkeycar/commit/b85a210e72d4333b71c72f33b905de0ad0070c17#diff-0e048206896ef3808bf29e00f4ca534eb723fe51e27a47b583a92e913c33bbcfL10' target='_blank'>Link</a></div><div id='project'> Project Name: autorope/donkeycar</div><div id='commit'> Commit Name: b85a210e72d4333b71c72f33b905de0ad0070c17</div><div id='time'> Time: 2017-02-18</div><div id='author'> Author: wroscoe@gmail.com</div><div id='file'> File Name: scripts/train.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/allenai/allennlp/commit/ab4aeb28f1b81747c985a188b6c4c569c02aaa75#diff-5db2f703cfbeaf284f3f0549054d15c1d433c2618ce554d1329c5baffa6f4c2fL438' target='_blank'>Link</a></div><div id='project'> Project Name: allenai/allennlp</div><div id='commit'> Commit Name: ab4aeb28f1b81747c985a188b6c4c569c02aaa75</div><div id='time'> Time: 2018-02-02</div><div id='author'> Author: matt-peters@users.noreply.github.com</div><div id='file'> File Name: allennlp/training/trainer.py</div><div id='class'> Class Name: Trainer</div><div id='method'> Method Name: _save_checkpoint</div><BR><BR><div id='link'><a href='https://github.com/HyperGAN/HyperGAN/commit/bd090db61ce516a22c8c433bec29a9be7c1c62a2#diff-d7dae459247887bb745acff130d1befd4c65268b769a26de9f4aac4e205ebb1bL33' target='_blank'>Link</a></div><div id='project'> Project Name: HyperGAN/HyperGAN</div><div id='commit'> Commit Name: bd090db61ce516a22c8c433bec29a9be7c1c62a2</div><div id='time'> Time: 2017-06-28</div><div id='author'> Author: mikkel@255bits.com</div><div id='file'> File Name: examples/alignment.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>