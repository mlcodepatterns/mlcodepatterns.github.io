<html><h3>5b95c6888b15751d0ca2d77d0a01ea7f0abc338f,src/models.py,MultiTaskModel,_lm_forward,#MultiTaskModel#Any#Any#,401
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &quot&quot&quot For translation, denoising, maybe language modeling? &quot&quot&quot
        out = {}
        b_size, seq_len = batch[&quotinp_fwd&quot][&quotwords&quot].size()
        <a id="change">sent_fwd</a>, mask_fwd = self.sent_encoder(batch[&quotinp_fwd&quot])
        sent_bwd, mask_bwd = self.sent_encoder(batch[&quottrg_fwd&quot])
        sent_fwd,  _ = sent_fwd.split(int(sent_fwd.size(-1) / 2), dim=-1)
        _, sent_bwd = sent_bwd.split(int(sent_bwd.size(-1) / 2), dim=-1)</code></pre><h3>After Change</h3><pre><code class='java'>
        logits_bwd = hid2voc(bwd[:,1:,:]).view(b_size * seq_len, -1)
        logits = torch.cat([logits_fwd, logits_bwd], dim=0).view(2 * b_size * seq_len, -1)
        out[&quotlogits&quot] = logits
        <a id="change">pdb.set_trace()</a>

        if &quottrg_fwd&quot in batch:
            targs = torch.cat([batch[&quottrg_fwd&quot][&quotwords&quot].view(-1),
                               batch[&quottrg_bwd&quot][&quotwords&quot].view(-1)])</code></pre><img src="90547765.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/jsalt18-sentence-repl/jiant/commit/5b95c6888b15751d0ca2d77d0a01ea7f0abc338f#diff-f4ca477841bd3ad5c0b292cbfff7c3ae403a65fb6c97deb15ad996f85dc87bd8L401' target='_blank'>Link</a></div><div id='project'> Project Name: jsalt18-sentence-repl/jiant</div><div id='commit'> Commit Name: 5b95c6888b15751d0ca2d77d0a01ea7f0abc338f</div><div id='time'> Time: 2018-06-24</div><div id='author'> Author: wang.alex.c@gmail.com</div><div id='file'> File Name: src/models.py</div><div id='class'> Class Name: MultiTaskModel</div><div id='method'> Method Name: _lm_forward</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/minigo/commit/1d9d085252ecd9511791f94756fd9ea0adf7c2ea#diff-0acc199df6af7d32146790af2e16f186fe4be9fcf8768023b2fdaa6485e67fabL81' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/minigo</div><div id='commit'> Commit Name: 1d9d085252ecd9511791f94756fd9ea0adf7c2ea</div><div id='time'> Time: 2017-12-01</div><div id='author'> Author: jacksona@google.com</div><div id='file'> File Name: ds_wrangler.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: gather_moves_and_write</div><BR><BR><div id='link'><a href='https://github.com/neuroailab/tnn/commit/0d14553fa39718c788b2c3064e24ec10cc218098#diff-fada037ad086638e65c7ae77e3d223963e9afaa26326aab0ea718f4013176e43L286' target='_blank'>Link</a></div><div id='project'> Project Name: neuroailab/tnn</div><div id='commit'> Commit Name: 0d14553fa39718c788b2c3064e24ec10cc218098</div><div id='time'> Time: 2016-10-07</div><div id='author'> Author: qbilius@gmail.com</div><div id='file'> File Name: model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _construct_graph</div><BR><BR><div id='link'><a href='https://github.com/rodluger/starry/commit/67a85fa4252cd42499b2f4db49b0d1c191a00a0d#diff-dbdc222e2cc11f2a16b3b3175d85e0c8b7635025f29e99f1e5bf85284514666fL13' target='_blank'>Link</a></div><div id='project'> Project Name: rodluger/starry</div><div id='commit'> Commit Name: 67a85fa4252cd42499b2f4db49b0d1c191a00a0d</div><div id='time'> Time: 2019-05-02</div><div id='author'> Author: rodluger@gmail.com</div><div id='file'> File Name: tests/test_theano.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: t3st_doppler</div><BR><BR><div id='link'><a href='https://github.com/jsalt18-sentence-repl/jiant/commit/9a4540b682074d3f84a2fc232cf2a832dc96bce7#diff-6b2ec35a2a73c8976f6ab162ae2bc4f45fe00749102f7de140dcd0adb17145a5L97' target='_blank'>Link</a></div><div id='project'> Project Name: jsalt18-sentence-repl/jiant</div><div id='commit'> Commit Name: 9a4540b682074d3f84a2fc232cf2a832dc96bce7</div><div id='time'> Time: 2018-01-19</div><div id='author'> Author: wang.alex.c@gmail.com</div><div id='file'> File Name: src/aggregate_results.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: latexify</div><BR><BR><div id='link'><a href='https://github.com/asyml/texar/commit/362ca59b47569f59909aa534f75abdb838b3aad9#diff-fe78ce6a9bd439b02ab25eb3a817b43e7a7f81f38c24940e4a5e7c443e186b5fL187' target='_blank'>Link</a></div><div id='project'> Project Name: asyml/texar</div><div id='commit'> Commit Name: 362ca59b47569f59909aa534f75abdb838b3aad9</div><div id='time'> Time: 2018-04-04</div><div id='author'> Author: zichaoy@cs.cmu.edu</div><div id='file'> File Name: examples/tsf/tsf_trainer.py</div><div id='class'> Class Name: TSFTrainer</div><div id='method'> Method Name: train</div><BR>