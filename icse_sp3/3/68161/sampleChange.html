<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    
    T_diag = np.diag(T)
    keep_it_real = <a id="change">(not _has_complex_dtype_char(T))</a> and (np.min(T_diag) &gt;= 0)
    if not keep_it_real:
        T_diag = T_diag.astype(complex)
    R = np.diag(np.sqrt(T_diag))</code></pre><h3>After Change</h3><pre><code class='java'>

    
    T_diag = np.diag(T)
    keep_it_real = <a id="change">np.isrealobj(T)</a> and np.min(T_diag) &gt;= 0
    if not keep_it_real:
        T_diag = T_diag.astype(complex)
    R = np.diag(np.sqrt(T_diag))</code></pre>