<html><h3>428615e74edc5106af1c472f7fa07b3d2338acf9,scanpy/datasets/__init__.py,,visium_sge,#Any#,302
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 setting filenames, tarfilenames, backup_urls
    &#47&#47 tarfilenames and backup_urls will be used for downloading data base
    <a id="change">files = dict(
        counts=settings.datasetdir / f&quot{sample_id}_filtered_feature_bc_matrix.h5&quot,
        tissue_positions_file=settings.datasetdir / &quotspatial/tissue_positions_list.csv&quot,
        scalefactors_json_file=settings.datasetdir / &quotspatial/scalefactors_json.json&quot,
        hires_image=settings.datasetdir / &quotspatial/tissue_hires_image.png&quot,
        lowres_image=settings.datasetdir / &quotspatial/tissue_lowres_image.png&quot,
    )</a>

    tarfiles = dict(
        tissue_positions_file=settings.datasetdir / f&quot{sample_id}_spatial.tar&quot,
        scalefactors_json_file=settings.datasetdir / f&quot{sample_id}_spatial.tar&quot,
        hires_image=settings.datasetdir / f&quot{sample_id}_spatial.tar&quot,
        lowres_image=settings.datasetdir / f&quot{sample_id}_spatial.tar&quot,
    )

    url_prefix = (
        f&quothttp://cf.10xgenomics.com/samples/spatial-exp/1.0.0/{sample_id}/{sample_id}&quot
    )
    backup_urls = dict(
        counts=f&quot{url_prefix}_filtered_feature_bc_matrix.h5&quot,
        tissue_positions_file=f&quot{url_prefix}_spatial.tar.gz&quot,
        scalefactors_json_file=f&quot{url_prefix}_spatial.tar.gz&quot,
        hires_image=f&quot{url_prefix}_spatial.tar.gz&quot,
        lowres_image=f&quot{url_prefix}_spatial.tar.gz&quot,
    )

    &#47&#47 download and untar files if necessary
    for f in <a id="change">tqdm(files, desc=&quotFiles&quot)</a>:
        if f in tarfiles:
            _utils.check_presence_download_untar(
                filename=files[f], tarfilename=tarfiles[f], backup_url=backup_urls[f]</code></pre><h3>After Change</h3><pre><code class='java'>
    Annotated data matrix.
    
    _download_visium_dataset(sample_id)
    <a id="change">return read_visium(settings.datasetdir / sample_id)</a>
</code></pre><img src="150033603.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/428615e74edc5106af1c472f7fa07b3d2338acf9#diff-b4c70912b4b2d73b5eac810b65dd4744b0b1faea5ce651150b153324e3de6b7aL332' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: 428615e74edc5106af1c472f7fa07b3d2338acf9</div><div id='time'> Time: 2020-03-10</div><div id='author'> Author: ivirshup@gmail.com</div><div id='file'> File Name: scanpy/datasets/__init__.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: visium_sge</div><BR><BR><div id='link'><a href='https://github.com/A2Zadeh/CMU-MultimodalSDK/commit/d66ae4b426097cfb3957eb76873f7b6f59d9ffff#diff-ebe11c606b755cc65d60aab5013c027773dacb2c6ab0a02b42f69df5aa9af5c7L73' target='_blank'>Link</a></div><div id='project'> Project Name: A2Zadeh/CMU-MultimodalSDK</div><div id='commit'> Commit Name: d66ae4b426097cfb3957eb76873f7b6f59d9ffff</div><div id='time'> Time: 2020-07-07</div><div id='author'> Author: abagherz@cs.cmu.edu</div><div id='file'> File Name: mmsdk/mmdatasdk/log/log.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: progress_bar</div><BR><BR><div id='link'><a href='https://github.com/mozilla/bugbug/commit/f84945f86fe9b406829381b31f1197b8d8236f5a#diff-2fef5a1667d2dbed2b5f466e38927aa272359e80b4bc53dad91146bb3b887554L28' target='_blank'>Link</a></div><div id='project'> Project Name: mozilla/bugbug</div><div id='commit'> Commit Name: f84945f86fe9b406829381b31f1197b8d8236f5a</div><div id='time'> Time: 2020-10-26</div><div id='author'> Author: mcastelluccio@mozilla.com</div><div id='file'> File Name: bugbug/phabricator.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get</div><BR>