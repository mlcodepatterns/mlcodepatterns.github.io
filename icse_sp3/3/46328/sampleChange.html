<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        end += 1

        if total_len + record_len &gt;= POSTGRESQL_MAX:
            <a id="change">logger.warning("Splitting query due to length.")</a>
            yield records[start:end]
            start = end
            &#47&#47 Reset the total query length
            total_len = len(preamble)</code></pre><h3>After Change</h3><pre><code class='java'>
    end = 0
    total_len = len(preamble)
    while end &lt; len(records):
        record_len = sum([len(<a id="change">str(v)</a>) for v in records[end].values()])

        &#47&#47 Pre-increment to include the end element in the slice
        end += 1</code></pre>