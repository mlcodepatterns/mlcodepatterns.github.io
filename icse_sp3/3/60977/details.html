<html><h3>3048096493b85388ca00fc87c052e99767bddfc3,examples/plot_digits.py,,,#,24
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
&#47&#47 Create images for a custom tooltip array
tooltip_s = []
for image_data in data:
    <a id="change">output = io.BytesIO()</a>
    img = toimage(image_data.reshape((8, 8)))  &#47&#47 Data was a flat row of 64 "pixels".
    img.save(output, format="PNG")
    contents = output.getvalue()
    img_encoded = base64.b64encode(contents)
    img_tag = &lt;img src="data:image/png;base64,{}"&gt;.format(img_encoded.decode(&quotutf-8&quot))
    tooltip_s.append(img_tag)
    <a id="change">output.close()</a>

tooltip_s = np.array(tooltip_s)  &#47&#47 need to make sure to feed it as a NumPy array, not a list

&#47&#47 Initialize to use t-SNE with 2 components (reduces data to 2 dimensions). Also note high overlap_percentage.</code></pre><h3>After Change</h3><pre><code class='java'>

&#47&#47 Raw data is (0, 16), so scale to 8 bits (pillow can&quott handle 4-bit greyscale PNG depth)
scaler = MinMaxScaler(feature_range=(0, 255))
data = <a id="change">scaler.fit_transform(data).astype(np.uint8)</a>

&#47&#47 Create images for a custom tooltip array
tooltip_s = []
for image_data in data:</code></pre><img src="284004429.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/MLWave/kepler-mapper/commit/3048096493b85388ca00fc87c052e99767bddfc3#diff-48699382167c4b03efb1bdea9db3cc26b1d0e845ffd8fc8c4df346dcbd03ef6bL36' target='_blank'>Link</a></div><div id='project'> Project Name: MLWave/kepler-mapper</div><div id='commit'> Commit Name: 3048096493b85388ca00fc87c052e99767bddfc3</div><div id='time'> Time: 2021-03-04</div><div id='author'> Author: dave@daveeargle.com</div><div id='file'> File Name: examples/plot_digits.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/awslabs/mxboard/commit/409da8669036e4697fabe131976f0b4825258d48#diff-00925fd916eba039979c61e3b9fe4a6328639cfb37cefcf1174f3006831b5dc2L262' target='_blank'>Link</a></div><div id='project'> Project Name: awslabs/mxboard</div><div id='commit'> Commit Name: 409da8669036e4697fabe131976f0b4825258d48</div><div id='time'> Time: 2018-04-05</div><div id='author'> Author: wujun.nju@gmail.com</div><div id='file'> File Name: tests/python/unittest/test_logging.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_add_image</div><BR><BR><div id='link'><a href='https://github.com/ilastik/ilastik/commit/09f11428ceeac33f36136e0dcb65659195e94c7c#diff-9eaaf4c57b77f9f4d6ba933587995748350c6283144ed1b6daf883a984fab700L76' target='_blank'>Link</a></div><div id='project'> Project Name: ilastik/ilastik</div><div id='commit'> Commit Name: 09f11428ceeac33f36136e0dcb65659195e94c7c</div><div id='time'> Time: 2012-10-04</div><div id='author'> Author: bergs@janelia.hhmi.org</div><div id='file'> File Name: tests/testOpInputDataReader.py</div><div id='class'> Class Name: TestOpInputDataReader</div><div id='method'> Method Name: test_h5</div><BR>