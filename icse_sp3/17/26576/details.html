<html><h3>48fa791b05d4047039432b9486932e8afaa4f0b5,integration_test/test_recipyrc.py,TestRecipyrc,test_data_file_diff_outputs,#TestRecipyrc#,173
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        recipyrc = recipyenv.get_recipyrc()
        helpers.update_recipyrc(recipyrc, "data", "file_diff_outputs")
        <a id="change">exit_code, _ = self.run_script()</a>
        assert exit_code == 0, ("Unexpected exit code " + str(exit_code))
        _, filediffs = helpers.get_log(recipyenv.get_recipydb())
        assert filediffs is None, "Expected filediffs to be None"

        <a id="change">exit_code, _ = self.run_script()</a>
        assert exit_code == 0, ("Unexpected exit code " + str(exit_code))
        _, filediffs = helpers.get_log(recipyenv.get_recipydb())
        assert filediffs is not None, "Expected filediffs not to be None"
        assert filediffs["filename"] == self.output_file,\</code></pre><h3>After Change</h3><pre><code class='java'>
        assert len(files) &gt;= 1, "Unexpected number of files"
        assert not isinstance(files[0], list), "Unexpected list"

    def test_data_file_diff_outputs(<a id="change">self</a>):
        
        If [data].file_diff_outputs is present then:

        * If output files are created, then there are no &quotfilediffs&quot
          for the run.
        * If output files with the same content are created, then
          there are &quotfilediffs&quot for the run, with an empty &quotdiffs&quot
          value.
        
        recipyrc = recipyenv.get_recipyrc()
        helpers.update_recipyrc(recipyrc, "data", "file_diff_outputs")
        <a id="change">helpers.execute_python([self.script, self.input_file,
                                self.output_file])</a>
        _, filediffs = helpers.get_log(recipyenv.get_recipydb())
        assert filediffs is None, "Expected filediffs to be None"

        <a id="change">helpers.execute_python([self.script, self.input_file,
                                self.output_file])</a>
        _, filediffs = helpers.get_log(recipyenv.get_recipydb())
        assert filediffs is not None, "Expected filediffs not to be None"
        assert filediffs["filename"] == self.output_file,\
            ("Expected filediffs[&quotfilename&quot] to be " + self.output_file)</code></pre><img src="135900185.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 14</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/recipy/recipy/commit/48fa791b05d4047039432b9486932e8afaa4f0b5#diff-c09f791df7e7ba99781369ce99c5faf9c3c3767d73d2a15602d02969e819876dL173' target='_blank'>Link</a></div><div id='project'> Project Name: recipy/recipy</div><div id='commit'> Commit Name: 48fa791b05d4047039432b9486932e8afaa4f0b5</div><div id='time'> Time: 2016-10-19</div><div id='author'> Author: michaelj@epcc.ed.ac.uk</div><div id='file'> File Name: integration_test/test_recipyrc.py</div><div id='class'> Class Name: TestRecipyrc</div><div id='method'> Method Name: test_data_file_diff_outputs</div><BR><BR><div id='link'><a href='https://github.com/recipy/recipy/commit/48fa791b05d4047039432b9486932e8afaa4f0b5#diff-c09f791df7e7ba99781369ce99c5faf9c3c3767d73d2a15602d02969e819876dL173' target='_blank'>Link</a></div><div id='project'> Project Name: recipy/recipy</div><div id='commit'> Commit Name: 48fa791b05d4047039432b9486932e8afaa4f0b5</div><div id='time'> Time: 2016-10-19</div><div id='author'> Author: michaelj@epcc.ed.ac.uk</div><div id='file'> File Name: integration_test/test_recipyrc.py</div><div id='class'> Class Name: TestRecipyrc</div><div id='method'> Method Name: test_data_file_diff_outputs</div><BR><BR><div id='link'><a href='https://github.com/recipy/recipy/commit/48fa791b05d4047039432b9486932e8afaa4f0b5#diff-c09f791df7e7ba99781369ce99c5faf9c3c3767d73d2a15602d02969e819876dL223' target='_blank'>Link</a></div><div id='project'> Project Name: recipy/recipy</div><div id='commit'> Commit Name: 48fa791b05d4047039432b9486932e8afaa4f0b5</div><div id='time'> Time: 2016-10-19</div><div id='author'> Author: michaelj@epcc.ed.ac.uk</div><div id='file'> File Name: integration_test/test_recipyrc.py</div><div id='class'> Class Name: TestRecipyrc</div><div id='method'> Method Name: test_ignored_inputs_outputs</div><BR><BR><div id='link'><a href='https://github.com/recipy/recipy/commit/48fa791b05d4047039432b9486932e8afaa4f0b5#diff-c09f791df7e7ba99781369ce99c5faf9c3c3767d73d2a15602d02969e819876dL285' target='_blank'>Link</a></div><div id='project'> Project Name: recipy/recipy</div><div id='commit'> Commit Name: 48fa791b05d4047039432b9486932e8afaa4f0b5</div><div id='time'> Time: 2016-10-19</div><div id='author'> Author: michaelj@epcc.ed.ac.uk</div><div id='file'> File Name: integration_test/test_recipyrc.py</div><div id='class'> Class Name: TestRecipyrc</div><div id='method'> Method Name: test_ignored_metadata_git</div><BR><BR><div id='link'><a href='https://github.com/recipy/recipy/commit/48fa791b05d4047039432b9486932e8afaa4f0b5#diff-c09f791df7e7ba99781369ce99c5faf9c3c3767d73d2a15602d02969e819876dL269' target='_blank'>Link</a></div><div id='project'> Project Name: recipy/recipy</div><div id='commit'> Commit Name: 48fa791b05d4047039432b9486932e8afaa4f0b5</div><div id='time'> Time: 2016-10-19</div><div id='author'> Author: michaelj@epcc.ed.ac.uk</div><div id='file'> File Name: integration_test/test_recipyrc.py</div><div id='class'> Class Name: TestRecipyrc</div><div id='method'> Method Name: test_ignored_metadata_diff</div><BR>