<html><h3>8775c54d29a4adcc11a55c4a37db7da54eccc6e7,homeassistant/components/notify/mysensors.py,,get_service,#Any#Any#Any#,12
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def get_service(hass, config, discovery_info=None):
    Get the MySensors notification service.
    <a id="change">if discovery_info is None:
        return
   </a> platform_devices = []
    <a id="change">gateways = hass.data.get(mysensors.MYSENSORS_GATEWAYS)</a>
    if not gateways:
        return

    <a id="change">for gateway in gateways:
        if float(gateway.protocol_version) &lt; 2.0:
            continue
        pres = gateway.const.Presentation
        set_req = gateway.const.SetReq
        map_sv_types = {
            pres.S_INFO: [set_req.V_TEXT],
        }
        devices = {}
        gateway.platform_callbacks.append(mysensors.pf_callback_factory(
            map_sv_types, devices, MySensorsNotificationDevice))
        platform_devices.append(devices)

   </a> return MySensorsNotificationService(platform_devices)


class MySensorsNotificationDevice(mysensors.MySensorsDeviceEntity):</code></pre><h3>After Change</h3><pre><code class='java'>

def get_service(hass, config, discovery_info=None):
    Get the MySensors notification service.
    new_devices = <a id="change">mysensors.setup_mysensors_platform(
        hass, DOMAIN, discovery_info, MySensorsNotificationDevice)</a>
    if not new_devices:
        return
    return MySensorsNotificationService(hass)
</code></pre><img src="66816075.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 32</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/8775c54d29a4adcc11a55c4a37db7da54eccc6e7#diff-562c09d1e934f60ed2237e3ec0f7075d338af80844455f9bc92a65c1e79f8cd6L14' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 8775c54d29a4adcc11a55c4a37db7da54eccc6e7</div><div id='time'> Time: 2017-08-25</div><div id='author'> Author: marhje52@kth.se</div><div id='file'> File Name: homeassistant/components/notify/mysensors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_service</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/1d615ea6c3a5f9b3ae6481b827919f04f23c09ce#diff-562c09d1e934f60ed2237e3ec0f7075d338af80844455f9bc92a65c1e79f8cd6L14' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 1d615ea6c3a5f9b3ae6481b827919f04f23c09ce</div><div id='time'> Time: 2017-08-25</div><div id='author'> Author: marhje52@kth.se</div><div id='file'> File Name: homeassistant/components/notify/mysensors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_service</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/1d615ea6c3a5f9b3ae6481b827919f04f23c09ce#diff-33c0cb7dedbeb2606585b19bd6eb0fe0be8e3ac1a2d9343489f58d1e3ec58327L31' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 1d615ea6c3a5f9b3ae6481b827919f04f23c09ce</div><div id='time'> Time: 2017-08-25</div><div id='author'> Author: marhje52@kth.se</div><div id='file'> File Name: homeassistant/components/climate/mysensors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: setup_platform</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/8775c54d29a4adcc11a55c4a37db7da54eccc6e7#diff-33c0cb7dedbeb2606585b19bd6eb0fe0be8e3ac1a2d9343489f58d1e3ec58327L31' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 8775c54d29a4adcc11a55c4a37db7da54eccc6e7</div><div id='time'> Time: 2017-08-25</div><div id='author'> Author: marhje52@kth.se</div><div id='file'> File Name: homeassistant/components/climate/mysensors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: setup_platform</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/8775c54d29a4adcc11a55c4a37db7da54eccc6e7#diff-562c09d1e934f60ed2237e3ec0f7075d338af80844455f9bc92a65c1e79f8cd6L14' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 8775c54d29a4adcc11a55c4a37db7da54eccc6e7</div><div id='time'> Time: 2017-08-25</div><div id='author'> Author: marhje52@kth.se</div><div id='file'> File Name: homeassistant/components/notify/mysensors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_service</div><BR>