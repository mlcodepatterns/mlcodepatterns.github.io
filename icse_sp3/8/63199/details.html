<html><h3>a1dd11c68e5911f069a747c917e2a4bfdd5ae4f4,geomstats/learning/em_expectation_maximization.py,RiemannianEM,update_variances,#RiemannianEM#Any#Any#Any#,131
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                                                                                           g_index].sum()
                self.variances[:, g_index] = (self.normalization_factor.phi(dtm)).data.numpy()
            else:
                <a id="change">dtm = ((distance(z.unsqueeze(1).expand(N, M, D),
                                 self.means.unsqueeze(0).expand(N, M, D)) ** 2) * wik).sum(0) / wik.sum(0)</a>
                &#47&#47 print("dtms ", dtm.size())
                self.variances = (self.normalization_factor.phi(dtm)).data.numpy()

    def _expectation(self, data):</code></pre><h3>After Change</h3><pre><code class='java'>
        else:


            z_gs = <a id="change">gs.expand_dims(z.data.numpy(), 1)</a>
            z_gs = gs.repeat(z_gs,M,axis = 1)
            means_gs = gs.expand_dims(self.means.data.numpy(),0)
            means_gs = gs.repeat(means_gs,N,axis = 0)

            z_torch = z.unsqueeze(1).expand(N, M, D)
            means_torch = self.means.unsqueeze(0).expand(N, M, D)
            <a id="change">wik_gs = wik.data.numpy()</a>
            <a id="change">dtm_gs = ((self.riemannian_metric.dist(z_gs,
                             means_gs) ** 2) * wik_gs).sum(0) / wik_gs.sum(0)</a>

            &#47&#47 dtm = ((distance(z.unsqueeze(1).expand(N, M, D),
            &#47&#47                  self.means.unsqueeze(0).expand(N, M, D)) ** 2) * wik).sum(0) / wik.sum(0)
</code></pre><img src="293792514.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/geomstats/geomstats/commit/a1dd11c68e5911f069a747c917e2a4bfdd5ae4f4#diff-12c97ebfc2ee6223bf05fdc8485bd398742e725730d39c976fe1ebd05d59a0baL131' target='_blank'>Link</a></div><div id='project'> Project Name: geomstats/geomstats</div><div id='commit'> Commit Name: a1dd11c68e5911f069a747c917e2a4bfdd5ae4f4</div><div id='time'> Time: 2020-04-08</div><div id='author'> Author: hadizaatiti@gmail.com</div><div id='file'> File Name: geomstats/learning/em_expectation_maximization.py</div><div id='class'> Class Name: RiemannianEM</div><div id='method'> Method Name: update_variances</div><BR><BR><div id='link'><a href='https://github.com/IBM/adversarial-robustness-toolbox/commit/a15f84b2b3ce0a8be7b57db42b048edba8b27e81#diff-c9a542d3fdf37ea34459460fcc7daf03f9071cdad1a07bb2d7af7d0e0e1b6416L130' target='_blank'>Link</a></div><div id='project'> Project Name: IBM/adversarial-robustness-toolbox</div><div id='commit'> Commit Name: a15f84b2b3ce0a8be7b57db42b048edba8b27e81</div><div id='time'> Time: 2019-09-09</div><div id='author'> Author: irinutza.n@gmail.com</div><div id='file'> File Name: art/attacks/virtual_adversarial.py</div><div id='class'> Class Name: VirtualAdversarialMethod</div><div id='method'> Method Name: _normalize</div><BR><BR><div id='link'><a href='https://github.com/scikit-learn-contrib/DESlib/commit/4abda80dd12518e6bfdc44d067566a3e6947e906#diff-7ec846826f19cc399c1f1ee129f86583e676738a5502b98070a826b80871201eL91' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-learn-contrib/DESlib</div><div id='commit'> Commit Name: 4abda80dd12518e6bfdc44d067566a3e6947e906</div><div id='time'> Time: 2018-03-28</div><div id='author'> Author: rafaelmenelau@gmail.com</div><div id='file'> File Name: deslib/dcs/a_priori.py</div><div id='class'> Class Name: APriori</div><div id='method'> Method Name: estimate_competence</div><BR>