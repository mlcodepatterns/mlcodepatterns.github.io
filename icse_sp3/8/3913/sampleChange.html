<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 remove paths
            keys = [&quottrain_dataset&quot, &quotval_dataset&quot]
            for k in keys:
                <a id="change">try:
                    metadata[k].pop(&quotfolder&quot)
                except:
                    pass

       </a> if isinstance(metadata[&quotconfig&quot], str):
            metadata[&quotconfig&quot] = json.loads(metadata[&quotconfig&quot])
        metadata[&quotseparation_class&quot] = type(self).__name__
        metadata[&quotmodel_name&quot] = metadata[&quotconfig&quot][&quotname&quot]</code></pre><h3>After Change</h3><pre><code class='java'>
        if for_upload or truncate_loss:
            if &quottrainer.state.epoch_history&quot in metadata:
                loss_history = metadata.pop(&quottrainer.state.epoch_history&quot)
                <a id="change">metadata[&quotfinal_loss&quot] = {k: float(v[-1]) for k, v in loss_history.items()}</a>

        if isinstance(metadata[&quotconfig&quot], str):
            metadata[&quotconfig&quot] = json.loads(metadata[&quotconfig&quot])
        metadata[&quotseparation_class&quot] = type(self).__name__</code></pre>