<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                data = data.decode(&quotutf-8&quot)
                &#47&#47 For some weird reason (error?) the json library expects the keys to be delimited with double-quotes and not single-quotes.
                &#47&#47 Not sure how our single quotes got here. Fix this better
                <a id="change">data = data.replace(&quot\&quot&quot,&quot"&quot)</a>
            try:
                &#47&#47 Convert the json str to a dictionary
                data = json.loads(data)
                &#47&#47 Add 1 because we found this ip again</code></pre><h3>After Change</h3><pre><code class='java'>
                data = json.loads(data)
                &#47&#47 Add 1 because we found this ip again
                data[str(saddr_as_obj)] += 1
                <a id="change">data = json.dumps(data)</a>
            except (KeyError, TypeError) as e:
                data[str(saddr_as_obj)] = 1
                &#47&#47 Convet the dictionary to json
                data = json.dumps(data)</code></pre>