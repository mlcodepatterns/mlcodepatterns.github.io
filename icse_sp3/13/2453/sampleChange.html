<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        build_data.untar(dpath, fname)

        &#47&#47 According to the author, V2 holds the latest data
        <a id="change">dpext = os.path.join(dpath, &quotinsuranceQA-master/V2&quot)</a>

        &#47&#47 read vocab file
        vocab_path = <a id="change">os.path.join(dpext, "vocabulary")</a>
        d_vocab = read_vocab(vocab_path)

        &#47&#47 read label2answer file
        label2answer_path_gz = os.path.join(dpext, "InsuranceQA.label2answer.token.encoded.gz")
        <a id="change">d_label_answer = read_label2answer(label2answer_path_gz, d_vocab)</a>

        &#47&#47 TODO: right now it uses 100 by default, but 500, 1000, 1500 (&#47&#47 of label candidates) should also be available
        train_path_gz = <a id="change">os</a>.path.join(dpext, "InsuranceQA.question.anslabel.token.100.pool.solr.train.encoded.gz")
        valid_path_gz = <a id="change">os</a>.path.join(dpext, "InsuranceQA.question.anslabel.token.100.pool.solr.valid.encoded.gz")
        <a id="change">test_path_gz = os.path.join(dpext, "InsuranceQA.question.anslabel.token.100.pool.solr.test.encoded.gz")</a>

        create_fb_format(dpath, &quottrain&quot, train_path_gz, d_vocab, d_label_answer)
        create_fb_format(dpath, &quotvalid&quot, valid_path_gz, d_vocab, d_label_answer)
        create_fb_format(dpath, &quottest&quot, test_path_gz, d_vocab, d_label_answer)</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Download the data from github.
        fname = &quotinsuranceqa.zip&quot
        url = &quothttps://github.com/shuzi/insuranceQA/archive/master.zip&quot
        <a id="change">print(&quot[downloading data from: &quot + url + &quot]&quot)</a>
        build_data.download(url, dpath, fname)
        build_data.untar(dpath, fname)

        ParseInsuranceQAV1.build(dpath)</code></pre>