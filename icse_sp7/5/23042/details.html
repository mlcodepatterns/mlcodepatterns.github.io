<html><h3>d3c5ba6fa3edaddd4814d3d5b66a18022a35afe4,src/rastervision/rv_config.py,RVConfig,set_tempdir,#Any#,18
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 find explicitly set tempdir
        explicit_temp_dir = next(
            <a id="change">iter([
                os.environ.get(k) for k in [&quotTMPDIR&quot, &quotTEMP&quot, &quotTMP&quot]
                if k in os.environ
            ] + [path, tempfile.tempdir])</a>)
        try:
            &#47&#47 try to create directory
            if not os.path.exists(explicit_temp_dir):
                os.makedirs(explicit_temp_dir, exist_ok=True)
            &#47&#47 can we interact with directory?
            <a id="change">explicit_temp_dir_valid = (
                os.path.isdir(explicit_temp_dir) and Path.touch(
                    Path(os.path.join(explicit_temp_dir, &quot.can_touch&quot))))</a>
        except Exception:
            print(
                &quotRoot temporary directory cannot be used: {}. Using root: {}&quot.
                format(explicit_temp_dir, RV_TEMP_DIR))</code></pre><h3>After Change</h3><pre><code class='java'>
        DEFAULT_DIR = &quot/opt/data/tmp/&quot

        &#47&#47 Check the various possibilities in order of priority.
        path_array = <a id="change">[path]</a>
        env_array = [
            os.environ.get(k) for k in [&quotTMPDIR&quot, &quotTEMP&quot, &quotTMP&quot]
            if k in os.environ
        ]
        <a id="change">current_array = [tempfile.tempdir]</a>
        <a id="change">it = iter(path_array + env_array + current_array)</a>
        explicit_temp_dir = next(filter(lambda p: p is not None, it))

        try:
            &#47&#47 Try to create directory</code></pre><img src="120903942.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/azavea/raster-vision/commit/d3c5ba6fa3edaddd4814d3d5b66a18022a35afe4#diff-6db7e68f1ed325e4d93050bd52f7572ce2f0c00a1bf684d0710e3f403b0c6153L22' target='_blank'>Link</a></div><div id='project'> Project Name: azavea/raster-vision</div><div id='commit'> Commit Name: d3c5ba6fa3edaddd4814d3d5b66a18022a35afe4</div><div id='time'> Time: 2018-10-03</div><div id='author'> Author: jmcclain@azavea.com</div><div id='file'> File Name: src/rastervision/rv_config.py</div><div id='class'> Class Name: RVConfig</div><div id='method'> Method Name: set_tempdir</div><BR><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/831b005905d3f3dd36269cccf9186d1ee1110858#diff-d5d76c93f45051b83851826360e427a4cc2b558a3e6a297bf427fced2d1ef13dL179' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: 831b005905d3f3dd36269cccf9186d1ee1110858</div><div id='time'> Time: 2015-07-24</div><div id='author'> Author: john.sirois@gmail.com</div><div id='file'> File Name: src/python/pants/backend/python/interpreter_cache.py</div><div id='class'> Class Name: PythonInterpreterCache</div><div id='method'> Method Name: _resolve_and_link</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/agents/commit/eff70fcc79aee2af0f4528ef16499c5dce3662e0#diff-1204b400095380b4f36088373aa7d4626c09cafe985aa3e944b9a5e1405b2f4dL216' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/agents</div><div id='commit'> Commit Name: eff70fcc79aee2af0f4528ef16499c5dce3662e0</div><div id='time'> Time: 2020-10-02</div><div id='author'> Author: summeryue@google.com</div><div id='file'> File Name: tf_agents/experimental/examples/ppo/ppo_learner.py</div><div id='class'> Class Name: PPOLearner</div><div id='method'> Method Name: _update_normalizers</div><BR>