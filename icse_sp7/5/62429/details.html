<html><h3>032e88438b1b2690e538c2cf399ebceb76adbea9,models/networks.py,GANLoss,__call__,#GANLoss#Any#Any#,132
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def __call__(self, input, target_is_real):
        target_tensor = self.get_target_tensor(input, target_is_real)
        <a id="change">return self.loss(input, target_tensor)</a>


&#47&#47 Defines the generator that consists of Resnet blocks between a few
&#47&#47 downsampling/upsampling operations.</code></pre><h3>After Change</h3><pre><code class='java'>
        
        if self.gan_mode in [&quotlsgan&quot, &quotvanilla&quot]:
            target_tensor = self.get_target_tensor(prediction, target_is_real)
            <a id="change">loss = self.loss(prediction, target_tensor)</a>
        elif self.gan_mode == &quotwgangp&quot:
            if target_is_real:
                loss = -prediction.mean()
            else:
                loss = prediction.mean()
        <a id="change">return loss</a>


def cal_gradient_penalty(netD, real_data, fake_data, device, type=&quotmixed&quot, constant=1.0, lambda_gp=10.0):
    calculate the gradient penalty loss, used in WGAN-GP paper https://arxiv.org/abs/1704.00028</code></pre><img src="290191411.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/junyanz/pytorch-CycleGAN-and-pix2pix/commit/032e88438b1b2690e538c2cf399ebceb76adbea9#diff-0b12045fcd8e12d17d1ed4983b2388873388d6b68c85aaca0218fa502d736c26L133' target='_blank'>Link</a></div><div id='project'> Project Name: junyanz/pytorch-CycleGAN-and-pix2pix</div><div id='commit'> Commit Name: 032e88438b1b2690e538c2cf399ebceb76adbea9</div><div id='time'> Time: 2019-01-01</div><div id='author'> Author: junyanzhu89@gmail.com</div><div id='file'> File Name: models/networks.py</div><div id='class'> Class Name: GANLoss</div><div id='method'> Method Name: __call__</div><BR><BR><div id='link'><a href='https://github.com/open-mmlab/mmdetection/commit/2df1e0a0759f1321eb0a821f5aaada9facb40c5e#diff-5e35c975e3a1a84854bad5907c15b0c0cc52297a8770f4b74f2413b46075719aL36' target='_blank'>Link</a></div><div id='project'> Project Name: open-mmlab/mmdetection</div><div id='commit'> Commit Name: 2df1e0a0759f1321eb0a821f5aaada9facb40c5e</div><div id='time'> Time: 2019-01-13</div><div id='author'> Author: chenkaidev@gmail.com</div><div id='file'> File Name: mmdet/models/anchor_heads/rpn_head.py</div><div id='class'> Class Name: RPNHead</div><div id='method'> Method Name: loss</div><BR><BR><div id='link'><a href='https://github.com/Zhaoyi-Yan/Shift-Net_pytorch/commit/f2dde224575dc44a9a394350bebfe8cd9d526326#diff-92d7e59337995da43da6ffd9ffbaea2681c1be178c1e240d7481c51450a3ef01L41' target='_blank'>Link</a></div><div id='project'> Project Name: Zhaoyi-Yan/Shift-Net_pytorch</div><div id='commit'> Commit Name: f2dde224575dc44a9a394350bebfe8cd9d526326</div><div id='time'> Time: 2019-04-19</div><div id='author'> Author: yanzhaoyi@outlook.com</div><div id='file'> File Name: models/modules/losses.py</div><div id='class'> Class Name: GANLoss</div><div id='method'> Method Name: __call__</div><BR>