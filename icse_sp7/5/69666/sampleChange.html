<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            0
        ]
        self.patch = np.ones(shape=self.patch_shape).astype(np.float32) * mean_value
        <a id="change">self.patch[int(self.patch.shape[0] / 2), :, :]</a> = 1

    def generate(self, x: np.ndarray, y: Optional[np.ndarray] = None, **kwargs) -&gt; np.ndarray:
        </code></pre><h3>After Change</h3><pre><code class='java'>
            self.i_w = 1

        if self.estimator.channels_first:
            <a id="change">smallest_image_edge = np.minimum(self.image_shape[1], self.image_shape[2])</a>
            <a id="change">nb_channels = self.image_shape[0]</a>
            <a id="change">self.patch_shape = (nb_channels, smallest_image_edge, smallest_image_edge)</a>
        else:
            smallest_image_edge = np.minimum(self.image_shape[0], self.image_shape[1])
            nb_channels = self.image_shape[2]
            self.patch_shape = (smallest_image_edge, smallest_image_edge, nb_channels)</code></pre>