<html><h3>e6fca77674554e516cfb358d1b395986acd3f7e7,tests/python/pants_test/backend/project_info/tasks/test_export.py,ExportTest,test_preferred_jvm_distributions,#ExportTest#,397
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    self.assertFalse(result[&quottargets&quot][&quotsrc/python/alpha:alpha&quot][&quotis_synthetic&quot])

  def test_preferred_jvm_distributions(self):
    <a id="change">with temporary_dir() as strict_jdk_home:
      with temporary_dir() as non_strict_jdk_home:
        strict_cache_key = (Revision(1, 6), Revision(1, 6, 9999), False)
        non_strict_cache_key = (Revision(1, 6), None, False)
        DistributionLocator._CACHE[strict_cache_key] = Distribution(home_path=strict_jdk_home)
        DistributionLocator._CACHE[non_strict_cache_key] = Distribution(home_path=non_strict_jdk_home)
        self.assertEqual({&quotstrict&quot: strict_jdk_home, &quotnon_strict&quot: non_strict_jdk_home},
                         self.execute_export_json()[&quotpreferred_jvm_distributions&quot][&quotjava6&quot])</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
      with self.fake_distribution(version=&quot10000&quot) as non_strict_home:
        self.set_options_for_scope(&quotjvm-distributions&quot,
                                   paths={
                                     normalize_os_name(get_os_name()): <a id="change">[
                                       strict_home,
                                       non_strict_home
                                     ]</a>
                                   })
        with subsystem_instance(DistributionLocator) as locator:
          locator._reset()  &#47&#47 Make sure we get a fresh read from the options set just above.
</code></pre><img src="144937763.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/e6fca77674554e516cfb358d1b395986acd3f7e7#diff-8a0825a26e1a2d96cd3cd6a511590d8e2464719fbe28335451fe883730a74262L398' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: e6fca77674554e516cfb358d1b395986acd3f7e7</div><div id='time'> Time: 2016-05-02</div><div id='author'> Author: john.sirois@gmail.com</div><div id='file'> File Name: tests/python/pants_test/backend/project_info/tasks/test_export.py</div><div id='class'> Class Name: ExportTest</div><div id='method'> Method Name: test_preferred_jvm_distributions</div><BR><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/f2a35263aacacf10e1b2d622cd39c7c66ea39acb#diff-48ae1a628422a53ae7f1b17cd28f1fd360ebe84de8be4be6a7a2cb14bd21b523L56' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: f2a35263aacacf10e1b2d622cd39c7c66ea39acb</div><div id='time'> Time: 2019-11-25</div><div id='author'> Author: ericarellano@me.com</div><div id='file'> File Name: src/python/pants/fs/fs_test.py</div><div id='class'> Class Name: WorkspaceInConsoleRuleTest</div><div id='method'> Method Name: test</div><BR><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/1e8ddb230898452103347759fd9424fd342daf69#diff-73ac4bb089f1e27ac763f13b1a14b4dd963f5ad1fa3cf991c2e903a823da0aecL79' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: 1e8ddb230898452103347759fd9424fd342daf69</div><div id='time'> Time: 2019-10-04</div><div id='author'> Author: 1305167+cosmicexplorer@users.noreply.github.com</div><div id='file'> File Name: tests/python/pants_test/backend/project_info/tasks/resolve_jars_test_mixin.py</div><div id='class'> Class Name: ResolveJarsTestMixin</div><div id='method'> Method Name: _test_jar_lib_with_url</div><BR>