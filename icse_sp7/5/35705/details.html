<html><h3>89fcfe5f49502043e45de93c47acfc6de2180647,keras_model.py,Code2VecModel,_create_metrics_for_keras_model,#Code2VecModel#,159
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        return self.keras_model.get_layer(&quottopk_predictions&quot).output[0]

    def _create_metrics_for_keras_model(self) -&gt; List[keras.metrics.Metric]:
        <a id="change">top_k_acc_metric = partial(
            sparse_top_k_categorical_accuracy, k=self.config.TOP_K_WORDS_CONSIDERED_DURING_PREDICTION)</a>
        top_k_acc_metric.__name__ = &quottop{k}_acc&quot.format(k=self.config.TOP_K_WORDS_CONSIDERED_DURING_PREDICTION)
        words_subtoken_metrics_kwargs = {
            &quotindex_to_word_table&quot: self.vocabs.target_vocab.get_index_to_word_lookup_table(),
            &quotpredicted_word_output&quot: self.target_word_prediction_layer_output</code></pre><h3>After Change</h3><pre><code class='java'>
        for k in range(1, self.config.TOP_K_WORDS_CONSIDERED_DURING_PREDICTION + 1):
            top_k_acc_metric = partial(
                sparse_top_k_categorical_accuracy, k=k)
            top_k_acc_metric.__name__ = <a id="change">&quottop{k}_acc&quot.format(k=k)</a>
            top_k_acc_metrics.append(top_k_acc_metric)
        words_subtoken_metrics_kwargs = {
            &quotindex_to_word_table&quot: self.vocabs.target_vocab.get_index_to_word_lookup_table(),
            &quottopk_predicted_words&quot: self.topk_predicted_words,</code></pre><img src="173448783.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tech-srl/code2vec/commit/89fcfe5f49502043e45de93c47acfc6de2180647#diff-f5ad1e06c4fde4cebc39a3a27a3dc5e44b17206cbfd65938adf6723842fa40faL140' target='_blank'>Link</a></div><div id='project'> Project Name: tech-srl/code2vec</div><div id='commit'> Commit Name: 89fcfe5f49502043e45de93c47acfc6de2180647</div><div id='time'> Time: 2019-04-05</div><div id='author'> Author: eladnah@gmail.com</div><div id='file'> File Name: keras_model.py</div><div id='class'> Class Name: Code2VecModel</div><div id='method'> Method Name: _create_metrics_for_keras_model</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/1da5440d8444f99f79b597356e9342ffab0eaf5f#diff-f59734838cbf3ab8c5b1ff3eff2bb221b4e8a817cb0f9b92b9c1e312a89d389fL35' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: 1da5440d8444f99f79b597356e9342ffab0eaf5f</div><div id='time'> Time: 2020-04-14</div><div id='author'> Author: pengchong@google.com</div><div id='file'> File Name: models/official/detection/modeling/architecture/heads.py</div><div id='class'> Class Name: RpnHead</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/aertslab/pySCENIC/commit/5b824f9124e8690ce35118cb2ab8ecfe61fad8cc#diff-9d18c21d7ca0211e21c768eaf79c21b8079ee77d11a72add6a40e97016fa9dacL252' target='_blank'>Link</a></div><div id='project'> Project Name: aertslab/pySCENIC</div><div id='commit'> Commit Name: 5b824f9124e8690ce35118cb2ab8ecfe61fad8cc</div><div id='time'> Time: 2018-02-06</div><div id='author'> Author: vandesande.bram@gmail.com</div><div id='file'> File Name: src/pyscenic/regulome.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: derive_regulomes</div><BR>