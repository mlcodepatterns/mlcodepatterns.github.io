<html><h3>5ef64b79a43ba8f4806d68fe61d6a97ce25e6f80,models/official/mnasnet/mnasnet_main.py,,mnasnet_model_fn,#Any#Any#Any#Any#,262
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
  if has_moving_average_decay:
    ema = tf.train.ExponentialMovingAverage(
        decay=params[&quotmoving_average_decay&quot], num_updates=global_step)
    <a id="change">ema_vars = tf.trainable_variables() + tf.get_collection(&quotmoving_vars&quot)</a>
    <a id="change">for v in tf.global_variables():
      &#47&#47 We maintain mva for batch norm moving mean and variance as well.
      if &quotmoving_mean&quot in v.name or &quotmoving_variance&quot in v.name:
        ema_vars.append(v)
   </a> ema_vars = <a id="change">list(set(ema_vars))</a>

  host_call = None
  if is_training:
    &#47&#47 Compute the current epoch and associated learning rate from global_step.</code></pre><h3>After Change</h3><pre><code class='java'>
  if has_moving_average_decay:
    ema = tf.train.ExponentialMovingAverage(
        decay=params[&quotmoving_average_decay&quot], num_updates=global_step)
    ema_vars = <a id="change">mnasnet_utils.get_ema_vars()</a>

  host_call = None
  if is_training:
    &#47&#47 Compute the current epoch and associated learning rate from global_step.</code></pre><img src="261153456.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 17</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/5ef64b79a43ba8f4806d68fe61d6a97ce25e6f80#diff-1b2556446c21831afa3b5930d46633ee5f20b58b95a971cb3ac402d6705a3b00L404' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: 5ef64b79a43ba8f4806d68fe61d6a97ce25e6f80</div><div id='time'> Time: 2019-07-15</div><div id='author'> Author: tanmingxing@google.com</div><div id='file'> File Name: models/official/mnasnet/mnasnet_main.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: mnasnet_model_fn</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/5ef64b79a43ba8f4806d68fe61d6a97ce25e6f80#diff-1b2556446c21831afa3b5930d46633ee5f20b58b95a971cb3ac402d6705a3b00L404' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: 5ef64b79a43ba8f4806d68fe61d6a97ce25e6f80</div><div id='time'> Time: 2019-07-15</div><div id='author'> Author: tanmingxing@google.com</div><div id='file'> File Name: models/official/mnasnet/mnasnet_main.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: mnasnet_model_fn</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/58685226c5c7e30094f02741fce0aa0245737297#diff-13b0e590cb3f4d64035bfff4fca077af8573c8a8bd9b3f14f5475379e8c6b7bdL352' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: 58685226c5c7e30094f02741fce0aa0245737297</div><div id='time'> Time: 2019-07-16</div><div id='author'> Author: tanmingxing@google.com</div><div id='file'> File Name: models/official/efficientnet/main.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: model_fn</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/58685226c5c7e30094f02741fce0aa0245737297#diff-9a37972e2de6ce7f5e50edea4267822f36fc4d16a999669a9c7bbbf74b88c168L86' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: 58685226c5c7e30094f02741fce0aa0245737297</div><div id='time'> Time: 2019-07-16</div><div id='author'> Author: tanmingxing@google.com</div><div id='file'> File Name: models/official/efficientnet/eval_ckpt_main.py</div><div id='class'> Class Name: EvalCkptDriver</div><div id='method'> Method Name: restore_model</div><BR>