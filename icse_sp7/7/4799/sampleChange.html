<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
  def _generate_examples(self, filepaths, metadata):
    Yields examples.

    <a id="change">metadata_dict = collections.defaultdict(list)</a>
    <a id="change">for row in metadata:
      features = row.split(&quot,&quot)
      metadata_dict[&quotbook_id&quot].append(int(features[0]))
      metadata_dict[&quotbook_title&quot].append(str(features[1]))
      metadata_dict[&quotpublication_date&quot].append(str(features[2]))
      metadata_dict[&quotbook_link&quot].append(str(features[3]))

   </a> with tf.io.gfile.GFile(filepaths, &quotr&quot) as f:
      text = f.read().strip()

      yield metadata_dict, {"book_data": text}</code></pre><h3>After Change</h3><pre><code class='java'>

      with tf.io.gfile.GFile(file, &quotr&quot) as f:
        text = f.read().strip()
        yield <a id="change">index, {
            "book_text": text,
            "book_id": book_id,
            "book_title": book_data[0],
            "publication_date": book_data[1],
            "book_link": book_data[2]
            }</a>
</code></pre>