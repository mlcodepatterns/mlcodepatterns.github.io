<html><h3>999fd2807c746ab0c203f1ec20adcdd14be7da89,nn_dataflow/Partition.py,,get_ofmap_layout,#Any#Any#Any#Any#,308
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if pae not in [pe.OUTP, pe.OFMP, pe.BATP]:
            ofmap_pdims[pe.BATP] = [x * y for x, y in zip(ofmap_pdims[pe.BATP],
                                                          ofmap_pdims[pae])]
            <a id="change">ofmap_pdims[pae] = [1, 1]</a>

    ofmap_part = PartitionScheme(order=ofmap_order, pdims=ofmap_pdims)
    assert all(od &lt;= omrd for od, omrd in zip(ofmap_part.dim(), dim_omr)), \
            &quotPartition ofmap: ofmap partitioning {} is invalid within &quot \</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 Ofmap dimension &gt; computation dimension. Extend.
            ext = od // pd
            &#47&#47 Apply the extension to the top level.
            <a id="change">top_pae = next(pae for pae in ofmap_order if pae in ofmap_paes)</a>
            ofmap_pdims[top_pae][di] *= ext
        else:
            &#47&#47 Computation dimension &gt;= ofmap dimension, shrink.
            &#47&#47 Go from bottom to top. Keep bottom (first) levels unchanged, and</code></pre><img src="319861088.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/stanford-mast/nn_dataflow/commit/999fd2807c746ab0c203f1ec20adcdd14be7da89#diff-dfa459d3e948cabb7a94aeb7e29df33b5082bfe3644ab7b23b421f5c09796887L318' target='_blank'>Link</a></div><div id='project'> Project Name: stanford-mast/nn_dataflow</div><div id='commit'> Commit Name: 999fd2807c746ab0c203f1ec20adcdd14be7da89</div><div id='time'> Time: 2017-07-13</div><div id='author'> Author: mgao12@stanford.edu</div><div id='file'> File Name: nn_dataflow/Partition.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_ofmap_layout</div><BR><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/315859c5586116434ea3b7ce97512a5e2a1030e2#diff-3a926aee17a6f7eb067eee6e6fb8a306934e6074a125958eadb576c0f7b0dcb1L275' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: 315859c5586116434ea3b7ce97512a5e2a1030e2</div><div id='time'> Time: 2017-02-06</div><div id='author'> Author: flying-sheep@web.de</div><div id='file'> File Name: scanpy/exs/builtin.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: moignard15_raw</div><BR><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/49899ef69309d2a0ab6ad785f455eb53a8443a06#diff-3a926aee17a6f7eb067eee6e6fb8a306934e6074a125958eadb576c0f7b0dcb1L265' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: 49899ef69309d2a0ab6ad785f455eb53a8443a06</div><div id='time'> Time: 2017-02-08</div><div id='author'> Author: f.alex.wolf@gmx.de</div><div id='file'> File Name: scanpy/exs/builtin.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: moignard15_raw</div><BR><BR><div id='link'><a href='https://github.com/matplotlib/matplotlib/commit/4818c2783c300729b32f1340d2c06510ff6aa363#diff-7452babd771a5640e657d38cb31f9a76244db6d3fffa8515a3e20f16108e4cb2L89' target='_blank'>Link</a></div><div id='project'> Project Name: matplotlib/matplotlib</div><div id='commit'> Commit Name: 4818c2783c300729b32f1340d2c06510ff6aa363</div><div id='time'> Time: 2018-05-07</div><div id='author'> Author: anntzer.lee@gmail.com</div><div id='file'> File Name: lib/matplotlib/axes/_subplots.py</div><div id='class'> Class Name: SubplotBase</div><div id='method'> Method Name: __reduce__</div><BR>