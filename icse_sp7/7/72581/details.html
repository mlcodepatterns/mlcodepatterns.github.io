<html><h3>fabeffe39e70e1c371bcce158b3b8b0dd029e7a6,gensim/summarization/summarizer.py,,_set_graph_edge_weights,#Any#,74
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if i == j or weights[i][j] &lt; WEIGHT_THRESHOLD:
                continue

            <a id="change">sentence_1 = documents[i]</a>
            sentence_2 = documents[j]

            edge_1 = (sentence_1, sentence_2)
            edge_2 = <a id="change">(sentence_2, sentence_1)</a>

            <a id="change">if not graph.has_edge(edge_1):
                graph.add_edge(edge_1, weights[i][j])
           </a> if not graph.has_edge(edge_2):
                graph.add_edge(edge_2, weights[j][i])

    &#47&#47 Handles the case in which all similarities are zero.</code></pre><h3>After Change</h3><pre><code class='java'>
    documents = graph.nodes()
    weights = _bm25_weights(documents)

    <a id="change">for i, doc_bow in enumerate(weights):
        if i % 1000 == 0 and i &gt; 0:
            logger.info(&quotPROGRESS: processing %s/%s doc (%s non zero elements)&quot, i, len(documents), len(doc_bow))

        for j, weight in doc_bow:
            if i == j or weight &lt; WEIGHT_THRESHOLD:
                continue

            edge = (documents[i], documents[j])

            if not graph.has_edge(edge):
                graph.add_edge(edge, weight)

    &#47&#47 Handles the case in which all similarities are zero.
    &#47&#47 The resultant summary will consist of random sentences.
   </a> if all(graph.edge_weight(edge) == 0 for edge in graph.iter_edges()):
        _create_valid_graph(graph)

</code></pre><img src="332613463.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/RaRe-Technologies/gensim/commit/fabeffe39e70e1c371bcce158b3b8b0dd029e7a6#diff-ea8891e8b96091d1d8fe807130c64ac74d8a112d63d9a48b4d90e02b0afb79eaL84' target='_blank'>Link</a></div><div id='project'> Project Name: RaRe-Technologies/gensim</div><div id='commit'> Commit Name: fabeffe39e70e1c371bcce158b3b8b0dd029e7a6</div><div id='time'> Time: 2019-01-17</div><div id='author'> Author: __Singleton__@hackerdom.ru</div><div id='file'> File Name: gensim/summarization/summarizer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _set_graph_edge_weights</div><BR><BR><div id='link'><a href='https://github.com/RaRe-Technologies/gensim/commit/ac7486a69da6ce5d9873216bad86afa1a10191fc#diff-ea8891e8b96091d1d8fe807130c64ac74d8a112d63d9a48b4d90e02b0afb79eaL41' target='_blank'>Link</a></div><div id='project'> Project Name: RaRe-Technologies/gensim</div><div id='commit'> Commit Name: ac7486a69da6ce5d9873216bad86afa1a10191fc</div><div id='time'> Time: 2015-05-03</div><div id='author'> Author: fbarrios@fi.uba.ar</div><div id='file'> File Name: gensim/summarization/summarizer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _set_graph_edge_weights</div><BR><BR><div id='link'><a href='https://github.com/deepmipt/DeepPavlov/commit/6d3e4bdc22cc89fb7ecf188ccf0479632012026f#diff-d976b2356b67cabc79120c689d5605d5f02dde5d920e41d7d55236d9b2cec8eaL98' target='_blank'>Link</a></div><div id='project'> Project Name: deepmipt/DeepPavlov</div><div id='commit'> Commit Name: 6d3e4bdc22cc89fb7ecf188ccf0479632012026f</div><div id='time'> Time: 2018-04-18</div><div id='author'> Author: dilyara.rimovna@gmail.com</div><div id='file'> File Name: deeppavlov/models/evolution/check_binary_mask.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_graph_and_plot</div><BR><BR><div id='link'><a href='https://github.com/deepmipt/DeepPavlov/commit/4fca544205a55010e8959bb760aece5be80dc3a5#diff-d976b2356b67cabc79120c689d5605d5f02dde5d920e41d7d55236d9b2cec8eaL98' target='_blank'>Link</a></div><div id='project'> Project Name: deepmipt/DeepPavlov</div><div id='commit'> Commit Name: 4fca544205a55010e8959bb760aece5be80dc3a5</div><div id='time'> Time: 2018-06-26</div><div id='author'> Author: dilyara.rimovna@gmail.com</div><div id='file'> File Name: deeppavlov/models/evolution/check_binary_mask.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_graph_and_plot</div><BR>