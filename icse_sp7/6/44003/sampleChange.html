<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    lengths = [struct.pack("Q", len(frames))] + [
        struct.pack("Q", nbytes(frame)) for frame in frames
    ]
    <a id="change">return b"".join(lengths)</a>


def pack_frames(frames):
     Pack frames into a byte-like object</code></pre><h3>After Change</h3><pre><code class='java'>

def pack_frames_prelude(frames):
    nframes = len(frames)
    <a id="change">nbytes_frames = map(nbytes, frames)</a>
    <a id="change">return struct.pack(f"Q{nframes}Q", nframes, *nbytes_frames)</a>


def pack_frames(frames):
     Pack frames into a byte-like object</code></pre>