<html><h3>12679af141523fc96e446656e41bd877ac7108ab,linearmodels/tests/panel/test_firstdifference_ols.py,,test_firstdifference_ols_weighted,#Any#,55
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    dx = dx.loc[~drop]
    sw = sw.loc[~drop]

    res2 = <a id="change">IV2SLS(dy, dx, None, None, weights=sw).fit(&quotunadjusted&quot)</a>
    assert_results_equal(res, res2)


def test_first_difference_errors(data):</code></pre><h3>After Change</h3><pre><code class='java'>
    dx = dx.loc[~drop]
    sw = sw.loc[~drop]

    <a id="change">ols_mod</a> = <a id="change">IV2SLS(dy, dx, None, None, weights=sw)</a>
    <a id="change">ols_res = ols_mod.fit(&quotunadjusted&quot)</a>
    assert_results_equal(res, ols_res)

    res = mod.fit(cov_type=&quotrobust&quot)
    ols_res = ols_mod.fit(&quotrobust&quot)
    assert_results_equal(res, ols_res)

    clusters = mod.dependent.dataframe.copy()
    for entity in mod.dependent.entities:
        clusters.loc[entity] = np.random.randint(9)

    ols_clusters = clusters.copy()
    index = mod.dependent.first_difference().dataframe.index
    ols_clusters = ols_clusters.loc[index]

    res = mod.fit(cov_type=&quotclustered&quot, clusters=clusters)
    <a id="change">ols_res = ols_mod.fit(cov_type=&quotclustered&quot, clusters=ols_clusters)</a>
    assert_results_equal(res, ols_res)


def test_first_difference_errors(data):</code></pre><img src="302634824.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 12</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/12679af141523fc96e446656e41bd877ac7108ab#diff-9d3fb3e218853c3806c276f2f1bc9234f091d1c7a100ecd3c4494813f87742c0L84' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: 12679af141523fc96e446656e41bd877ac7108ab</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_firstdifference_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_firstdifference_ols_weighted</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L390' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_both_lvsd_weighted</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/12679af141523fc96e446656e41bd877ac7108ab#diff-9d3fb3e218853c3806c276f2f1bc9234f091d1c7a100ecd3c4494813f87742c0L84' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: 12679af141523fc96e446656e41bd877ac7108ab</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_firstdifference_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_firstdifference_ols_weighted</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L437' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_other_lvsd</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L485' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_other_fwl</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L248' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_time_lvsd</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L363' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_time_lvsd_weighted</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L196' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_entity_lvsd</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L271' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_time_fwl</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L294' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_both_lvsd</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L315' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_both_fwl</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L339' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_entity_lvsd_weighted</div><BR><BR><div id='link'><a href='https://github.com/bashtage/linearmodels/commit/f322418309cc55068ae1ab8f1e4ed45e82ab8e0c#diff-0b747dffcc78cc6ade07a4c757bc1ff0fb78fb9e1002aaea80f47cd104c8f2f7L222' target='_blank'>Link</a></div><div id='project'> Project Name: bashtage/linearmodels</div><div id='commit'> Commit Name: f322418309cc55068ae1ab8f1e4ed45e82ab8e0c</div><div id='time'> Time: 2017-04-05</div><div id='author'> Author: kevin.k.sheppard@gmail.com</div><div id='file'> File Name: linearmodels/tests/panel/test_panel_ols.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_panel_entity_fwl</div><BR>