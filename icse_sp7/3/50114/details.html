<html><h3>683d81bb49096867f5ad8d3dde23217ea54d6790,examples/training/train_new_entity_type.py,,train_ner,#Any#Any#Any#,41
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                &#47&#47if not gold.ner[i].endswith(&quotANIMAL&quot):
                &#47&#47    gold.ner[i] = &quot-&quot
            doc = nlp.make_doc(raw_text)
            <a id="change">nlp.tagger(doc)</a>
            &#47&#47 As of 1.9, spaCy&quots parser now lets you supply a dropout probability
            &#47&#47 This might help the model generalize better from only a few
            &#47&#47 examples.
            loss += nlp.entity.update(doc, gold, drop=0.9)</code></pre><h3>After Change</h3><pre><code class='java'>
    optimizer = nlp.begin_training(lambda: [])
    nlp.meta[&quotname&quot] = &quoten_ent_animal&quot
    for itn in range(50):
        <a id="change">losses = {}</a>
        for batch in minibatch(get_gold_parses(nlp.make_doc, train_data), size=3):
            docs, golds = zip(*batch)
            nlp.update(docs, golds, losses=losses, sgd=optimizer, update_shared=True,
                       drop=0.35)
        <a id="change">print(losses)</a>
    if not output_dir:
        return
    elif not output_dir.exists():
        output_dir.mkdir()</code></pre><img src="233531034.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/explosion/spaCy/commit/683d81bb49096867f5ad8d3dde23217ea54d6790#diff-3cbe571eaaeab776410bdd07bcc649b1376b1bc23fe177a3615caf8ad7f2bdb0L43' target='_blank'>Link</a></div><div id='project'> Project Name: explosion/spaCy</div><div id='commit'> Commit Name: 683d81bb49096867f5ad8d3dde23217ea54d6790</div><div id='time'> Time: 2017-09-14</div><div id='author'> Author: honnibal+gh@gmail.com</div><div id='file'> File Name: examples/training/train_new_entity_type.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train_ner</div><BR><BR><div id='link'><a href='https://github.com/estnltk/estnltk/commit/f44cb644187ca69159fd79fb917077520c3ea031#diff-4bde63e58a006f7905c96858dbfeb039c4cca4ea8b5890209e8a7989a71972a7L18' target='_blank'>Link</a></div><div id='project'> Project Name: estnltk/estnltk</div><div id='commit'> Commit Name: f44cb644187ca69159fd79fb917077520c3ea031</div><div id='time'> Time: 2014-11-28</div><div id='author'> Author: brainscauseminds@gmail.com</div><div id='file'> File Name: estnltk/examples/ex01.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/estnltk/estnltk/commit/d02455a981e07a6fbf56e0e128b0aa085d112aed#diff-bacc50dee963c8dc98a8a2d56b03f2ce29a4478a28697fd6807824c6678807c6L18' target='_blank'>Link</a></div><div id='project'> Project Name: estnltk/estnltk</div><div id='commit'> Commit Name: d02455a981e07a6fbf56e0e128b0aa085d112aed</div><div id='time'> Time: 2014-12-12</div><div id='author'> Author: brainscauseminds@gmail.com</div><div id='file'> File Name: estnltk/examples/ex10.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>