<html><h3>749855e9d1b5bd1aa7b46db144503922fbc0a336,doc/examples/brain_extraction_dwi.py,,,#,8
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

fetch_scil_b0()

<a id="change">dipy_home = pjoin(os.path.expanduser(&quot~&quot), &quot.dipy&quot)</a>
files = [dipy_home+&quot/datasets_multi-site_all_companies/3T/GE/b0.nii.gz&quot, 
         dipy_home+&quot/datasets_multi-site_all_companies/3T/Siemens/b0.nii.gz&quot, 
         dipy_home+&quot/datasets_multi-site_all_companies/3T/Philips/b0.nii.gz&quot,
         dipy_home+&quot/datasets_multi-site_all_companies/1.5T/GE/b0.nii.gz&quot, 
         dipy_home+&quot/datasets_multi-site_all_companies/1.5T/Siemens/b0.nii.gz&quot,
         dipy_home+&quot/datasets_multi-site_all_companies/Stanford/b0.nii.gz&quot]

<a id="change">for f in files :
    print(f)
    img = nib.load(f)
    data = img.get_data()
    fname = os.path.splitext(os.path.splitext(f)[0])[0]

    b0_mask, mask = medotsu(data, 4, 4, autocrop=False)
    mask_img = nib.Nifti1Image(mask.astype(np.float32), img.get_affine())
    b0_img = nib.Nifti1Image(b0_mask.astype(np.float32), img.get_affine())
    nib.save(mask_img, fname+&quot_binary_mask.nii.gz&quot)
    nib.save(b0_img, fname+&quot_mask.nii.gz&quot)
    
    b0_mask_crop, mask_crop = medotsu(data, 4, 4, autocrop=True)
    mask_img_crop = nib.Nifti1Image(mask_crop.astype(np.float32), img.get_affine())
    b0_img_crop = nib.Nifti1Image(b0_mask_crop.astype(np.float32), img.get_affine())
    nib.save(mask_img_crop, fname+&quot_binary_mask_crop.nii.gz&quot)
    nib.save(b0_img_crop, fname+&quot_mask_crop.nii.gz&quot)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
import matplotlib.pyplot as plt

slice = data.shape[2]/2
<a id="change">plt.figure(&quotBrain segmentation&quot)</a>
plt.subplot(1,2,1)
plt.imshow(data[:,:,slice])
plt.subplot(1,2,2)
plt.imshow(b0_mask[:,:,slice])</code></pre><img src="211023923.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nipy/dipy/commit/749855e9d1b5bd1aa7b46db144503922fbc0a336#diff-fb35552abe0a7bec4cfb27d2ea145374542cb6ed4f4f90c5abed80b28ad54748L10' target='_blank'>Link</a></div><div id='project'> Project Name: nipy/dipy</div><div id='commit'> Commit Name: 749855e9d1b5bd1aa7b46db144503922fbc0a336</div><div id='time'> Time: 2013-08-06</div><div id='author'> Author: matthieu.dumont@usherbrooke.ca</div><div id='file'> File Name: doc/examples/brain_extraction_dwi.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/kymatio/kymatio/commit/4f1e7f2f936bf5f3e6d1da8d8be843dc3273fe67#diff-ea073cd57d199b8e8923b8273dbe07bf5a9e560ad0c95c57cc66ed842c4e93edL18' target='_blank'>Link</a></div><div id='project'> Project Name: kymatio/kymatio</div><div id='commit'> Commit Name: 4f1e7f2f936bf5f3e6d1da8d8be843dc3273fe67</div><div id='time'> Time: 2018-11-21</div><div id='author'> Author: janden@flatironinstitute.org</div><div id='file'> File Name: examples/1d/plot_filters.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/brian-team/brian2/commit/f1341aadc81819ed2bb3223a9fa878ec7b25f547#diff-f8f5e9960758433e2429754c9341ba5c179e5c34837829db22fbd94e1d9d85d1L136' target='_blank'>Link</a></div><div id='project'> Project Name: brian-team/brian2</div><div id='commit'> Commit Name: f1341aadc81819ed2bb3223a9fa878ec7b25f547</div><div id='time'> Time: 2015-12-01</div><div id='author'> Author: dg.github@thesamovar.net</div><div id='file'> File Name: dev/benchmarks/compare_to_brian1.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>