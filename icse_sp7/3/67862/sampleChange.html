<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

total_reward = 0
t = 0
<a id="change">for i in range(timstep_limit):
    t += sim_dt
    &#47&#47import pdb; pdb.set_trace()
    &#47&#47observation, reward, done, info = env.step(np.ones(locCtrl.n_par), project = True)
    observation, reward, done, info = env.step(params, project = True)
    total_reward += reward
    obs_dict = env.get_observation_dict()
    if done:
        break

&#47&#47 visualize v_tgt --------------------------------------------------------------
    if flag_visualize_vtgt and i%20==0:
        if env.flag_new_v_tgt_field:
            q0.remove()
            X = vtgt_obj.map[0]
            Y = vtgt_obj.map[1]
            U = vtgt_obj.vtgt[0]
            V = vtgt_obj.vtgt[1]
            R = np.sqrt(U**2 + V**2)
            q0 = axes[0].quiver(X, Y, U, V, R)
            axes[0].axis(&quotequal&quot)

        pose = env.pose            
        axes[0].plot(pose[0], pose[1], &quotk.&quot)
        
        X, Y = vtgt_obj._generate_grid(vtgt_obj.rng_get, vtgt_obj.res_get)
        U = env.v_tgt_field[0]
        V = env.v_tgt_field[1]
        R = np.sqrt(U**2 + V**2)
        axes[1].clear()
        axes[1].quiver(X, Y, U, V, R)
        axes[1].plot(0, 0, &quotk.&quot)
        axes[1].axis(&quotequal&quot)
        
        plt.pause(0.0001)
&#47&#47 visualize v_tgt --------------------------------------------------------------

</a>print(&quot    score={} time={}sec&quot.format(total_reward, t))

&#47&#47 visualize v_tgt --------------------------------------------------------------
if flag_visualize_vtgt:</code></pre><h3>After Change</h3><pre><code class='java'>
try:
    for line in xrecentbest:
        pass
    last = <a id="change">np.fromstring(line, sep=&quot &quot)</a>
    params = last[5:]
except:
    pass
</code></pre>