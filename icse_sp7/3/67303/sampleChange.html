<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if state.last_comms:
            state.last_comms.close()
        state.last_pushed_doc = state.document
        <a id="change">state.last_pushed_json = state.document.to_json()</a>
        state.last_comms = get_comms(comms_target)

def _show_server_with_state(obj, state, new, controller):
    push(state=state)</code></pre><h3>After Change</h3><pre><code class='java'>
    else:
        comms_target = str(uuid.uuid4())
        publish_display_data({&quottext/html&quot: notebook_div(obj, comms_target)})
        handle = _CommsHandle(get_comms(comms_target), state.document, <a id="change">state.document.to_json()</a>)
        state.last_comms_handle = handle
        return handle
</code></pre>