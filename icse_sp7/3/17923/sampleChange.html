<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                ]
                if prob_seq is not None:
                    annotation.append(("confidence", prob_seq))
                doc_annotations.add(<a id="change">tuple(annotation)</a>)
        doc_annotations = sorted([dict(items) for items in doc_annotations], key=lambda x: x[&quotstart&quot])
        annotations.append(doc_annotations)
    return raw_texts, annotations</code></pre><h3>After Change</h3><pre><code class='java'>
                    annotation["confidence"] = confidences

                &#47&#47 prevent duplicate annotation edge case
                <a id="change">if (annotation_start, annotation_end) not in annotation_ranges:
                    annotation_ranges.add((annotation_start, annotation_end))
                    doc_annotations.append(annotation)
                    
       </a> doc_annotations = sorted([dict(items) for items in doc_annotations], key=lambda x: x[&quotstart&quot])
        annotations.append(doc_annotations)
    return raw_texts, annotations
</code></pre>