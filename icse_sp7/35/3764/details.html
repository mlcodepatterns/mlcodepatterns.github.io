<html><h3>f516cc6ddefeeecec0e42e1f25deee24737af2bc,keras/applications/resnet50.py,,ResNet50,#Any#Any#Any#Any#Any#Any#,127
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    &#47&#47 load weights
    if weights == &quotimagenet&quot:
        <a id="change">if K.image_data_format() == &quotchannels_first&quot:
            if include_top:
                weights_path = get_file(&quotresnet50_weights_th_dim_ordering_th_kernels.h5&quot,
                                        TH_WEIGHTS_PATH,
                                        cache_subdir=&quotmodels&quot,
                                        md5_hash=&quot1c1f8f5b0c8ee28fe9d950625a230e1c&quot)
            else:
                weights_path = get_file(&quotresnet50_weights_th_dim_ordering_th_kernels_notop.h5&quot,
                                        TH_WEIGHTS_PATH_NO_TOP,
                                        cache_subdir=&quotmodels&quot,
                                        md5_hash=&quotf64f049c92468c9affcd44b0976cdafe&quot)
            model.load_weights(weights_path)
            if K.backend() == &quottensorflow&quot:
                warnings.warn(&quotYou are using the TensorFlow backend, yet you &quot
                              &quotare using the Theano &quot
                              &quotimage data format convention &quot
                              &quot(`image_data_format="channels_first"`). &quot
                              &quotFor best performance, set &quot
                              &quot`image_data_format="channels_last"` in &quot
                              &quotyour Keras config &quot
                              &quotat ~/.keras/keras.json.&quot)
                convert_all_kernels_in_model(model)
        else:
            if include_top:
                weights_path = get_file(&quotresnet50_weights_tf_dim_ordering_tf_kernels.h5&quot,
                                        TF_WEIGHTS_PATH,
                                        cache_subdir=&quotmodels&quot,
                                        md5_hash=&quota7b3fe01876f51b976af0dea6bc144eb&quot)
            else:
                weights_path = get_file(&quotresnet50_weights_tf_dim_ordering_tf_kernels_notop.h5&quot,
                                        TF_WEIGHTS_PATH_NO_TOP,
                                        cache_subdir=&quotmodels&quot,
                                        md5_hash=&quota268eb855778b3df3c7506639542a6af&quot)
            model.load_weights(weights_path)
            if K.backend() == &quottheano&quot:
                convert_all_kernels_in_model(model)
   </a> return model
</code></pre><h3>After Change</h3><pre><code class='java'>
        if K.backend() == &quottheano&quot:
            layer_utils.convert_all_kernels_in_model(model)

        <a id="change">if K.image_data_format() == &quotchannels_first&quot:
            if include_top:
                maxpool = model.get_layer(name=&quotavg_pool&quot)
                shape = maxpool.output_shape[1:]
                dense = model.get_layer(name=&quotfc1000&quot)
                layer_utils.convert_dense_weights_data_format(dense, shape, &quotchannels_first&quot)

            if K.backend() == &quottensorflow&quot:
                warnings.warn(&quotYou are using the TensorFlow backend, yet you &quot
                              &quotare using the Theano &quot
                              &quotimage data format convention &quot
                              &quot(`image_data_format="channels_first"`). &quot
                              &quotFor best performance, set &quot
                              &quot`image_data_format="channels_last"` in &quot
                              &quotyour Keras config &quot
                              &quotat ~/.keras/keras.json.&quot)
   </a> return model
</code></pre><img src="24822138.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 21</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/f516cc6ddefeeecec0e42e1f25deee24737af2bc#diff-0045b5d705fd1ea2c745a012ca8fb2288fc5ede144f9f586f217809628779273L250' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: f516cc6ddefeeecec0e42e1f25deee24737af2bc</div><div id='time'> Time: 2017-02-25</div><div id='author'> Author: francois.chollet@gmail.com</div><div id='file'> File Name: keras/applications/resnet50.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: ResNet50</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/f516cc6ddefeeecec0e42e1f25deee24737af2bc#diff-0045b5d705fd1ea2c745a012ca8fb2288fc5ede144f9f586f217809628779273L250' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: f516cc6ddefeeecec0e42e1f25deee24737af2bc</div><div id='time'> Time: 2017-02-25</div><div id='author'> Author: francois.chollet@gmail.com</div><div id='file'> File Name: keras/applications/resnet50.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: ResNet50</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/f516cc6ddefeeecec0e42e1f25deee24737af2bc#diff-f78dfa98c2264c8e8b1ba803057c337e78912008489213755cb20721991f4ac1L160' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: f516cc6ddefeeecec0e42e1f25deee24737af2bc</div><div id='time'> Time: 2017-02-25</div><div id='author'> Author: francois.chollet@gmail.com</div><div id='file'> File Name: keras/applications/vgg19.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: VGG19</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/f516cc6ddefeeecec0e42e1f25deee24737af2bc#diff-68478109e0b74b2caa446de52b6b519abc4a7dfd2180f0d4203fe3d91d8c5b88L157' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: f516cc6ddefeeecec0e42e1f25deee24737af2bc</div><div id='time'> Time: 2017-02-25</div><div id='author'> Author: francois.chollet@gmail.com</div><div id='file'> File Name: keras/applications/vgg16.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: VGG16</div><BR>