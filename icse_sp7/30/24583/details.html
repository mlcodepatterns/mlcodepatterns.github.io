<html><h3>3cbeab42c246425425c584cd53f1cc25d8c738a7,torchreid/datasets/cuhk03.py,CUHK03,__init__,#CUHK03#Any#Any#Any#Any#Any#,42
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if verbose:
            self.print_dataset_statistics(train, query, gallery)

        <a id="change">self.train = train</a>
        <a id="change">self.query = query</a>
        <a id="change">self.gallery = gallery</a>

        <a id="change">self.num_train_pids, self.num_train_imgs, self.num_train_cams = self.get_imagedata_info(self.train)</a>
        <a id="change">self.num_query_pids, self.num_query_imgs, self.num_query_cams = self.get_imagedata_info(self.query)</a>
        <a id="change">self.num_gallery_pids, self.num_gallery_imgs, self.num_gallery_cams = self.get_imagedata_info(self.gallery)</a>

    def preprocess_split(self):
        
        This function is a bit complex and ugly, what it does is</code></pre><h3>After Change</h3><pre><code class='java'>
    
    dataset_dir = &quotcuhk03&quot

    def __init__(<a id="change">self</a>, root=&quotdata&quot, split_id=0, cuhk03_labeled=False, cuhk03_classic_split=False, verbose=True, **kwargs):
        super(CUHK03, self).__init__(root)
        self.dataset_dir = osp.join(self.root, self.dataset_dir)
        self.data_dir = osp.join(self.dataset_dir, &quotcuhk03_release&quot)
        self.raw_mat_path = osp.join(self.data_dir, &quotcuhk-03.mat&quot)
        
        self.imgs_detected_dir = osp.join(self.dataset_dir, &quotimages_detected&quot)
        self.imgs_labeled_dir = osp.join(self.dataset_dir, &quotimages_labeled&quot)
        
        self.split_classic_det_json_path = osp.join(self.dataset_dir, &quotsplits_classic_detected.json&quot)
        self.split_classic_lab_json_path = osp.join(self.dataset_dir, &quotsplits_classic_labeled.json&quot)
        
        self.split_new_det_json_path = osp.join(self.dataset_dir, &quotsplits_new_detected.json&quot)
        self.split_new_lab_json_path = osp.join(self.dataset_dir, &quotsplits_new_labeled.json&quot)
        
        self.split_new_det_mat_path = osp.join(self.dataset_dir, &quotcuhk03_new_protocol_config_detected.mat&quot)
        self.split_new_lab_mat_path = osp.join(self.dataset_dir, &quotcuhk03_new_protocol_config_labeled.mat&quot)

        required_files = [
            self.dataset_dir,
            self.data_dir,
            self.raw_mat_path,
            self.split_new_det_mat_path,
            self.split_new_lab_mat_path
        ]
        self.check_before_run(required_files)

        self.preprocess_split()

        if cuhk03_labeled:
            split_path = self.split_classic_lab_json_path if cuhk03_classic_split else self.split_new_lab_json_path
        else:
            split_path = self.split_classic_det_json_path if cuhk03_classic_split else self.split_new_det_json_path

        splits = read_json(split_path)
        assert split_id &lt; len(splits), &quotCondition split_id ({}) &lt; len(splits) ({}) is false&quot.format(split_id, len(splits))
        split = splits[split_id]

        train = split[&quottrain&quot]
        query = split[&quotquery&quot]
        gallery = split[&quotgallery&quot]

        <a id="change">self.init_attributes(train, query, gallery)</a>

        if verbose:
            self.print_dataset_statistics(train, query, gallery)
</code></pre><img src="128588522.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 10</div><BR><div id='size'>Non-data size: 31</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-ecb43664510bf7e8c5b714e0bff4467f5c4cf59648100fd2dd400d0df1021eccL42' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/cuhk03.py</div><div id='class'> Class Name: CUHK03</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-ecb43664510bf7e8c5b714e0bff4467f5c4cf59648100fd2dd400d0df1021eccL42' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/cuhk03.py</div><div id='class'> Class Name: CUHK03</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-71cad8268e3dca9c4ce2979bad9781bd6d2b0beacd85ffbc0033307d1c0e14e9L53' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/msmt17.py</div><div id='class'> Class Name: MSMT17</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-bf1d0b76b50853ea726386d27f3c4640d08375b89a324cf34ad8a80a200d0fe3L36' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/viper.py</div><div id='class'> Class Name: VIPeR</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-5f24d8cec0bf4b0363043e6f29b229b67c4b4e7610d874f5281cf7948832c2e5L41' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/prid.py</div><div id='class'> Class Name: PRID</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-7070e128e8f990e301f126fd6c0ec77f6c093970694e485be67774c3f870d050L38' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/dukemtmcreid.py</div><div id='class'> Class Name: DukeMTMCreID</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-fd00b0e9998ae0c2382ad04ea46ba8fdbdbf796dd0f6c9043d748488e0fefe3cL37' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/prid450s.py</div><div id='class'> Class Name: PRID450S</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-b7d7d7ae831c8785d1b9bd557b7406ce29d3b62514476006b4f9c1024e24a869L37' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/grid.py</div><div id='class'> Class Name: GRID</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-a4a0fe478138091fa3a0593ad96d0c0d8f409ef2cde88a55c97597e295848345L37' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/cuhk01.py</div><div id='class'> Class Name: CUHK01</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-a035b1ee8acd47298fdb85e9c3aa2b0a536e13016e91203ba6b52e51ca5c8d4dL35' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/market1501.py</div><div id='class'> Class Name: Market1501</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/3cbeab42c246425425c584cd53f1cc25d8c738a7#diff-457bc9aeee25f1803c58072e8dec25e2b2419764088253993d1106de6036ae6bL38' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: 3cbeab42c246425425c584cd53f1cc25d8c738a7</div><div id='time'> Time: 2019-03-15</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: torchreid/datasets/ilids.py</div><div id='class'> Class Name: iLIDS</div><div id='method'> Method Name: __init__</div><BR>