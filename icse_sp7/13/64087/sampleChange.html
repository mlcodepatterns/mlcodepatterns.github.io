<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        cars_that_have_left = []
        for veh_id in self.cars_before_ramp:
            if self.k.vehicle.get_edge(veh_id) == EDGE_AFTER_RAMP_METER:
                <a id="change">lane_change_mode = self.cars_before_ramp[veh_id][
                    "lane_change_mode"]</a>
                color = self.cars_before_ramp[veh_id]["color"]
                self.k.vehicle.set_color(veh_id, color)
                <a id="change">self.traci_connection.vehicle.setLaneChangeMode(
                    veh_id, lane_change_mode)</a>

                cars_that_have_left.append(veh_id)

        for veh_id in cars_that_have_left:</code></pre><h3>After Change</h3><pre><code class='java'>
        cars_that_have_left = []
        for veh_id in self.cars_before_ramp:
            if self.k.vehicle.get_edge(veh_id) == EDGE_AFTER_RAMP_METER:
                <a id="change">if self.simulator == &quottraci&quot:
                    lane_change_mode = self.cars_before_ramp[veh_id][
                        &quotlane_change_mode&quot]
                    self.k.kernel_api.vehicle.setLaneChangeMode(
                        veh_id, lane_change_mode)
               </a> color = self.cars_before_ramp[veh_id][&quotcolor&quot]
                self.k.vehicle.set_color(veh_id, color)

                cars_that_have_left.append(veh_id)</code></pre>