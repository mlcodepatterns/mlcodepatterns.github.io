<html><h3>b78d0685b201fa433507a4d4e1d0a0f70a0dc783,scripts/keras_benchmarks/models/lstm_text_generation_benchmark.py,LstmTextGenBenchmark,benchmarkLstmTextGen,#LstmTextGenBenchmark#Any#Any#,37
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    path = get_file(&quotnietzsche.txt&quot, origin=&quothttps://s3.amazonaws.com/text-datasets/nietzsche.txt&quot)
    text = open(path).read().lower()
    <a id="change">print(&quotcorpus length:&quot, len(text))</a>

    chars = sorted(list(set(text)))
    print(&quottotal chars:&quot, len(chars))
    char_indices = dict((c, i) for i, c in enumerate(chars))</code></pre><h3>After Change</h3><pre><code class='java'>

    optimizer = RMSprop(lr=0.01)

    <a id="change">if str(keras_backend) is "tensorflow" and gpu_count &gt; 1:
        model = multi_gpu_model(model, gpus=gpu_count)

   </a> model.compile(loss=&quotcategorical_crossentropy&quot, optimizer=optimizer)

    &#47&#47 train the model, output generated text after each iteration
    start_time = time.time()</code></pre><img src="126466891.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/benchmarks/commit/b78d0685b201fa433507a4d4e1d0a0f70a0dc783#diff-a98e70ce7df9f16d66925bc67ae68c27bb2056a6c2fb88c4e81428fc6ed415a6L42' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/benchmarks</div><div id='commit'> Commit Name: b78d0685b201fa433507a4d4e1d0a0f70a0dc783</div><div id='time'> Time: 2017-11-01</div><div id='author'> Author: anjalisridhar@google.com</div><div id='file'> File Name: scripts/keras_benchmarks/models/lstm_text_generation_benchmark.py</div><div id='class'> Class Name: LstmTextGenBenchmark</div><div id='method'> Method Name: benchmarkLstmTextGen</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/benchmarks/commit/b78d0685b201fa433507a4d4e1d0a0f70a0dc783#diff-a98e70ce7df9f16d66925bc67ae68c27bb2056a6c2fb88c4e81428fc6ed415a6L42' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/benchmarks</div><div id='commit'> Commit Name: b78d0685b201fa433507a4d4e1d0a0f70a0dc783</div><div id='time'> Time: 2017-11-01</div><div id='author'> Author: anjalisridhar@google.com</div><div id='file'> File Name: scripts/keras_benchmarks/models/lstm_text_generation_benchmark.py</div><div id='class'> Class Name: LstmTextGenBenchmark</div><div id='method'> Method Name: benchmarkLstmTextGen</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/benchmarks/commit/b78d0685b201fa433507a4d4e1d0a0f70a0dc783#diff-2aede4708aba4ae17acf20f4a333b14010e914c03a1cf1321514705acd7d18baL40' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/benchmarks</div><div id='commit'> Commit Name: b78d0685b201fa433507a4d4e1d0a0f70a0dc783</div><div id='time'> Time: 2017-11-01</div><div id='author'> Author: anjalisridhar@google.com</div><div id='file'> File Name: scripts/keras_benchmarks/models/cifar10_cnn_benchmark.py</div><div id='class'> Class Name: Cifar10CnnBenchmark</div><div id='method'> Method Name: benchmarkCifar10Cnn</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/benchmarks/commit/b78d0685b201fa433507a4d4e1d0a0f70a0dc783#diff-a28083396d8fa73ec2d95adb872e17a87b25c45ee0edb82b8db09f0d6960459aL50' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/benchmarks</div><div id='commit'> Commit Name: b78d0685b201fa433507a4d4e1d0a0f70a0dc783</div><div id='time'> Time: 2017-11-01</div><div id='author'> Author: anjalisridhar@google.com</div><div id='file'> File Name: scripts/keras_benchmarks/models/mnist_irnn_benchmark.py</div><div id='class'> Class Name: MnistIrnnBenchmark</div><div id='method'> Method Name: benchmarkMnistIrnn</div><BR>