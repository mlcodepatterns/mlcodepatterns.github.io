<html><h3>f15f59953d59ccca0fd3321d860a9768a3326941,research/object_detection/meta_architectures/center_net_meta_arch.py,CenterNetMetaArch,_rescore_instances,#CenterNetMetaArch#Any#Any#Any#,3006
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        continue
      class_id = kp_params.class_id
      keypoint_indices = kp_params.keypoint_indices
      num_keypoints = <a id="change">len(keypoint_indices)</a>
      kpt_mask = tf.reduce_sum(
          tf.one_hot(keypoint_indices, depth=total_num_keypoints), axis=0)
      kpt_mask_tiled = tf.tile(kpt_mask[tf.newaxis, tf.newaxis, :],
                               multiples=[batch, max_detections, 1])</code></pre><h3>After Change</h3><pre><code class='java'>
      visible_keypoints = tf.math.greater(keypoint_scores, 0.0)
      num_visible_keypoints = tf.reduce_sum(
          class_and_keypoint_mask_float *
          <a id="change">tf.cast(visible_keypoints, tf.float32)</a>, axis=-1)
      <a id="change">num_visible_keypoints = tf.math.maximum(num_visible_keypoints, 1.0)</a>
      scores_for_class = (1./num_visible_keypoints) * (
          tf.reduce_sum(class_and_keypoint_mask_float *
                        scores[:, :, tf.newaxis] *
                        keypoint_scores, axis=-1))</code></pre><img src="160453648.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/f15f59953d59ccca0fd3321d860a9768a3326941#diff-ee421de3daf8a640c16b7f6f5a5d3399d28ded3a5c073b9ee10e5e2a88b7e94fL1' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: f15f59953d59ccca0fd3321d860a9768a3326941</div><div id='time'> Time: 2021-03-11</div><div id='author'> Author: ronnyvotel@google.com</div><div id='file'> File Name: research/object_detection/meta_architectures/center_net_meta_arch.py</div><div id='class'> Class Name: CenterNetMetaArch</div><div id='method'> Method Name: _rescore_instances</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/cleverhans/commit/17d926283721a5b8b97610701b47256364170a39#diff-0e13eea8b6df2b43c4cbf21d72aa70eac4bd39065518269aca73a9209ac8b65cL51' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/cleverhans</div><div id='commit'> Commit Name: 17d926283721a5b8b97610701b47256364170a39</div><div id='time'> Time: 2020-11-23</div><div id='author'> Author: joel.frank@rub.de</div><div id='file'> File Name: cleverhans/future/tf2/utils_tf.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_or_guess_labels</div><BR><BR><div id='link'><a href='https://github.com/geomstats/geomstats/commit/51e58b16b173db89aaaf974cb9c0eed00d6fd52a#diff-eb4c060eec8763a5fbf9e482b1b8af3df6deb956dd19d73e5ca96fee33fdbb1bL273' target='_blank'>Link</a></div><div id='project'> Project Name: geomstats/geomstats</div><div id='commit'> Commit Name: 51e58b16b173db89aaaf974cb9c0eed00d6fd52a</div><div id='time'> Time: 2018-09-27</div><div id='author'> Author: ninamio78@gmail.com</div><div id='file'> File Name: geomstats/special_orthogonal_group.py</div><div id='class'> Class Name: SpecialOrthogonalGroup</div><div id='method'> Method Name: projection</div><BR><BR><div id='link'><a href='https://github.com/p2irc/deepplantphenomics/commit/ece4eae5b509ed74ff88c54c7d1689bbe7aeefd0#diff-887fa427c81c9f9afb428035199b78053fccbd11e105a2af53f212bd525310e4L223' target='_blank'>Link</a></div><div id='project'> Project Name: p2irc/deepplantphenomics</div><div id='commit'> Commit Name: ece4eae5b509ed74ff88c54c7d1689bbe7aeefd0</div><div id='time'> Time: 2019-09-18</div><div id='author'> Author: dbl599@mail.usask.ca</div><div id='file'> File Name: deepplantphenomics/object_detection_model.py</div><div id='class'> Class Name: ObjectDetectionModel</div><div id='method'> Method Name: _assemble_graph</div><BR>