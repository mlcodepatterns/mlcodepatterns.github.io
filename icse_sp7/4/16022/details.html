<html><h3>a7cd7a15a9baf741f2b4fcd32f3d8055827889b5,examples/word_language_model/generate.py,,,#,10
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
with open(args.outf, &quotw&quot) as outf:
    for i in range(args.words):
        output, hidden = learner.module_(input, hidden)
        word_weights = <a id="change">output</a>.squeeze().data.div(args.temperature).exp().cpu()
        <a id="change">word_idx = torch.multinomial(word_weights, 1)[0]</a>
        input.data.fill_(word_idx)
        word = corpus.dictionary.idx2word[word_idx]

        outf.write(word + (&quot\n&quot if i % 20 == 19 else &quot &quot))</code></pre><h3>After Change</h3><pre><code class='java'>
        word_idx, hidden = learner.sample(input=input,
                                          temperature=args.temperature,
                                          hidden=hidden)
        <a id="change">input = inferno.utils.to_var(torch.LongTensor([[word_idx]]),
                                     use_cuda=args.cuda)</a>

        word = corpus.dictionary.idx2word[word_idx]
        outf.write(word + (&quot\n&quot if i % 20 == 19 else &quot &quot))
</code></pre><img src="93242411.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dnouri/skorch/commit/a7cd7a15a9baf741f2b4fcd32f3d8055827889b5#diff-0d8330272d51c187cfadac738b89d6d2eca77120dfff0daeca5c94e50c932b9dL30' target='_blank'>Link</a></div><div id='project'> Project Name: dnouri/skorch</div><div id='commit'> Commit Name: a7cd7a15a9baf741f2b4fcd32f3d8055827889b5</div><div id='time'> Time: 2017-08-08</div><div id='author'> Author: marian.tietz@ottogroup.com</div><div id='file'> File Name: examples/word_language_model/generate.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/tensorflow/magenta/commit/f2559da66ce4435a8d3a8e17dd1e4fb18508151d#diff-e36d3d55d3723c8c1782dc543c801e6f5d24b5ebfa08310055a0b686e54e30acL250' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/magenta</div><div id='commit'> Commit Name: f2559da66ce4435a8d3a8e17dd1e4fb18508151d</div><div id='time'> Time: 2021-03-25</div><div id='author'> Author: no-reply@google.com</div><div id='file'> File Name: magenta/models/coconet/lib_graph.py</div><div id='class'> Class Name: CoconetGraph</div><div id='method'> Method Name: apply_convolution</div><BR><BR><div id='link'><a href='https://github.com/mozilla/TTS/commit/5750090fcd4a6718608c7357e3890f5b2a545ae0#diff-63415e5bdfe9c172be8a9cadb35d1f47d718fea5f15c6879f5715ebb9e331155L239' target='_blank'>Link</a></div><div id='project'> Project Name: mozilla/TTS</div><div id='commit'> Commit Name: 5750090fcd4a6718608c7357e3890f5b2a545ae0</div><div id='time'> Time: 2018-03-22</div><div id='author'> Author: egolge@mozilla.com</div><div id='file'> File Name: layers/tacotron.py</div><div id='class'> Class Name: Decoder</div><div id='method'> Method Name: forward</div><BR>