<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
  result = context.zeros_numpy_array(typename, as_matrix=False)
  for e in entity_names:
    if e:
      <a id="change">try:
        result += context.one_hot_numpy_array(e, typename, as_matrix=False)
      except nql.EntityNameError:
        pass
 </a> return result


def placeholder_for_type(context,</code></pre><h3>After Change</h3><pre><code class='java'>
  &#47&#47 None is not a valid id.
  valid_ids = [x for x in ids if x is not None]
  max_id = context.get_max_id(typename)
  <a id="change">result = np.zeros((max_id,), dtype=&quotfloat32&quot)</a>
  if valid_ids:
    result[valid_ids] = 1.
  return result
</code></pre>