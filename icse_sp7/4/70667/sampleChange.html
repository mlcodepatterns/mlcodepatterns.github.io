<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if message is None or len(message.strip()) == 0:
            return False, 400, &quotempty message body&quot

        <a id="change">try:
            str(base64.b64decode(bytes(message, &quotutf-8&quot)), &quotutf-8&quot)
        except Exception as e:
            logger.warning(&quotinvalid message content, could not decode base64: %s&quot % str(e))
            return False, 400, &quotinvalid message content, not base64 encoded&quot

       </a> if room_id is None or room_id == &quot&quot:
            return False, 400, &quotno room id specified when sending message&quot

        if object_type not in [&quotroom&quot, &quotprivate&quot]:</code></pre><h3>After Change</h3><pre><code class='java'>
        if message is None or len(message.strip()) == 0:
            return False, 400, &quotempty message body&quot

        <a id="change">if not self._is_base64(message):
            return False, 400, &quotinvalid message content, not base64 encoded&quot

       </a> if room_id is None or room_id == &quot&quot:
            return False, 400, &quotno room id specified when sending message&quot

        if object_type not in [&quotroom&quot, &quotprivate&quot]:</code></pre>