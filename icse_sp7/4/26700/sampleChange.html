<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        for node_id in nodes.keys():
            self.execute("SELECT id FROM link WHERE orig=%s", (node_id,))
            rows = <a id="change">self.cur.fetchall()</a>
            for row in rows:
                link = Link().get_by_id(<a id="change">row[0]</a>)
                if link.targ in nodes.keys():
                    ilinks.append(link)
</code></pre><h3>After Change</h3><pre><code class='java'>

    def _internal_links(self, nodes):
        ilinks = {}
        <a id="change">for key, node in nodes.items():
            ilinks[node.d[&quot_id&quot]] = []
    
       </a> for key, orig in nodes.items():
            targs = orig.d[&quottargs&quot]
            for targ_id, targ_list in targs.items():
                if targ_id in nodes.keys():</code></pre>