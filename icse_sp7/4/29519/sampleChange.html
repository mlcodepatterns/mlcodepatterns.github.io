<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            if(kk==0):
                val = 1.*cur_score
            else:
                <a id="change">val = val + cur_score</a>
            if(retPerLayer):
                all_scores+=[cur_score]

        if(retPerLayer):
            return (val, all_scores)
        else:
            <a id="change">return val</a>

&#47&#47 Learned perceptual metric
class PNetLin(nn.Module):
    def __init__(self, pnet_type=&quotvgg&quot, pnet_rand=False, pnet_tune=False, use_dropout=True, spatial=False, version=&quot0.1&quot):</code></pre><h3>After Change</h3><pre><code class='java'>
        elif(self.colorspace==&quotLab&quot):
            value = util.dssim(util.tensor2np(util.tensor2tensorlab(in0.data,to_norm=False)), 
                util.tensor2np(util.tensor2tensorlab(in1.data,to_norm=False)), range=100.).astype(&quotfloat&quot)
        ret_var = Variable( <a id="change">torch.Tensor((value,) )</a> )
        if(self.use_gpu):
            ret_var = ret_var.cuda()
        <a id="change">return ret_var</a>

def print_network(net):
    num_params = 0
    for param in net.parameters():</code></pre>