<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def setUp(self):
        super(LogTestCase, self).setUp()

        <a id="change">self.user</a> = "test_user"
        self.pkg = "pkg"
        <a id="change">self.hashes</a> = <a id="change">[&quot123&quot, &quot456&quot, &quot789&quot]</a>

        &#47&#47 Upload three package hashes.
        <a id="change">for h in self.hashes:
            pkgurl = &quot/api/package/{usr}/{pkg}/{hash}&quot.format(
                usr=self.user,
                pkg=self.pkg,
                hash=h
            )

            resp = self.app.put(
                pkgurl,
                data=json.dumps(dict(
                    description=""
                )),
                content_type=&quotapplication/json&quot,
                headers={
                    &quotAuthorization&quot: self.user
                }
            )

            assert resp.status_code == requests.codes.ok

   </a> def testLog(self):
        resp = self.app.get(
            &quot/api/log/{usr}/{pkg}/&quot.format(
                usr=self.user,</code></pre><h3>After Change</h3><pre><code class='java'>
    
    Test log endpoint.
    
    def setUp(<a id="change">self</a>):
        super(LogTestCase, self).setUp()

        self.user = "test_user"
        self.pkg = "pkg"
        <a id="change">self.contents_list = [
            {&quotfoo&quot: []},
            {&quotbar&quot: []},
            {&quotbaz&quot: []},
        ]</a>

        &#47&#47 Upload three package instances.
        <a id="change">for contents in self.contents_list:
            self.put_package(self.user, self.pkg, contents)

   </a> def testLog(self):
        resp = self.app.get(
            &quot/api/log/{usr}/{pkg}/&quot.format(
                usr=self.user,</code></pre>