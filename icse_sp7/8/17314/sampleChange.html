<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def setup(hass, config):
     Sets up the HTTP API and debug interface. 

    <a id="change">if not validate_config(config, {DOMAIN: [CONF_API_PASSWORD]}, _LOGGER):
        return False

   </a> api_password = config[DOMAIN][CONF_API_PASSWORD]

    &#47&#47 If no server host is given, accept all incoming requests
    server_host = config[DOMAIN].get(CONF_SERVER_HOST, &quot0.0.0.0&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
     Sets up the HTTP API and debug interface. 

    if config is None or DOMAIN not in config:
        config = <a id="change">{DOMAIN: {}}</a>

    api_password = config[DOMAIN].get(CONF_API_PASSWORD)

    <a id="change">no_password_set = api_password is None</a>

    if no_password_set:
        <a id="change">api_password = util.get_random_string()</a>

    &#47&#47 If no server host is given, accept all incoming requests
    server_host = config[DOMAIN].get(CONF_SERVER_HOST, &quot0.0.0.0&quot)
</code></pre>