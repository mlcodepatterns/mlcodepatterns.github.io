<html><h3>cd80a074396caa42b81068115c9b066f4ce08414,train_img_model_cent.py,,train,#Any#Any#Any#Any#Any#Any#Any#,193
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    for batch_idx, (imgs, pids, _) in enumerate(trainloader):
        if use_gpu:
            imgs, pids = imgs.cuda(), pids.cuda()
        <a id="change">imgs, pids = Variable(imgs), Variable(pids)</a>
        outputs, features = model(imgs)
        xentloss = criterion_xent(outputs, pids)
        centloss = criterion_cent(features, pids) * args.weight_cent
        loss = xentloss + centloss</code></pre><h3>After Change</h3><pre><code class='java'>
        for param in criterion_cent.parameters():
            param.grad.data *= (1. / args.weight_cent)
        optimizer_cent.step()
        losses.update(<a id="change">loss.item()</a>, pids.size(0))

        if (batch_idx+1) % args.print_freq == 0:
            print("Batch {}/{}\t Loss {:.6f} ({:.6f})".format(batch_idx+1, len(trainloader), losses.val, losses.avg))</code></pre><img src="160144107.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/cd80a074396caa42b81068115c9b066f4ce08414#diff-069f8765084422bb727f31fb63c2a3ef46debe00eb29de67bb97de45d462b33cL200' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: cd80a074396caa42b81068115c9b066f4ce08414</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: train_img_model_cent.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/cd80a074396caa42b81068115c9b066f4ce08414#diff-ad4d6ecf77a271cc94b647b2dde5c9957df2832560b2b1b68c1d482bda81eb63L208' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: cd80a074396caa42b81068115c9b066f4ce08414</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: train_img_model_xent_htri.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/cd80a074396caa42b81068115c9b066f4ce08414#diff-6dc8118154008bdb2a33893d3b52195e37d0eca18d520a75ee0229ff24172cd4L199' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: cd80a074396caa42b81068115c9b066f4ce08414</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: train_vid_model_xent_htri.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/cd80a074396caa42b81068115c9b066f4ce08414#diff-a70466c8977c5fecf87d4a4c2d9bf26612fb55d12ceb469a246ae65cefbd0885L190' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: cd80a074396caa42b81068115c9b066f4ce08414</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: train_vid_model_xent.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train</div><BR><BR><div id='link'><a href='https://github.com/zhirongw/lemniscate.pytorch/commit/4441480fde64e42a9c4af205bf2ab8003511172e#diff-d4bcd86e3fbd81398c16b224feff7e02cef0e2d525a0e8b17ae7652a482684b8L137' target='_blank'>Link</a></div><div id='project'> Project Name: zhirongw/lemniscate.pytorch</div><div id='commit'> Commit Name: 4441480fde64e42a9c4af205bf2ab8003511172e</div><div id='time'> Time: 2018-07-26</div><div id='author'> Author: xavibrowu@gmail.com</div><div id='file'> File Name: cifar.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/cd80a074396caa42b81068115c9b066f4ce08414#diff-bd658ed8b3a6087a99781489d4eb208b2740d88e2919bada3e8ebd250ba2b881L193' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: cd80a074396caa42b81068115c9b066f4ce08414</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: train_img_model_xent.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train</div><BR><BR><div id='link'><a href='https://github.com/KaiyangZhou/deep-person-reid/commit/cd80a074396caa42b81068115c9b066f4ce08414#diff-069f8765084422bb727f31fb63c2a3ef46debe00eb29de67bb97de45d462b33cL200' target='_blank'>Link</a></div><div id='project'> Project Name: KaiyangZhou/deep-person-reid</div><div id='commit'> Commit Name: cd80a074396caa42b81068115c9b066f4ce08414</div><div id='time'> Time: 2018-04-26</div><div id='author'> Author: k.zhou@qmul.ac.uk</div><div id='file'> File Name: train_img_model_cent.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train</div><BR>