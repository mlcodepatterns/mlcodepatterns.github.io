<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    nt.assert_almost_equal(s.axes_manager[0].scale, 2.5, places=5)
    nt.assert_almost_equal(s.axes_manager[1].scale, 0.16867, places=5)
    nt.assert_almost_equal(s.axes_manager[2].scale, 1.68674, places=5)
    <a id="change">fname2 = fname.replace(&quotDM_stack.tif&quot, &quotDM_stack2.tif&quot)</a>
    <a id="change">s.save(fname2, overwrite=True)</a>
    <a id="change">s2 = hs.load(fname2)</a>
    _compare_signal_shape_data(s, s2)
    nt.assert_equal(s2.axes_manager[0].units, s.axes_manager[0].units)
    nt.assert_equal(s2.axes_manager[1].units, &quotmicron&quot)
    nt.assert_equal(s2.axes_manager[2].units, &quotmicron&quot)
    nt.assert_almost_equal(s2.axes_manager[0].scale, s.axes_manager[0].scale,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[1].scale, s.axes_manager[1].scale,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[2].scale, s.axes_manager[2].scale,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[0].offset, s.axes_manager[0].offset,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[1].offset, s.axes_manager[1].offset,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[2].offset, s.axes_manager[2].offset,
                           places=5)
    <a id="change">if remove_files:
        os.remove(fname2)    

    
</a>def test_read_unit_from_imagej_stack_no_scale(import_local_tifffile=False):
    fname = os.path.join(my_path, &quottiff_files&quot,
        &quottest_loading_image_saved_with_imageJ_stack_no_scale.tif&quot)
    s = hs.load(fname, import_local_tifffile=import_local_tifffile)</code></pre><h3>After Change</h3><pre><code class='java'>
    nt.assert_almost_equal(s.axes_manager[0].scale, 2.5, places=5)
    nt.assert_almost_equal(s.axes_manager[1].scale, 0.16867, places=5)
    nt.assert_almost_equal(s.axes_manager[2].scale, 1.68674, places=5)
    <a id="change">with tempfile.TemporaryDirectory() as tmpdir:
        fname2 = os.path.join(
            tmpdir, &quottest_loading_image_saved_with_DM_stack2.tif&quot)
        s.save(fname2, overwrite=True)
        s2 = hs.load(fname2)
        _compare_signal_shape_data(s, s2)
        nt.assert_equal(s2.axes_manager[0].units, s.axes_manager[0].units)
        nt.assert_equal(s2.axes_manager[1].units, &quotmicron&quot)
        nt.assert_equal(s2.axes_manager[2].units, &quotmicron&quot)
        nt.assert_almost_equal(
            s2.axes_manager[0].scale, s.axes_manager[0].scale, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[1].scale, s.axes_manager[1].scale, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[2].scale, s.axes_manager[2].scale, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[0].offset, s.axes_manager[0].offset, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[1].offset, s.axes_manager[1].offset, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[2].offset, s.axes_manager[2].offset, places=5)


</a>def test_read_unit_from_imagej_stack_no_scale(import_local_tifffile=False):
    fname = os.path.join(MY_PATH, &quottiff_files&quot,
                         &quottest_loading_image_saved_with_imageJ_stack_no_scale.tif&quot)
    s = hs.load(fname, import_local_tifffile=import_local_tifffile)</code></pre>