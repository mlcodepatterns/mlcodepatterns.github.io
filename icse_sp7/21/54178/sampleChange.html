<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
      self.assertIn(&quot--master-user-password=fakepassword&quot, command_string)

  def testNoHighAvailability(self):
    <a id="change">with self._PatchCriticalObjects() as issue_command:
      db = self.createManagedDbFromSpec(self.createSpecDict())
      db._Create()
      self.assertEquals(issue_command.call_count, 1)
      command_string = &quot &quot.join(issue_command.call_args[0][0])

      self.assertNotIn(&quot--multi-az&quot, command_string)

 </a> def testHighAvailability(self):
    with self._PatchCriticalObjects() as issue_command:
      spec = self.createSpecDict()
      spec[&quothigh_availability&quot] = True</code></pre><h3>After Change</h3><pre><code class='java'>
    self.assertIn(&quot--engine=mysql&quot, command_string)
    self.assertIn(&quot--master-user-password=fakepassword&quot, command_string)

  def testNoHighAvailability(<a id="change">self</a>):
    spec_dict = {
        &quotmulti_az&quot: False,
    }
    <a id="change">command_string = self.create(spec_dict)</a>

    self.assertNotIn(&quot--multi-az&quot, command_string)

  def testHighAvailability(self):</code></pre>