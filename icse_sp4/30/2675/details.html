<html><h3>25d18ec72f1a113ee42456125fc3557a0d5ce135,pgmpy/inference/continuous_sampling.py,HamiltonianMC,generate_sample,#HamiltonianMC#Any#Any#Any#Any#,203
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                theta_bar, momentum_bar = self.discretize_time(self.grad_log_pdf, self.model, theta_bar.copy(),
                                                               momentum_bar.copy(), epsilon).discretize_time()

            <a id="change">_</a>, <a id="change">log_bar</a> = self.grad_log_pdf(theta_bar.copy(), self.model).get_gradient_log_pdf()
            &#47&#47 log_m_1 = log(theta_m) or log(theta_m_1)
            <a id="change">_</a>, log_m_1 = self.grad_log_pdf(theta_m.copy(), self.model).get_gradient_log_pdf()

            &#47&#47 Metropolis acceptance probability
            <a id="change">alpha = min(1, np.exp(log_bar - log_m_1 - 0.5 *
                                  np.float(np.dot(momentum_bar.T, momentum_bar) - np.dot(momentum0.T, momentum0))))</a>

            &#47&#47 Accept or reject the new proposed value of theta, i.e theta_bar
            if np.random.rand() &lt; alpha:
                theta_m = theta_bar.copy()</code></pre><h3>After Change</h3><pre><code class='java'>
                theta_bar, momentum_bar = self.discretize_time(self.grad_log_pdf, self.model, theta_bar.copy(),
                                                               momentum_bar.copy(), epsilon).discretize_time()

            <a id="change">acceptance_prob = self._acceptance_prob(theta_m.copy(), theta_bar.copy(), momentum0, momentum_bar)</a>
            &#47&#47 Metropolis acceptance probability
            <a id="change">alpha = min(1, acceptance_prob)</a>
            &#47&#47 Accept or reject the new proposed value of theta, i.e theta_bar
            if np.random.rand() &lt; alpha:
                theta_m = theta_bar.copy()
</code></pre><img src="19581354.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 20</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pgmpy/pgmpy/commit/25d18ec72f1a113ee42456125fc3557a0d5ce135#diff-a61a38418e4e1b12436cef4e2147e9b1c7a08e21617c6b34a14d09ee0c6bdde3L200' target='_blank'>Link</a></div><div id='project'> Project Name: pgmpy/pgmpy</div><div id='commit'> Commit Name: 25d18ec72f1a113ee42456125fc3557a0d5ce135</div><div id='time'> Time: 2016-06-17</div><div id='author'> Author: utkarsh.gupta550@gmail.com</div><div id='file'> File Name: pgmpy/inference/continuous_sampling.py</div><div id='class'> Class Name: HamiltonianMC</div><div id='method'> Method Name: generate_sample</div><BR><BR><div id='link'><a href='https://github.com/pgmpy/pgmpy/commit/25d18ec72f1a113ee42456125fc3557a0d5ce135#diff-a61a38418e4e1b12436cef4e2147e9b1c7a08e21617c6b34a14d09ee0c6bdde3L203' target='_blank'>Link</a></div><div id='project'> Project Name: pgmpy/pgmpy</div><div id='commit'> Commit Name: 25d18ec72f1a113ee42456125fc3557a0d5ce135</div><div id='time'> Time: 2016-06-17</div><div id='author'> Author: utkarsh.gupta550@gmail.com</div><div id='file'> File Name: pgmpy/inference/continuous_sampling.py</div><div id='class'> Class Name: HamiltonianMC</div><div id='method'> Method Name: generate_sample</div><BR><BR><div id='link'><a href='https://github.com/pgmpy/pgmpy/commit/25d18ec72f1a113ee42456125fc3557a0d5ce135#diff-a61a38418e4e1b12436cef4e2147e9b1c7a08e21617c6b34a14d09ee0c6bdde3L464' target='_blank'>Link</a></div><div id='project'> Project Name: pgmpy/pgmpy</div><div id='commit'> Commit Name: 25d18ec72f1a113ee42456125fc3557a0d5ce135</div><div id='time'> Time: 2016-06-17</div><div id='author'> Author: utkarsh.gupta550@gmail.com</div><div id='file'> File Name: pgmpy/inference/continuous_sampling.py</div><div id='class'> Class Name: HamiltonianMCda</div><div id='method'> Method Name: generate_sample</div><BR><BR><div id='link'><a href='https://github.com/pgmpy/pgmpy/commit/25d18ec72f1a113ee42456125fc3557a0d5ce135#diff-a61a38418e4e1b12436cef4e2147e9b1c7a08e21617c6b34a14d09ee0c6bdde3L116' target='_blank'>Link</a></div><div id='project'> Project Name: pgmpy/pgmpy</div><div id='commit'> Commit Name: 25d18ec72f1a113ee42456125fc3557a0d5ce135</div><div id='time'> Time: 2016-06-17</div><div id='author'> Author: utkarsh.gupta550@gmail.com</div><div id='file'> File Name: pgmpy/inference/continuous_sampling.py</div><div id='class'> Class Name: HamiltonianMC</div><div id='method'> Method Name: sample</div><BR><BR><div id='link'><a href='https://github.com/pgmpy/pgmpy/commit/25d18ec72f1a113ee42456125fc3557a0d5ce135#diff-a61a38418e4e1b12436cef4e2147e9b1c7a08e21617c6b34a14d09ee0c6bdde3L348' target='_blank'>Link</a></div><div id='project'> Project Name: pgmpy/pgmpy</div><div id='commit'> Commit Name: 25d18ec72f1a113ee42456125fc3557a0d5ce135</div><div id='time'> Time: 2016-06-17</div><div id='author'> Author: utkarsh.gupta550@gmail.com</div><div id='file'> File Name: pgmpy/inference/continuous_sampling.py</div><div id='class'> Class Name: HamiltonianMCda</div><div id='method'> Method Name: sample</div><BR>