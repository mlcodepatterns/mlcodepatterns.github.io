<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        version = data.get(CYCLE.VERSION, None)
        ping = int(data.get(CYCLE.PING, None))
        download = float(data.get(CYCLE.DOWNLOAD, None))
        <a id="change">upload = float(data.get(CYCLE.UPLOAD, None))</a>

        &#47&#47 Retrieve the worker
        worker = worker_manager.get(id=worker_id)

        worker.ping = ping
        worker.avg_download = download
        <a id="change">worker.avg_upload</a> = upload
        worker_manager.update(worker)  &#47&#47 Update database worker attributes

        &#47&#47 The last time this worker was assigned for this model/version.</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Request fields to worker&quots DB fields mapping
        fields_map = {
            <a id="change">CYCLE.PING</a>: "ping",
            CYCLE.DOWNLOAD: "avg_download",
            CYCLE.UPLOAD: "avg_upload",
        }</code></pre>