<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        batch_size = len(instances)
        &#47&#47with torch.no_grad():        
        cuda_device = self._get_prediction_device()
        <a id="change">dataset = Batch(instances)</a>
        <a id="change">dataset.index_instances(self.vocab)</a>
        model_input = util.move_to_device(dataset.as_tensor_dict(), cuda_device)
        outputs = self.decode(self(**model_input))

        instance_separated_output: List[Dict[str, numpy.ndarray]] = [</code></pre><h3>After Change</h3><pre><code class='java'>
        batch_size = len(instances)
        with torch.no_grad():
            cuda_device = self._get_prediction_device()
            <a id="change">dataset = Batch(instances)</a>
            <a id="change">dataset.index_instances(self.vocab)</a>
            model_input = util.move_to_device(dataset.as_tensor_dict(), cuda_device)
            outputs = self.decode(self(**model_input))

            instance_separated_output: List[Dict[str, numpy.ndarray]] = [</code></pre>