<html><h3>b4064f348bdb91a1431f8de9d9e4b618fb5958f4,parlai/agents/fairseq/fairseq.py,FairseqAgent,__init__,#FairseqAgent#Any#Any#,323
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.scorer = SequenceScorer([self.model], self.dict)

            &#47&#47 set up the grader and the trainer
            <a id="change">self.criterion = criterions.build_criterion(self.args, self.task)</a>

            &#47&#47 TODO: we might choose to add a --no-fp16 opt in the future to
            &#47&#47 explicitly disable fp16 instead
            if not self.args.fp16 and torch.cuda.get_device_capability(0)[0] &gt;= 7:
                print("Heads up: using --fp16 could be a lot faster!")
            if self.use_cuda:
                <a id="change">self.trainer</a> = trainer.Trainer(
                    self.args, self.task, self.model, self.criterion, None
                )
                self.trainer._build_optimizer()</code></pre><h3>After Change</h3><pre><code class='java'>
            self.meters = defaultdict(AverageMeter)

            &#47&#47 actually construct the criterion, model and generator
            <a id="change">self.build_criterion()</a>
            self.build_model()

            &#47&#47 Construct the generator and scorer
            self.generator = SequenceGenerator(</code></pre><img src="138695696.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/facebookresearch/ParlAI/commit/b4064f348bdb91a1431f8de9d9e4b618fb5958f4#diff-1442c06e8561a5d33630f9606185494a6af9328a25eff90acad6939372a3209aL323' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/ParlAI</div><div id='commit'> Commit Name: b4064f348bdb91a1431f8de9d9e4b618fb5958f4</div><div id='time'> Time: 2019-08-12</div><div id='author'> Author: ahm@fb.com</div><div id='file'> File Name: parlai/agents/fairseq/fairseq.py</div><div id='class'> Class Name: FairseqAgent</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/inferno-pytorch/inferno/commit/31371deaea42ffe74c886504fe7fb52e8e248fa1#diff-919105696491d8888597af8816c24c98eec8597fedc66df55f6a76009641fc35L24' target='_blank'>Link</a></div><div id='project'> Project Name: inferno-pytorch/inferno</div><div id='commit'> Commit Name: 31371deaea42ffe74c886504fe7fb52e8e248fa1</div><div id='time'> Time: 2018-08-09</div><div id='author'> Author: thorsten.beier@iwr.uni-heidelberg.de</div><div id='file'> File Name: examples/trainer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/inferno-pytorch/inferno/commit/31371deaea42ffe74c886504fe7fb52e8e248fa1#diff-12755b8104a0a4f2af7c5685a337efb4227a2c896db486bef6ff4b7c75e2f688L123' target='_blank'>Link</a></div><div id='project'> Project Name: inferno-pytorch/inferno</div><div id='commit'> Commit Name: 31371deaea42ffe74c886504fe7fb52e8e248fa1</div><div id='time'> Time: 2018-08-09</div><div id='author'> Author: thorsten.beier@iwr.uni-heidelberg.de</div><div id='file'> File Name: examples/train_side_loss_unet.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>