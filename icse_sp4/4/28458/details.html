<html><h3>fd5314780de9eef2b3a6d489dab2119e5b66a6fc,gym/wrappers/test_atari_preprocessing.py,,test_atari_preprocessing,#,11
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
@pytest.mark.skipif(atari_py is None, reason=&quotOnly run this test when atari_py is installed&quot)
def test_atari_preprocessing():
    import cv2
    env1 = <a id="change">gym.make(&quotPongNoFrameskip-v0&quot)</a>
    env2 = AtariPreprocessing(env1, screen_size=84, grayscale_obs=True)
    env3 = AtariPreprocessing(env1, screen_size=84, grayscale_obs=False)
    <a id="change">obs1 = env1.reset()</a>
    assert obs1.shape == (210, 160, 3)
    obs2 = env2.reset()
    assert obs2.shape == (84, 84)
    obs3 = env3.reset()</code></pre><h3>After Change</h3><pre><code class='java'>
    np.testing.assert_allclose(obs3, cv2.resize(obs1, (84, 84), interpolation=cv2.INTER_AREA))
    obs3_gray = cv2.cvtColor(obs3, cv2.COLOR_RGB2GRAY)
    &#47&#47 the edges of the numbers do not render quite the same in the grayscale, so we ignore them
    <a id="change">np.testing.assert_allclose(obs2[10:], obs3_gray[10:])</a>
</code></pre><img src="143838198.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/openai/gym/commit/fd5314780de9eef2b3a6d489dab2119e5b66a6fc#diff-444d0e4b12833cdd22ca699b4a690cceeb1a53332937bc38bdc7ad3edaf16a61L9' target='_blank'>Link</a></div><div id='project'> Project Name: openai/gym</div><div id='commit'> Commit Name: fd5314780de9eef2b3a6d489dab2119e5b66a6fc</div><div id='time'> Time: 2019-08-23</div><div id='author'> Author: peterzhokhoff@gmail.com</div><div id='file'> File Name: gym/wrappers/test_atari_preprocessing.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_atari_preprocessing</div><BR><BR><div id='link'><a href='https://github.com/rlworkgroup/garage/commit/7396eddab0151f368ad9d98eeed7c07868d67f47#diff-f3f556b12b2770cbbd96e1c3eee0d26c733641721e0cf2e865831e60db66cdbeL29' target='_blank'>Link</a></div><div id='project'> Project Name: rlworkgroup/garage</div><div id='commit'> Commit Name: 7396eddab0151f368ad9d98eeed7c07868d67f47</div><div id='time'> Time: 2018-10-24</div><div id='author'> Author: jonashen@users.noreply.github.com</div><div id='file'> File Name: tests/garage/envs/test_normalized_gym.py</div><div id='class'> Class Name: TestNormalizedGym</div><div id='method'> Method Name: test_unflatten</div><BR><BR><div id='link'><a href='https://github.com/rlworkgroup/garage/commit/7396eddab0151f368ad9d98eeed7c07868d67f47#diff-f3f556b12b2770cbbd96e1c3eee0d26c733641721e0cf2e865831e60db66cdbeL11' target='_blank'>Link</a></div><div id='project'> Project Name: rlworkgroup/garage</div><div id='commit'> Commit Name: 7396eddab0151f368ad9d98eeed7c07868d67f47</div><div id='time'> Time: 2018-10-24</div><div id='author'> Author: jonashen@users.noreply.github.com</div><div id='file'> File Name: tests/garage/envs/test_normalized_gym.py</div><div id='class'> Class Name: TestNormalizedGym</div><div id='method'> Method Name: test_flatten</div><BR>