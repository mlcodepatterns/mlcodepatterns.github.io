<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
if __name__ == "__main__":
    &#47&#47 Check for GPUs and set them to dynamically grow memory as needed
    &#47&#47 Avoids OOM from tensorflow greedily allocating GPU memory
    <a id="change">physical_devices = tf.config.list_physical_devices(&quotGPU&quot)</a>
    <a id="change">if physical_devices:
        for dev in physical_devices:
            tf.config.experimental.set_memory_growth(dev, True)

    &#47&#47 define the model.
   </a> model = Sequential()
    model.add(Dense(16, input_shape=(10,)))
    model.add(Dropout(0.5))
    model.add(Dense(10, activation=&quotsoftmax&quot))</code></pre><h3>After Change</h3><pre><code class='java'>
from keract import get_activations, persist_to_json_file, load_activations_from_json_file

if __name__ == "__main__":
    <a id="change">gpu_dynamic_mem_growth()</a>

    &#47&#47 define the model.
    model = Sequential()
    model.add(Dense(16, input_shape=(10,)))</code></pre>