<html><h3>a8f7adae8546cfac4473bd514b0070367d725f2e,allennlp/models/semantic_parsing/nlvr/nlvr_semantic_parser.py,NlvrSemanticParser,__init__,#NlvrSemanticParser#Any#Any#Any#Any#Any#,46
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self._sentence_embedder = sentence_embedder
        self._denotation_accuracy = Average()
        self._consistency = Average()
        <a id="change">self._encoder = encoder</a>
        <a id="change">self._rule_namespace</a> = rule_namespace

        self._action_embedder = Embedding(num_embeddings=vocab.get_vocab_size(<a id="change">self._rule_namespace</a>),
                                          embedding_dim=action_embedding_dim)

        &#47&#47 This is what we pass as input in the first step of decoding, when we don&quott have a
        &#47&#47 previous action.
        <a id="change">self._first_action_embedding = torch.nn.Parameter(torch.FloatTensor(action_embedding_dim))</a>
        torch.nn.init.normal(self._first_action_embedding)

    @overrides
    def forward(self):  &#47&#47 type: ignore</code></pre><h3>After Change</h3><pre><code class='java'>
        Dropout on the encoder outputs.
    rule_namespace : ``str``, optional (default=rule_labels)
        The vocabulary namespace to use for production rules.  The default corresponds to the
       <a id="change"> default used in the dataset</a> reader, so you likely don&quott need to modify this.
    
    def __init__(self,
                 vocab: Vocabulary,
                 sentence_embedder: TextFieldEmbedder,
                 action_embedding_dim: int,
                 encoder: Seq2SeqEncoder,
                 dropout: float = 0.0,
        <a id="change">         rule_namespace: str </a>= &quotrule_labels&quot) -&gt; None:
        super(NlvrSemanticParser, self).__init__(vocab=vocab)

        self._sentence_embedder = sentence_embedder
        self._denotation_accuracy = Average()
        self._consistency = Average()
        self._encoder = encoder
        if<a id="change"> dropout &gt; 0:
            self._dropout = torch.nn.Dropout(p=dropout)
    </a>    else:
            self._dropout = lambda x: x
        self._rule_namespace = rule_namespace

        self._action_embedder = Embedding(num_embeddings=voca<a id="change">b.get_vocab_size(self._rule_namespace),
   </a>                                       embedding_dim=action_embedding_dim)

        &#47&#47 This is what we pass as input in the first step of decoding, when we don&quott have a
        &#47&#47 previous action.</code></pre><img src="320887584.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 14</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/allenai/allennlp/commit/a8f7adae8546cfac4473bd514b0070367d725f2e#diff-22ace000d4b9e4594615ff5d60285b11d30a6c251519addb50f50699484b282eL33' target='_blank'>Link</a></div><div id='project'> Project Name: allenai/allennlp</div><div id='commit'> Commit Name: a8f7adae8546cfac4473bd514b0070367d725f2e</div><div id='time'> Time: 2018-05-13</div><div id='author'> Author: pradeep.dasigi@gmail.com</div><div id='file'> File Name: allennlp/models/semantic_parsing/nlvr/nlvr_semantic_parser.py</div><div id='class'> Class Name: NlvrSemanticParser</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/allenai/allennlp/commit/a8f7adae8546cfac4473bd514b0070367d725f2e#diff-22ace000d4b9e4594615ff5d60285b11d30a6c251519addb50f50699484b282eL46' target='_blank'>Link</a></div><div id='project'> Project Name: allenai/allennlp</div><div id='commit'> Commit Name: a8f7adae8546cfac4473bd514b0070367d725f2e</div><div id='time'> Time: 2018-05-13</div><div id='author'> Author: pradeep.dasigi@gmail.com</div><div id='file'> File Name: allennlp/models/semantic_parsing/nlvr/nlvr_semantic_parser.py</div><div id='class'> Class Name: NlvrSemanticParser</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/rusty1s/pytorch_geometric/commit/e60669c5aa467d5c11a508c01b37c4ed8e352fa6#diff-a626550c79e0855d2e735941a1cf5a45f67629bf4515df9dd448f33701ee50c9L107' target='_blank'>Link</a></div><div id='project'> Project Name: rusty1s/pytorch_geometric</div><div id='commit'> Commit Name: e60669c5aa467d5c11a508c01b37c4ed8e352fa6</div><div id='time'> Time: 2021-02-15</div><div id='author'> Author: matthias.fey@tu-dortmund.de</div><div id='file'> File Name: torch_geometric/nn/conv/supergat_conv.py</div><div id='class'> Class Name: SuperGATConv</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/rusty1s/pytorch_geometric/commit/7b4892781e2198ad99a8655da03133505619040a#diff-f0f88289fc019244ef62f81ff1a2b4ac7413147fba726be2358a71d1584fe7e0L44' target='_blank'>Link</a></div><div id='project'> Project Name: rusty1s/pytorch_geometric</div><div id='commit'> Commit Name: 7b4892781e2198ad99a8655da03133505619040a</div><div id='time'> Time: 2020-06-28</div><div id='author'> Author: matthias.fey@tu-dortmund.de</div><div id='file'> File Name: torch_geometric/nn/conv/arma_conv.py</div><div id='class'> Class Name: ARMAConv</div><div id='method'> Method Name: __init__</div><BR>