<html><h3>06dc59afe4657c009430a4673f1504feb69d2736,torchtext/data/example.py,Example,fromJSON,#Any#Any#Any#,12
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        ex = cls()
        obj = json.loads(data)

        <a id="change">for key, vals in fields.items():
            if vals is not None:
                if not isinstance(vals, list):
                    vals = [vals]

                for val in vals:
                    &#47&#47 for processing the key likes &quotfoo.bar&quot
                    name, field = val
                    ks = key.split(&quot.&quot)

                    def reducer(obj, key):
                        if isinstance(obj, list):
                            results = []
                            for data in obj:
                                if key not in data:
                                    &#47&#47 key error
                                    raise ValueError("Specified key {} was not found in "
                                                     "the input data".format(key))
                                else:
                                    results.append(data[key])
                            return results
                        else:
                            &#47&#47 key error
                            if key not in obj:
                                raise ValueError("Specified key {} was not found in "
                                                 "the input data".format(key))
                            else:
                                return obj[key]

                    v = reduce(reducer, ks, obj)
                    setattr(ex, name, field.preprocess(v))
       </a> return ex

    @classmethod
    def fromdict(cls, data, fields):</code></pre><h3>After Change</h3><pre><code class='java'>
class Example(object):
    @classmethod
    def fromJSON(cls, data, fields):
        warnings.warn(<a id="change">&quot{} class has &quot.format(self.__class__.__name__)</a> +
                      &quotbeen retired and moved to torchtext.legacy. Please &quot +
                      &quotimport from torchtext.legacy.data if you still want it.&quot, UserWarning)
        raise ImportWarning</code></pre><img src="94059722.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pytorch/text/commit/06dc59afe4657c009430a4673f1504feb69d2736#diff-ed957f93fcaaa720100f202ecde39a5c20392d6b666a2e1527bec77680b224a4L7' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/text</div><div id='commit'> Commit Name: 06dc59afe4657c009430a4673f1504feb69d2736</div><div id='time'> Time: 2021-02-17</div><div id='author'> Author: 6156351+zhangguanheng66@users.noreply.github.com</div><div id='file'> File Name: torchtext/data/example.py</div><div id='class'> Class Name: Example</div><div id='method'> Method Name: fromJSON</div><BR><BR><div id='link'><a href='https://github.com/sony/nnabla/commit/ffdd950970c5953e351fa88795fe916b3465d813#diff-b6bb0d275f3e11a8d13fe7f6e0cb81c91d9f59cf74cd0d43b3d3a064dbe03e16L59' target='_blank'>Link</a></div><div id='project'> Project Name: sony/nnabla</div><div id='commit'> Commit Name: ffdd950970c5953e351fa88795fe916b3465d813</div><div id='time'> Time: 2018-06-13</div><div id='author'> Author: Yukio.Oobuchi@sony.com</div><div id='file'> File Name: python/src/nnabla/utils/data_source_implements.py</div><div id='class'> Class Name: CacheDataSource</div><div id='method'> Method Name: _get_data</div><BR><BR><div id='link'><a href='https://github.com/pytorch/text/commit/06dc59afe4657c009430a4673f1504feb69d2736#diff-ed957f93fcaaa720100f202ecde39a5c20392d6b666a2e1527bec77680b224a4L51' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/text</div><div id='commit'> Commit Name: 06dc59afe4657c009430a4673f1504feb69d2736</div><div id='time'> Time: 2021-02-17</div><div id='author'> Author: 6156351+zhangguanheng66@users.noreply.github.com</div><div id='file'> File Name: torchtext/data/example.py</div><div id='class'> Class Name: Example</div><div id='method'> Method Name: fromdict</div><BR>