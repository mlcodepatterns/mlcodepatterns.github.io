<html><h3>d257ce051723c78bdf3f6c5e9387f1f7f54dd7a5,bt/algos.py,Rebalance,__call__,#Rebalance#Any#,1211
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        targets = target.temp[&quotweights&quot]

        &#47&#47 de-allocate children that are not in targets
        <a id="change">not_in = [x for x in target.children if x not in targets]</a>
        for c in not_in:
            target.close(c)

        &#47&#47 save value because it will change after each call to allocate</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 de-allocate children that are not in targets and have non-zero value
        &#47&#47 (open positions)
        <a id="change">for cname in target.children:
            &#47&#47 if this child is in our targets, we don&quott want to close it out
            if cname in targets:
                continue

            &#47&#47 get child and value
            c = target.children[cname]
            v = c.value
            &#47&#47 if non-zero and non-null, we need to close it out
            if v != 0. and not np.isnan(v):
                target.close(cname)

        &#47&#47 save value because it will change after each call to allocate
        &#47&#47 use it as base in rebalance calls
       </a> base = target.value
        for item in iteritems(targets):
            target.rebalance(item[1], child=item[0], base=base)
</code></pre><img src="125979970.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 12</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pmorissette/bt/commit/d257ce051723c78bdf3f6c5e9387f1f7f54dd7a5#diff-ca88adc1ae01d589471f388e66eaa973d7ccd3a4322e5a619b8a56879e0a1cc9L1215' target='_blank'>Link</a></div><div id='project'> Project Name: pmorissette/bt</div><div id='commit'> Commit Name: d257ce051723c78bdf3f6c5e9387f1f7f54dd7a5</div><div id='time'> Time: 2016-04-09</div><div id='author'> Author: morissette.philippe@gmail.com</div><div id='file'> File Name: bt/algos.py</div><div id='class'> Class Name: Rebalance</div><div id='method'> Method Name: __call__</div><BR><BR><div id='link'><a href='https://github.com/ruotianluo/ImageCaptioning.pytorch/commit/8bf6fdc8160d8e6150a0b7211b5ee41496331057#diff-c6471a2645659e66e80749b12db0096e5e2cc6b70319165dc02d3d5a666a0d00L31' target='_blank'>Link</a></div><div id='project'> Project Name: ruotianluo/ImageCaptioning.pytorch</div><div id='commit'> Commit Name: 8bf6fdc8160d8e6150a0b7211b5ee41496331057</div><div id='time'> Time: 2019-04-27</div><div id='author'> Author: rluo@ttic.edu</div><div id='file'> File Name: eval_ensemble.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>