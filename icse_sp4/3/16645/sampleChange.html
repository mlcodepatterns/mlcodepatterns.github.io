<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    deeplabcut.analyze_videos_converth5_to_csv(&quot/media/alex/experimentaldata/cheetahvideos&quot,&quot.mp4&quot)

    
    <a id="change">start_path = os.getcwd()</a>
    os.chdir(videopath)
    Videos = [
        fn
        for fn in os.listdir(os.curdir)
        if (videotype in fn) and ("_labeled.mp4" not in fn)
    ]  &#47&#47 exclude labeled-videos!

    Allh5files = [
        fn for fn in os.listdir(os.curdir) if (".h5" in fn) and ("resnet" in fn)
    ]

    for video in Videos:
        vname = Path(video).stem
        &#47&#47 Is there a scorer for this?
        PutativeOutputFiles = [fn for fn in Allh5files if vname in fn]
        for pfn in PutativeOutputFiles:
            scorer = pfn.split(vname)[1].split(".h5")[0]
            if "DLC" in scorer or "DeepCut" in scorer:
                DC = pd.read_hdf(pfn, "df_with_missing")
                print("Found output file for scorer:", scorer)
                print("Converting to csv...")
                DC.to_csv(pfn.split(".h5")[0] + ".csv")

    <a id="change">os.chdir(str(start_path))</a>
    print("All pose files were converted.")


def merge_windowsannotationdataONlinuxsystem(cfg):</code></pre><h3>After Change</h3><pre><code class='java'>
            continue
        vname = Path(video).stem
        for file in h5_files:
            <a id="change">if vname in file:
                scorer = file.split(vname)[1].split(".h5")[0]
                if "DLC" in scorer or "DeepCut" in scorer:
                    print("Found output file for scorer:", scorer)
                    print(f"Converting {file}...")
                    df = pd.read_hdf(file, "df_with_missing")
                    df.to_csv(file.replace(".h5", ".csv"))
   </a> print("All pose files were converted.")


def merge_windowsannotationdataONlinuxsystem(cfg):</code></pre>