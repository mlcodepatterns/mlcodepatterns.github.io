<html><h3>ff7cef721f19014462088d9b6fea3b349dffe5c9,pytext/loss/loss.py,LabelSmoothedCrossEntropyLoss,__call__,#LabelSmoothedCrossEntropyLoss#Any#Any#Any#,513
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            &#47&#47 negative KL-div has an additional log(num_classes) term but ignored
            &#47&#47 here because it doesn&quott contribute to optimization
            log_probs = <a id="change">F.log_softmax(logits, dim=1)</a> if self.from_logits else logits
            label_smoothing_loss = -1 * log_probs.mean(dim=1)

        if reduce:</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 negative KL-div has an additional log(num_classes) term but ignored
            &#47&#47 here because it doesn&quott contribute to optimization
            if self.source == SourceType.LOGITS:
                <a id="change">log_probs = F.log_softmax(logits, dim=1)</a>
            elif self.source == SourceType.PROBS:
                log_probs = logits.log()
            else:
                log_probs = logits</code></pre><img src="202499360.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/facebookresearch/pytext/commit/ff7cef721f19014462088d9b6fea3b349dffe5c9#diff-11d5a72df339cf7ebc3c5903e790362357bd9659765feb3ddff8bd5be91e0e06L513' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/pytext</div><div id='commit'> Commit Name: ff7cef721f19014462088d9b6fea3b349dffe5c9</div><div id='time'> Time: 2020-06-10</div><div id='author'> Author: jrandolph@fb.com</div><div id='file'> File Name: pytext/loss/loss.py</div><div id='class'> Class Name: LabelSmoothedCrossEntropyLoss</div><div id='method'> Method Name: __call__</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/pytext/commit/6f9d127d91b4ab400b4afe6376426eccaa6afbc4#diff-5adabe262f059b9c45777aa23a34afb7d37377956c059d0b82bf828364bbae67L90' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/pytext</div><div id='commit'> Commit Name: 6f9d127d91b4ab400b4afe6376426eccaa6afbc4</div><div id='time'> Time: 2019-07-17</div><div id='author'> Author: chenyangyu@instagram.com</div><div id='file'> File Name: pytext/models/output_layers/lm_output_layer.py</div><div id='class'> Class Name: LMOutputLayer</div><div id='method'> Method Name: get_pred</div><BR><BR><div id='link'><a href='https://github.com/keon/seq2seq/commit/55268ace0817879ace07b73e223c3a6db79a3180#diff-fada037ad086638e65c7ae77e3d223963e9afaa26326aab0ea718f4013176e43L83' target='_blank'>Link</a></div><div id='project'> Project Name: keon/seq2seq</div><div id='commit'> Commit Name: 55268ace0817879ace07b73e223c3a6db79a3180</div><div id='time'> Time: 2017-12-06</div><div id='author'> Author: kwk236@gmail.com</div><div id='file'> File Name: model.py</div><div id='class'> Class Name: Decoder</div><div id='method'> Method Name: forward</div><BR><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/45ba4bbdd47b51ee607a62b49a0cad1f0d9ff917#diff-e2f3b4c703ea04e1880871ae0d9beb5d9ec37988868fc8746a4bf2583e0abed5L191' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: 45ba4bbdd47b51ee607a62b49a0cad1f0d9ff917</div><div id='time'> Time: 2019-05-21</div><div id='author'> Author: dpressel@gmail.com</div><div id='file'> File Name: python/baseline/tf/lm/model.py</div><div id='class'> Class Name: LanguageModelBase</div><div id='method'> Method Name: _create_loss</div><BR><BR><div id='link'><a href='https://github.com/pytorch/fairseq/commit/f2ae57908bacff105bde22dad8fb6f6881251a9d#diff-509a893450d413604e20fb3a4c81978db373e098b375d632d608a8924e70a854L53' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/fairseq</div><div id='commit'> Commit Name: f2ae57908bacff105bde22dad8fb6f6881251a9d</div><div id='time'> Time: 2020-03-26</div><div id='author'> Author: myleott@fb.com</div><div id='file'> File Name: fairseq/criterions/sentence_prediction.py</div><div id='class'> Class Name: SentencePredictionCriterion</div><div id='method'> Method Name: forward</div><BR><BR><div id='link'><a href='https://github.com/SPFlow/SPFlow/commit/99f6a9b9b366e20ebc300fc5be904308c17c484f#diff-981598e4096ac4d5f0d738ff59bb03b52560be102d85e5bbef75d1071738a531L76' target='_blank'>Link</a></div><div id='project'> Project Name: SPFlow/SPFlow</div><div id='commit'> Commit Name: 99f6a9b9b366e20ebc300fc5be904308c17c484f</div><div id='time'> Time: 2020-04-01</div><div id='author'> Author: steven.lang.mz@gmail.com</div><div id='file'> File Name: src/spn/algorithms/layerwise/layers.py</div><div id='class'> Class Name: Sum</div><div id='method'> Method Name: forward</div><BR>