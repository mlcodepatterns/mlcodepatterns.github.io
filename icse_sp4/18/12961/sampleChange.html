<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        spec_layer = self._add_generic_layer(name, input_names, [output_name])

        &#47&#47 add one of the following layers
        if <a id="change">mode.upper()</a> == &quotCONCAT&quot:
            spec_layer.concat.sequenceConcat = False
        elif mode.upper() == &quotSEQUENCE_CONCAT&quot:
            spec_layer.concat.sequenceConcat = True
        elif mode.upper() == &quotADD&quot:
            spec_layer.add.MergeFromString(b&quot&quot)
            if alpha:
                spec_layer.add.alpha = alpha
        elif <a id="change">mode.upper()</a> == &quotMULTIPLY&quot:
            spec_layer.multiply.MergeFromString(b&quot&quot)
            if alpha:
                spec_layer.multiply.alpha = alpha
        elif <a id="change">mode.upper()</a> == &quotCOS&quot:
            spec_layer.dot.cosineSimilarity = True
        elif <a id="change">mode.upper()</a> == &quotDOT&quot:
            spec_layer.dot.cosineSimilarity = False
        elif <a id="change">mode.upper()</a> == &quotMAX&quot:
            spec_layer.max.MergeFromString(b&quot&quot)
        elif <a id="change">mode.upper()</a> == &quotMIN&quot:
            spec_layer.min.MergeFromString(b&quot&quot)
        elif <a id="change">mode.upper()</a> == &quotAVE&quot:
            spec_layer.average.MergeFromString(b&quot&quot)
        else:
            raise ValueError(&quotUnsupported elementwise mode %s&quot % mode)</code></pre><h3>After Change</h3><pre><code class='java'>
        spec_layer = self._add_generic_layer(name, input_names, [output_name])

        &#47&#47 add one of the following layers
        mode = <a id="change">mode.upper() if isinstance(mode, str) else mode</a>
        if mode == &quotCONCAT&quot:
            spec_layer.concat.sequenceConcat = False
        elif mode == &quotSEQUENCE_CONCAT&quot:
            spec_layer.concat.sequenceConcat = True</code></pre>