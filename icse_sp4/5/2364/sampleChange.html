<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    first_request = mediatranslation.StreamingTranslateSpeechRequest(
        streaming_config=config, audio_content=None)

    <a id="change">with MicrophoneStream(RATE, CHUNK) as stream:
        audio_generator = stream.generator()
        mic_requests = (mediatranslation.StreamingTranslateSpeechRequest(
            audio_content=content,
            streaming_config=config)
            for content in audio_generator)

        requests = itertools.chain(iter([first_request]), mic_requests)

        responses = client.streaming_translate_speech(requests)

        &#47&#47 Print the translation responses as they arrive
        listen_print_loop(responses)


</a>if __name__ == &quot__main__&quot:
    print(&quotStart speaking ...&quot)
    main()
&#47&#47 [END media_translation_translate_from_mic]</code></pre><h3>After Change</h3><pre><code class='java'>
        print()
        option = input(&quotPress any key to translate or \&quotq\&quot to quit: &quot)

        <a id="change">if option.lower() == &quotq&quot:
            break

       </a> do_translation_loop()


if __name__ == &quot__main__&quot:</code></pre>