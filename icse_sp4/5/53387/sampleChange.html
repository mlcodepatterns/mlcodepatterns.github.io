<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    &#47&#47 TODO(John Sirois): finish doc of the path structure expected under base_path
    binary_path = self._select_binary_base_path(supportdir, version, name)
    bootstrap_dir = <a id="change">os.path.realpath(os.path.expanduser(self._pants_bootstrapdir))</a>
    <a id="change">bootstrapped_binary_path = os.path.join(bootstrap_dir, binary_path)</a>
    if not os.path.exists(bootstrapped_binary_path):
      downloadpath = bootstrapped_binary_path + &quot~&quot
      try:
        with self._select_binary_stream(supportdir, version, name) as stream:
          with safe_open(downloadpath, &quotwb&quot) as bootstrapped_binary:
            bootstrapped_binary.write(stream())
          os.rename(downloadpath, bootstrapped_binary_path)
          chmod_plus_x(bootstrapped_binary_path)
      finally:
        safe_delete(downloadpath)

    logger.debug(&quotSelected {binary} binary bootstrapped to: {path}&quot
                 .format(binary=name, path=bootstrapped_binary_path))
    <a id="change">return bootstrapped_binary_path</a>


@contextmanager
def safe_args(args,</code></pre><h3>After Change</h3><pre><code class='java'>
    
    &#47&#47 TODO(John Sirois): finish doc of the path structure expected under base_path.
    binary_path = self._select_binary_base_path(supportdir, version, name)
    <a id="change">return self._fetch_binary(name=name, binary_path=binary_path)</a>

  def select_script(self, supportdir, version, name):
    Selects a platform-independent script.
</code></pre>