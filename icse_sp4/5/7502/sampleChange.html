<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            tf.add_to_collection(tf.GraphKeys.EXCL_RESTORE_VARS, gamma)

        ema = tf.train.ExponentialMovingAverage(decay=decay)
        axis = <a id="change">[i for i in range(input_ndim - 1)]</a>
        if len(axis) &lt; 1: axis = [0]
        <a id="change">batch_mean, batch_var = tf.nn.moments(incoming, axis,
                                              name=&quotmoments&quot)</a>
        ema_apply_op = ema.apply([batch_mean, batch_var])
        ema_mean, ema_var = ema.average(batch_mean), ema.average(
            batch_var)
</code></pre><h3>After Change</h3><pre><code class='java'>
                incoming, mean, var, beta, gamma, epsilon,
                scale_after_normalization=True,
            )
            <a id="change">inference.set_shape(input_shape)</a>

    &#47&#47 Add attributes for easy access
    inference.scope = scope
    inference.beta = beta</code></pre>