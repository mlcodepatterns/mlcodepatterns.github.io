<html><h3>34eb970b4ee951887d991c95b7334a8c1c7d73eb,batchflow/tests/segmentation_metrics_test.py,,,#,5
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

sample_length = 100
num_classes = 10
targets_sample = <a id="change">np.random.randint(0, num_classes - 2, sample_length)</a>
noise_sample = <a id="change">np</a>.random.binomial(1, 1/10, sample_length)
predics_sample = targets_sample + noise_sample

batch_size = 3
image_size = 2
pull_out = lambda s,x,y: s[:x*y*y].reshape(x, y, y)
<a id="change">targets = pull_out(targets_sample, batch_size, image_size)</a>
predics = pull_out(predics_sample, batch_size, image_size)

@pytest.mark.parametrize(&quotmetrics_name&quot, metrics_names)
class TestShape:</code></pre><h3>After Change</h3><pre><code class='java'>
batch_size = 2
image_size = 2
num_classes = 3
<a id="change">targets = np.array([0, 1, 2, 2, 0, 0, 1, 1]).reshape(batch_size, image_size, image_size)</a>
predics = np.array([0, 1, 1, 0, 2, 0, 1, 1]).reshape(batch_size, image_size, image_size)
onehots = np.eye(num_classes)[predics] &#47&#47it&quots basically like probs, just with all 0 and a single 1

@pytest.mark.parametrize(&quotmetrics_name&quot, metrics_names)</code></pre><img src="161165179.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/analysiscenter/batchflow/commit/34eb970b4ee951887d991c95b7334a8c1c7d73eb#diff-4073f48fb6aa2d1a5dd90d5a174258a0a50bfdb221cf3d8734cad25d0f465b36L13' target='_blank'>Link</a></div><div id='project'> Project Name: analysiscenter/batchflow</div><div id='commit'> Commit Name: 34eb970b4ee951887d991c95b7334a8c1c7d73eb</div><div id='time'> Time: 2019-06-05</div><div id='author'> Author: steve.sinobi@ya.ru</div><div id='file'> File Name: batchflow/tests/segmentation_metrics_test.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/c36de6cdea1f31a6a975d436b065475251f8caaf#diff-13e6b00245f8bd0a50704465d2e803393b8e2659b32df62143be4e6ad06e6325L52' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: c36de6cdea1f31a6a975d436b065475251f8caaf</div><div id='time'> Time: 2018-07-20</div><div id='author'> Author: rbharath@stanford.edu</div><div id='file'> File Name: deepchem/metrics/tests/test_genomics.py</div><div id='class'> Class Name: TestGenomicMetrics</div><div id='method'> Method Name: test_in_silico_mutagenesis</div><BR><BR><div id='link'><a href='https://github.com/analysiscenter/batchflow/commit/b78edf5e661dfc0eb4d2092fdb9aff7bc679d3f6#diff-e77793e6cedfbd58e89eb660d6986fd9ffc188b3f3d93fa16a87940e93e37b18L48' target='_blank'>Link</a></div><div id='project'> Project Name: analysiscenter/batchflow</div><div id='commit'> Commit Name: b78edf5e661dfc0eb4d2092fdb9aff7bc679d3f6</div><div id='time'> Time: 2019-09-12</div><div id='author'> Author: nikita_007_94@mail.ru</div><div id='file'> File Name: batchflow/tests/regression_metrics_test.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_both_zero</div><BR><BR><div id='link'><a href='https://github.com/analysiscenter/batchflow/commit/34eb970b4ee951887d991c95b7334a8c1c7d73eb#diff-4073f48fb6aa2d1a5dd90d5a174258a0a50bfdb221cf3d8734cad25d0f465b36L13' target='_blank'>Link</a></div><div id='project'> Project Name: analysiscenter/batchflow</div><div id='commit'> Commit Name: 34eb970b4ee951887d991c95b7334a8c1c7d73eb</div><div id='time'> Time: 2019-06-05</div><div id='author'> Author: steve.sinobi@ya.ru</div><div id='file'> File Name: batchflow/tests/segmentation_metrics_test.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>