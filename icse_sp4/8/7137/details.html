<html><h3>4c695cbb83954a50a5f87231f26464a0292508a9,perfkitbenchmarker/linux_packages/redis_enterprise.py,,LoadCluster,#Any#Any#,215
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def LoadCluster(vm, redis_port):
  Load the cluster before performing tests.
  <a id="change">load_command = [
      &quot/opt/redislabs/bin/memtier_benchmark&quot,
      &quot-s localhost&quot,
      &quot-p&quot, str(redis_port),
      &quot-t 1&quot,  &#47&#47 Set -t and -c to 1 to avoid duplicated work in writing the same
      &quot-c 1&quot,  &#47&#47 key/value pairs repeatedly.
      &quot--ratio 1:0&quot,
      &quot--pipeline 100&quot,
      &quot-d 100&quot,
      &quot--key-pattern S:S&quot,
      &quot--key-minimum 1&quot,
      &quot--key-maximum&quot, str(FLAGS.enterprise_redis_load_records),
      &quot-n allkeys&quot,
      &quot--cluster-mode&quot,
  ]</a>
  <a id="change">vm.RemoteCommand(&quot &quot.join(load_command))</a>


def BuildRunCommand(redis_vm, threads, port):
  Spawn a memtir_benchmark on the load_vm against the redis_vm:port.</code></pre><h3>After Change</h3><pre><code class='java'>

def LoadCluster(vm, redis_port):
  Load the cluster before performing tests.
  <a id="change">vm.RemoteCommand(
      &quot/opt/redislabs/bin/memtier_benchmark &quot
      &quot-s localhost &quot
      &quot-p {port} &quot
      &quot-t 1 &quot  &#47&#47 Set -t and -c to 1 to avoid duplicated work in writing the same
      &quot-c 1 &quot  &#47&#47 key/value pairs repeatedly.
      &quot--ratio 1:0 &quot
      &quot--pipeline 100 &quot
      &quot-d 100 &quot
      &quot--key-pattern S:S &quot
      &quot--key-minimum 1 &quot
      &quot--key-maximum {load_records} &quot
      &quot-n allkeys &quot
      &quot--cluster-mode &quot.format(
          port=str(redis_port),
          load_records=str(FLAGS.enterprise_redis_load_records)))</a>


def BuildRunCommand(redis_vm, threads, port):
  Spawn a memtir_benchmark on the load_vm against the redis_vm:port.</code></pre><img src="44350036.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/PerfKitBenchmarker/commit/4c695cbb83954a50a5f87231f26464a0292508a9#diff-07862d8f09b73cb3fbf31845002493cf783b435bd94d1c1ca0dcebb01ae5bcf0L212' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/PerfKitBenchmarker</div><div id='commit'> Commit Name: 4c695cbb83954a50a5f87231f26464a0292508a9</div><div id='time'> Time: 2019-06-26</div><div id='author'> Author: ruwa@google.com</div><div id='file'> File Name: perfkitbenchmarker/linux_packages/redis_enterprise.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: LoadCluster</div><BR><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/PerfKitBenchmarker/commit/4c695cbb83954a50a5f87231f26464a0292508a9#diff-07862d8f09b73cb3fbf31845002493cf783b435bd94d1c1ca0dcebb01ae5bcf0L114' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/PerfKitBenchmarker</div><div id='commit'> Commit Name: 4c695cbb83954a50a5f87231f26464a0292508a9</div><div id='time'> Time: 2019-06-26</div><div id='author'> Author: ruwa@google.com</div><div id='file'> File Name: perfkitbenchmarker/linux_packages/redis_enterprise.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: CreateCluster</div><BR><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/PerfKitBenchmarker/commit/4c695cbb83954a50a5f87231f26464a0292508a9#diff-07862d8f09b73cb3fbf31845002493cf783b435bd94d1c1ca0dcebb01ae5bcf0L133' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/PerfKitBenchmarker</div><div id='commit'> Commit Name: 4c695cbb83954a50a5f87231f26464a0292508a9</div><div id='time'> Time: 2019-06-26</div><div id='author'> Author: ruwa@google.com</div><div id='file'> File Name: perfkitbenchmarker/linux_packages/redis_enterprise.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: TuneProxy</div><BR>