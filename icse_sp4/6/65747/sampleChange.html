<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        sharpe = (np.log(2) - pivot).mean(axis=0) / pivot.std(axis=0)

        &#47&#47 mean metrics across eras
        <a id="change">metrics = metrics.groupby(&quotmodel&quot).mean()</a>

        &#47&#47 insert consistency and sharpe
        metrics.insert(metrics.shape[1], &quotsharpe&quot, sharpe)
        metrics.insert(<a id="change">metrics</a>.shape[1], &quotconsis&quot, consistency)

        return metrics, info
</code></pre><h3>After Change</h3><pre><code class='java'>
            print(df.to_string(index=True))

    def performance_df(self, data, era_as_str=True, region_as_str=True):
        <a id="change">cols = [&quotlogloss&quot, &quotauc&quot, &quotacc&quot, &quotystd&quot, &quotsharpe&quot, &quotconsis&quot]</a>
        metrics, info = metrics_per_model(data,
                                          self,
                                          columns=cols,
                                          era_as_str=era_as_str,</code></pre>