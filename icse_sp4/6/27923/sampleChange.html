<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                h = x[input_nodes].to(device)
                h_dst = h[:block.number_of_dst_nodes()]
                h = layer(block, (h, h_dst))
                <a id="change">if l != len(self.layers) - 1:
                    h = self.activation(h)
                    h = self.dropout(h)

               </a> y[output_nodes] = h.cpu()

            x = y
        return y</code></pre><h3>After Change</h3><pre><code class='java'>
    
    return (th.argmax(pred, dim=1) == labels).float().sum() / len(pred)

def eval<a id="change">uate(model, g, nfeat, labels, val_nid, test_nid, device):
    
    Evaluate the model on the validation set specified by ``val_mask``.
    g : The entire graph.
    inputs : The features of all the nodes.
    labels : The labels of all the nodes.
    </a>val_mask : A 0-1 mask indicating which nodes do we actually compute the accuracy for.
    device : The GPU device to evaluate on.
    
    model.eval()</code></pre>