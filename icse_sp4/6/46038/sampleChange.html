<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        if network is None:
            if internal_rnn:
                <a id="change">for name, internal_spec in InternalLstm.internals_spec(size=final_size).items():
                    internals_spec[&quotinternal_lstm-&quot + name] = internal_spec

       </a> return internals_spec

    def tf_apply(self, x, internals, return_internals=False):
        &#47&#47 State-specific layers</code></pre><h3>After Change</h3><pre><code class='java'>
            elif len(spec[&quotshape&quot]) == 2 - embedding:
                layer = &quotconv1d&quot
            elif len(spec[&quotshape&quot]) == 3 - embedding:
                layer = &quotconv2d&quot<a id="change">
            elif len(spec[&quotshape&quot]) == 0:
                layers.append(self.add_module(name=(name + &quot-flatten&quot), module=&quotflatten&quot))
                layer = &quotdense&quot
            else:
                raise TensorforceError.unexpected()

            &#47&#47 Repeat layer according to depth (one less if embedded)</a>
            for n in range(self.depth - embedding):
                layers.append(
                    self.add_module(
                        name=(name + &quot-&quot + layer + str(n)), module=layer, size=self.size</code></pre>