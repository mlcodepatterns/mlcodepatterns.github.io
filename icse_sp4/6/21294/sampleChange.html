<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
import torch

if __name__ == "__main__":
    <a id="change">parser = argparse.ArgumentParser(
        description="Removes the optim data of PyTorch models")</a>
    parser.add_argument("--model", "-m",
                        help="The model filename (*.pt)", required=True)
    parser.add_argument("--output", "-o",
                        help="The output filename (*.pt)", required=True)
    opt = parser.parse_args()

    <a id="change">model = torch.load(opt.model)</a>
    model[&quotoptim&quot] = None
    torch.save(model, opt.output)
</code></pre><h3>After Change</h3><pre><code class='java'>
from onmt.bin.release_model import main


<a id="change">if __name__ == "__main__":
    main()</a>
</code></pre>