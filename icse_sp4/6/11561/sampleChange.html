<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                          base64_new_encryption_key):
    Performs a key rotation by re-writing an encrypted blob with a new
    encryption key.
    <a id="change">raise NotImplementedError(
        &quotThis is currently not available using the Cloud Client Library.&quot)</a>


if __name__ == &quot__main__&quot:
    parser = argparse.ArgumentParser(</code></pre><h3>After Change</h3><pre><code class='java'>
    destination_blob = Blob(
        blob_name, bucket, encryption_key=new_encryption_key)

    <a id="change">token = None</a>

    while True:
        token, bytes_rewritten, total_bytes = destination_blob.rewrite(
            source_blob, token=token)
        <a id="change">if token is None:
            break

   </a> print(&quotKey rotation complete for Blob {}&quot.format(blob_name))


if __name__ == &quot__main__&quot:</code></pre>