<html><h3>e7f5953362d50f3caf29b3cb6be18d0bba0e4509,homeassistant/__init__.py,StateMachine,set_state,#StateMachine#Any#Any#Any#,364
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        attributes = attributes or {}

        <a id="change">self.lock.acquire()</a>

        &#47&#47 Add category if it does not exist
        if category not in self.states:
            self.states[category] = State(new_state, attributes)

        &#47&#47 Change state and fire listeners
        else:
            old_state = self.states[category]

            if old_state.state != new_state or \
               old_state.attributes != attributes:

                self.states[category] = State(new_state, attributes)

                self.bus.fire_event(EVENT_STATE_CHANGED,
                                    {&quotcategory&quot: category,
                                     &quotold_state&quot: old_state,
                                     &quotnew_state&quot: self.states[category]})

        <a id="change">self.lock.release()</a>

    def get_state(self, category):
         Returns a dict (state, last_changed, attributes) describing
            the state of the specified category. </code></pre><h3>After Change</h3><pre><code class='java'>

        attributes = attributes or {}

        <a id="change">with self.lock:
            &#47&#47 Add category if it does not exist
            if category not in self.states:
                self.states[category] = State(new_state, attributes)

            &#47&#47 Change state and fire listeners
            else:
                old_state = self.states[category]

                if old_state.state != new_state or \
                   old_state.attributes != attributes:

                    self.states[category] = State(new_state, attributes)

                    self.bus.fire_event(EVENT_STATE_CHANGED,
                                        {&quotcategory&quot: category,
                                         &quotold_state&quot: old_state,
                                         &quotnew_state&quot: self.states[category]})

   </a> def get_state(self, category):
         Returns a dict (state, last_changed, attributes) describing
            the state of the specified category. 
        with self.lock:</code></pre><img src="164956165.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 9</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/e7f5953362d50f3caf29b3cb6be18d0bba0e4509#diff-a46b6fa33128fb82cc9d70696bb4eba586bde60538123e8860388900ae77eaa0L364' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: e7f5953362d50f3caf29b3cb6be18d0bba0e4509</div><div id='time'> Time: 2014-01-19</div><div id='author'> Author: Paulus@PaulusSchoutsen.nl</div><div id='file'> File Name: homeassistant/__init__.py</div><div id='class'> Class Name: StateMachine</div><div id='method'> Method Name: set_state</div><BR><BR><div id='link'><a href='https://github.com/Maluuba/nlg-eval/commit/9bfbbf636fb2a6184d470462545ad3868b1a8fc6#diff-bdf98ca3e88896a2fea90bf05e5e3e7699b274fd2cc6645c94916a9bbcdb5b14L85' target='_blank'>Link</a></div><div id='project'> Project Name: Maluuba/nlg-eval</div><div id='commit'> Commit Name: 9bfbbf636fb2a6184d470462545ad3868b1a8fc6</div><div id='time'> Time: 2018-07-03</div><div id='author'> Author: haschulz@microsoft.com</div><div id='file'> File Name: nlgeval/pycocoevalcap/meteor/meteor.py</div><div id='class'> Class Name: Meteor</div><div id='method'> Method Name: __del__</div><BR><BR><div id='link'><a href='https://github.com/ilastik/ilastik/commit/7acc98cb2e33e243ae517cb14a9319585e482bdc#diff-a8d58e11f937f695310942cffe1000e1f4100430425f7458d9396438e4c168bbL222' target='_blank'>Link</a></div><div id='project'> Project Name: ilastik/ilastik</div><div id='commit'> Commit Name: 7acc98cb2e33e243ae517cb14a9319585e482bdc</div><div id='time'> Time: 2015-03-20</div><div id='author'> Author: webmaster@burgerdev.de</div><div id='file'> File Name: lazyflow/operators/cacheMemoryManager.py</div><div id='class'> Class Name: CacheMemoryManager</div><div id='method'> Method Name: _wait</div><BR><BR><div id='link'><a href='https://github.com/ilastik/ilastik/commit/88902a81605ff559ca60dd42c9aa67b93b34c9fd#diff-7a93b16f28ef082270ba97cfd99b502dcc4f1c2b162917f456f8947f68f30425L136' target='_blank'>Link</a></div><div id='project'> Project Name: ilastik/ilastik</div><div id='commit'> Commit Name: 88902a81605ff559ca60dd42c9aa67b93b34c9fd</div><div id='time'> Time: 2014-06-11</div><div id='author'> Author: bergs@janelia.hhmi.org</div><div id='file'> File Name: lazyflow/operators/opArrayCache.py</div><div id='class'> Class Name: OpArrayCache</div><div id='method'> Method Name: _freeMemory</div><BR><BR><div id='link'><a href='https://github.com/Maluuba/nlg-eval/commit/9bfbbf636fb2a6184d470462545ad3868b1a8fc6#diff-bdf98ca3e88896a2fea90bf05e5e3e7699b274fd2cc6645c94916a9bbcdb5b14L66' target='_blank'>Link</a></div><div id='project'> Project Name: Maluuba/nlg-eval</div><div id='commit'> Commit Name: 9bfbbf636fb2a6184d470462545ad3868b1a8fc6</div><div id='time'> Time: 2018-07-03</div><div id='author'> Author: haschulz@microsoft.com</div><div id='file'> File Name: nlgeval/pycocoevalcap/meteor/meteor.py</div><div id='class'> Class Name: Meteor</div><div id='method'> Method Name: _score</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/31b9f65513ea2fb59a91facc08550698f9697408#diff-b288e197d483d8403f419b7bb30b58604ca7c44ef561196da579a1d2ae6af74eL86' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 31b9f65513ea2fb59a91facc08550698f9697408</div><div id='time'> Time: 2014-12-04</div><div id='author'> Author: Paulus@PaulusSchoutsen.nl</div><div id='file'> File Name: homeassistant/components/device_tracker/tomato.py</div><div id='class'> Class Name: TomatoDeviceScanner</div><div id='method'> Method Name: _update_tomato_info</div><BR><BR><div id='link'><a href='https://github.com/SpiNNakerManchester/sPyNNaker/commit/2f2cfbf4cccfa0f9b1aaf114baa3c1be3c777f5e#diff-5aab88205ea8c082552f5381c3466f892b851a619590a7ad8391fb60d97bc52cL43' target='_blank'>Link</a></div><div id='project'> Project Name: SpiNNakerManchester/sPyNNaker</div><div id='commit'> Commit Name: 2f2cfbf4cccfa0f9b1aaf114baa3c1be3c777f5e</div><div id='time'> Time: 2017-12-18</div><div id='author'> Author: donal.k.fellows@manchester.ac.uk</div><div id='file'> File Name: spynnaker/pyNN/external_devices_models/push_bot/push_bot_ethernet/push_bot_retina_connection.py</div><div id='class'> Class Name: PushBotRetinaConnection</div><div id='method'> Method Name: _receive_retina_data</div><BR><BR><div id='link'><a href='https://github.com/ilastik/ilastik/commit/88902a81605ff559ca60dd42c9aa67b93b34c9fd#diff-7a93b16f28ef082270ba97cfd99b502dcc4f1c2b162917f456f8947f68f30425L446' target='_blank'>Link</a></div><div id='project'> Project Name: ilastik/ilastik</div><div id='commit'> Commit Name: 88902a81605ff559ca60dd42c9aa67b93b34c9fd</div><div id='time'> Time: 2014-06-11</div><div id='author'> Author: bergs@janelia.hhmi.org</div><div id='file'> File Name: lazyflow/operators/opArrayCache.py</div><div id='class'> Class Name: OpArrayCache</div><div id='method'> Method Name: setInSlot</div><BR><BR><div id='link'><a href='https://github.com/Maluuba/nlg-eval/commit/9bfbbf636fb2a6184d470462545ad3868b1a8fc6#diff-bdf98ca3e88896a2fea90bf05e5e3e7699b274fd2cc6645c94916a9bbcdb5b14L33' target='_blank'>Link</a></div><div id='project'> Project Name: Maluuba/nlg-eval</div><div id='commit'> Commit Name: 9bfbbf636fb2a6184d470462545ad3868b1a8fc6</div><div id='time'> Time: 2018-07-03</div><div id='author'> Author: haschulz@microsoft.com</div><div id='file'> File Name: nlgeval/pycocoevalcap/meteor/meteor.py</div><div id='class'> Class Name: Meteor</div><div id='method'> Method Name: compute_score</div><BR>