<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                prevId = docId
                document = []
            &#47&#47 add (termId, weight) pair to the document
            <a id="change">document.append((int(termId) - 1, float(val),))</a> &#47&#47 -1 because matrix market indexes are 1-based =&gt; convert to 0-based
        if prevId is not None: &#47&#47 handle the last document, as a special case
            yield prevId, document
&#47&#47endclass MmReader</code></pre><h3>After Change</h3><pre><code class='java'>
                                
                &#47&#47 return implicit (empty) documents between previous id and new id 
                &#47&#47 too, to keep consistent document numbering and corpus length
                <a id="change">for prevId in xrange(prevId + 1, docId):
                    yield prevId, []
                
                &#47&#47 from now on start adding fields to a new document, with a new id
               </a> prevId = docId
                document = []
            
            document.append((termId, val,)) &#47&#47 add another field to the current document</code></pre>