<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    vol.Required(ATTR_MESSAGE): [MESSAGE_SEGMENT_SCHEMA]
})

COMMAND_SCHEMA = <a id="change">vol.All(
    &#47&#47 Basic Schema
    vol.Schema({
        vol.Exclusive(CONF_WORD, &quottrigger&quot): cv.string,
        vol.Exclusive(CONF_EXPRESSION, &quottrigger&quot): cv.is_regex,
        vol.Required(CONF_NAME): cv.string,
        vol.Optional(CONF_CONVERSATIONS): [TARGETS_SCHEMA]
    }),
    &#47&#47 Make sure it&quots either a word or an expression command
    cv.has_at_least_one_key(CONF_WORD, CONF_EXPRESSION)
)</a>

<a id="change">CONFIG_SCHEMA = vol.Schema({
    DOMAIN: vol.Schema({
        vol.Optional(CONF_COMMANDS, default=[]): [COMMAND_SCHEMA]
    })
}, extra=vol.ALLOW_EXTRA)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
INTENT_SCHEMA = vol.All(
    &#47&#47 Basic Schema
    vol.Schema({
        vol.Required(CONF_SENTENCES): <a id="change">vol.All(cv.ensure_list, [cv.string])</a>,
        vol.Optional(CONF_CONVERSATIONS): [TARGETS_SCHEMA]
    }),
)</code></pre>