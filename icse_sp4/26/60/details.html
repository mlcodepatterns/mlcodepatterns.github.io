<html><h3>dcc34ef8cd1e55fee69eb9f764650fdbab9da18f,softlearning/policies/gmm.py,GMMPolicy,_squash_correction,#GMMPolicy#Any#,159
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def _squash_correction(self, actions):
        if not self._squash: return 0
        <a id="change">return tf.reduce_sum(tf.log(1 - tf.tanh(actions) ** 2 + EPS), axis=1)</a>

    @contextmanager
    def deterministic(self, set_deterministic=True, latent=None):
        Context manager for changing the determinism of the policy.</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 return tf.reduce_sum(tf.log(1 - tf.tanh(actions) **2 + EPS), axis=1)

        &#47&#47 numerically stable squash correction without bias from EPS
        <a id="change">return tf.reduce_sum(2. * (tf.log(2.) - actions - tf.nn.softplus(-2. * actions)), axis=1)</a>

    @contextmanager
    def deterministic(self, set_deterministic=True, latent=None):
        Context manager for changing the determinism of the policy.</code></pre><img src="1097488.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 17</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rail-berkeley/softlearning/commit/dcc34ef8cd1e55fee69eb9f764650fdbab9da18f#diff-4290b8658ec76085b50dc567324546a72904c24d5736fbae11c837f7d8a3c9cbL161' target='_blank'>Link</a></div><div id='project'> Project Name: rail-berkeley/softlearning</div><div id='commit'> Commit Name: dcc34ef8cd1e55fee69eb9f764650fdbab9da18f</div><div id='time'> Time: 2018-07-18</div><div id='author'> Author: azhou42@berkeley.edu</div><div id='file'> File Name: softlearning/policies/gmm.py</div><div id='class'> Class Name: GMMPolicy</div><div id='method'> Method Name: _squash_correction</div><BR><BR><div id='link'><a href='https://github.com/rail-berkeley/softlearning/commit/606f9cae4027b7e017d92f74ed58a116aaf59c4f#diff-d720c7ccf51e8660c302874569569e5bcc7eb762222d3e1fddd5ff7754a712e8L228' target='_blank'>Link</a></div><div id='project'> Project Name: rail-berkeley/softlearning</div><div id='commit'> Commit Name: 606f9cae4027b7e017d92f74ed58a116aaf59c4f</div><div id='time'> Time: 2018-07-09</div><div id='author'> Author: azhou42@berkeley.edu</div><div id='file'> File Name: softlearning/policies/latent_space_policy.py</div><div id='class'> Class Name: LatentSpacePolicy</div><div id='method'> Method Name: _squash_correction</div><BR><BR><div id='link'><a href='https://github.com/rail-berkeley/softlearning/commit/e952b7de4986b9329c8e7b6993acc0f865b4235f#diff-6a3dd59851dc95a1e5563703048666ea694abf1e5299549769bf0d7901789eb7L168' target='_blank'>Link</a></div><div id='project'> Project Name: rail-berkeley/softlearning</div><div id='commit'> Commit Name: e952b7de4986b9329c8e7b6993acc0f865b4235f</div><div id='time'> Time: 2018-07-05</div><div id='author'> Author: azhou42@berkeley.edu</div><div id='file'> File Name: softlearning/policies/gaussian_policy.py</div><div id='class'> Class Name: GaussianPolicy</div><div id='method'> Method Name: _squash_correction</div><BR><BR><div id='link'><a href='https://github.com/rail-berkeley/softlearning/commit/dcc34ef8cd1e55fee69eb9f764650fdbab9da18f#diff-4290b8658ec76085b50dc567324546a72904c24d5736fbae11c837f7d8a3c9cbL161' target='_blank'>Link</a></div><div id='project'> Project Name: rail-berkeley/softlearning</div><div id='commit'> Commit Name: dcc34ef8cd1e55fee69eb9f764650fdbab9da18f</div><div id='time'> Time: 2018-07-18</div><div id='author'> Author: azhou42@berkeley.edu</div><div id='file'> File Name: softlearning/policies/gmm.py</div><div id='class'> Class Name: GMMPolicy</div><div id='method'> Method Name: _squash_correction</div><BR>