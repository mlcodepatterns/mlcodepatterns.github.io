<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.map_users_index.update({u: user})

    def _create_factors(self):
        <a id="change">self.p</a> = <a id="change">self.init_mean * np.random.randn(self.number_users, self.factors) + self.init_stdev ** 2</a>
        self.q = self.init_mean * np.random.randn(self.number_items, self.factors) + self.init_stdev ** 2
        self.bias = self.init_mean * np.random.randn(<a id="change">self.number_items</a>, 1) + self.init_stdev ** 2

    def _sample_triple(self):
        user = np.random.choice(self.train_set["users"])</code></pre><h3>After Change</h3><pre><code class='java'>
            self.map_users_index.update({u: user})

    def _create_factors(self):
        <a id="change">self.p</a> = <a id="change">np.random.normal(self.init_mean, self.init_stdev, (len(self.users), self.factors))</a>
        self.q = np.random.normal(self.init_mean, self.init_stdev, (len(self.items), self.factors))
        &#47&#47 self.bias = self.init_mean * np.random.randn(self.number_items, 1) + self.init_stdev ** 2
        self.bias = np.zeros(len(self.items), np.double)
</code></pre>