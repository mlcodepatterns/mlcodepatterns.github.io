<html><h3>a84e1ef9f1398100dd73c49737f39ac42f797f02,official/transformer/translate.py,,,#,204
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


if __name__ == "__main__":
  <a id="change">parser = argparse.ArgumentParser()</a>

  &#47&#47 Model arguments
  parser.add_argument(
      "--data_dir", "-dd", type=str, default="/tmp/data/translate_ende",
      help="[default: %(default)s] Directory where vocab file is stored.",
      metavar="&lt;DD&gt;")
  <a id="change">parser.add_argument(
      "--vocab_file", "-vf", type=str, default=VOCAB_FILE,
      help="[default: %(default)s] Name of vocabulary file.",
      metavar="&lt;vf&gt;")</a>
  <a id="change">parser.add_argument(
      "--model_dir", "-md", type=str, default="/tmp/transformer_model",
      help="[default: %(default)s] Directory containing Transformer model "
           "checkpoints.",
      metavar="&lt;MD&gt;")</a>
  parser.add_argument(
      "--params", "-p", type=str, default="big", choices=["base", "big"],
      help="[default: %(default)s] Parameter used for trained model.",
      metavar="&lt;P&gt;")

  &#47&#47 Flags for specifying text/file to be translated.
  parser.add_argument(
      "--text", "-t", type=str, default=None,
      help="[default: %(default)s] Text to translate. Output will be printed "
           "to console.",
      metavar="&lt;T&gt;")
  <a id="change">parser.add_argument(
      "--file", "-f", type=str, default=None,
      help="[default: %(default)s] File containing text to translate. "
           "Translation will be printed to console and, if --file_out is "
           "provided, saved to an output file.",
      metavar="&lt;F&gt;")</a>
  parser.add_argument(
      "--file_out", "-fo", type=str, default=None,
      help="[default: %(default)s] If --file flag is specified, save "
           "translation to this file.",
      metavar="&lt;FO&gt;")

  <a id="change">FLAGS, unparsed = parser.parse_known_args()</a>
  main(sys.argv)
</code></pre><h3>After Change</h3><pre><code class='java'>
if __name__ == "__main__":
  define_translate_flags()
  FLAGS = flags.FLAGS
  <a id="change">absl_app.run(main)</a>
</code></pre><img src="324798460.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 19</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/a84e1ef9f1398100dd73c49737f39ac42f797f02#diff-f51d4725e22422c2e21211e6a540074526ae72f862d726c41b9df93854f4caa7L204' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: a84e1ef9f1398100dd73c49737f39ac42f797f02</div><div id='time'> Time: 2018-05-11</div><div id='author'> Author: 31663267+k-w-w@users.noreply.github.com</div><div id='file'> File Name: official/transformer/translate.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/a84e1ef9f1398100dd73c49737f39ac42f797f02#diff-f51d4725e22422c2e21211e6a540074526ae72f862d726c41b9df93854f4caa7L204' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: a84e1ef9f1398100dd73c49737f39ac42f797f02</div><div id='time'> Time: 2018-05-11</div><div id='author'> Author: 31663267+k-w-w@users.noreply.github.com</div><div id='file'> File Name: official/transformer/translate.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/a84e1ef9f1398100dd73c49737f39ac42f797f02#diff-f9b9a48810696fb13864f781b325fb7fb80f124e66a2b9c5a88723760270fb6bL402' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: a84e1ef9f1398100dd73c49737f39ac42f797f02</div><div id='time'> Time: 2018-05-11</div><div id='author'> Author: 31663267+k-w-w@users.noreply.github.com</div><div id='file'> File Name: official/transformer/data_download.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/a84e1ef9f1398100dd73c49737f39ac42f797f02#diff-8a1b434c2aa87f080e804ab386a8ff4f59c20696f5e2c181e373e1d045c7e49cL112' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: a84e1ef9f1398100dd73c49737f39ac42f797f02</div><div id='time'> Time: 2018-05-11</div><div id='author'> Author: 31663267+k-w-w@users.noreply.github.com</div><div id='file'> File Name: official/transformer/compute_bleu.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>