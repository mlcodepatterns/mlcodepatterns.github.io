<html><h3>3c8df2fc218bd42544ac0eebb8dbfc6724c27a14,plantcv/plantcv/analyze_nir_intensity.py,,analyze_nir_intensity,#Any#Any#Any#Any#,15
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 apply plant shaped mask to image
    mask1 = binary_threshold(mask, 0, 255, &quotlight&quot)
    mask1 = (mask1 / 255)
    <a id="change">masked = np.multiply(gray_img, mask1)</a>

    &#47&#47 calculate histogram
    if gray_img.dtype == &quotuint16&quot:
        maxval = 65536</code></pre><h3>After Change</h3><pre><code class='java'>
    rgbimg = cv2.cvtColor(gray_img, cv2.COLOR_GRAY2BGR)

    &#47&#47 Calculate histogram
    hist_nir = [float(l[0]) for l in cv2.calcHist([gray_img], [0], mask, <a id="change">[bins]</a>, [0, maxval])]
    &#47&#47 Create list of bin labels
    bin_width = maxval / float(bins)
    b = 0
    bin_labels = [float(b)]
    for i in range(bins - 1):
        b += bin_width
        bin_labels.append(b)

    &#47&#47 make hist percentage for plotting
    pixels = cv2.countNonZero(mask1)
    hist_percent = [(p / float(pixels)) * 100 <a id="change">for</a> p in hist_nir]

    &#47&#47 No longer returning a pseudocolored image
    &#47&#47 make mask to select the background</code></pre><img src="331646661.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/danforthcenter/plantcv/commit/3c8df2fc218bd42544ac0eebb8dbfc6724c27a14#diff-840fbd160be1ec6bea149fa1a71ae64567df69a9b5e27727c11fe599eea7aa93L39' target='_blank'>Link</a></div><div id='project'> Project Name: danforthcenter/plantcv</div><div id='commit'> Commit Name: 3c8df2fc218bd42544ac0eebb8dbfc6724c27a14</div><div id='time'> Time: 2019-06-06</div><div id='author'> Author: noahfahlgren@gmail.com</div><div id='file'> File Name: plantcv/plantcv/analyze_nir_intensity.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: analyze_nir_intensity</div><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/c404a34388d1b103519c1cbbc762645a5c299a72#diff-91f4481c54f0c7378458c79216af1abec13762834f586aec2538a9faa69f5560L217' target='_blank'>Link</a></div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: c404a34388d1b103519c1cbbc762645a5c299a72</div><div id='time'> Time: 2008-06-02</div><div id='author'> Author: wnbell@localhost</div><div id='file'> File Name: scipy/sparse/tests/test_base.py</div><div id='class'> Class Name: _TestCommon</div><div id='method'> Method Name: test_elmul</div><BR><BR><div id='link'><a href='https://github.com/broadinstitute/keras-rcnn/commit/b540e054944fce7065635ac7891f65571ffc4d55#diff-5a8cf27fcf707a5b6e3f3e6ab64cc4f50405d684f2820e38c67502dda79fc676L106' target='_blank'>Link</a></div><div id='project'> Project Name: broadinstitute/keras-rcnn</div><div id='commit'> Commit Name: b540e054944fce7065635ac7891f65571ffc4d55</div><div id='time'> Time: 2017-06-10</div><div id='author'> Author: jujihong.cn@gmail.com</div><div id='file'> File Name: keras_rcnn/backend/tensorflow_backend.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: crop_and_resize</div><BR>