<html><h3>20769173fc5100fd8b60ca7d77a0b7dd5d6225fd,skbio/tree/_nj.py,,_compute_q,#Any#,172
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    q = np.zeros(dm.shape)
    n = dm.shape[0]
    for i in range(n):
        for j in <a id="change">range(i)</a>:
            q[i, j] = <a id="change">q[j, i]</a> = \
                ((n - 2) * dm[i, j]) - dm[i].sum() - dm[j].sum()
    return DistanceMatrix(q, dm.ids)
</code></pre><h3>After Change</h3><pre><code class='java'>
    big_sum = np.array([dmv.sum(1)] * dm.shape[0])
    big_sum_diffs = big_sum + big_sum.T
    q = (n - 2) * dmv - big_sum_diffs
    <a id="change">np.fill_diagonal(q, 0)</a>
    return DistanceMatrix(q, dm.ids)


def _compute_collapsed_dm(dm, i, j, disallow_negative_branch_length,</code></pre><img src="130170178.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/biocore/scikit-bio/commit/20769173fc5100fd8b60ca7d77a0b7dd5d6225fd#diff-8de4b2aebf97ea186b62b8ed5946569ff3d13c245368f93836ecf699161d41cdL176' target='_blank'>Link</a></div><div id='project'> Project Name: biocore/scikit-bio</div><div id='commit'> Commit Name: 20769173fc5100fd8b60ca7d77a0b7dd5d6225fd</div><div id='time'> Time: 2017-04-24</div><div id='author'> Author: sdbrown@gmail.com</div><div id='file'> File Name: skbio/tree/_nj.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _compute_q</div><BR><BR><div id='link'><a href='https://github.com/NTMC-Community/MatchZoo/commit/c31c8439f5f263c1f8f928785b364540c82d87ac#diff-f53159babed0830b0d5c93b8cff4d39f6293da497837b292d531cc5641a21381L45' target='_blank'>Link</a></div><div id='project'> Project Name: NTMC-Community/MatchZoo</div><div id='commit'> Commit Name: c31c8439f5f263c1f8f928785b364540c82d87ac</div><div id='time'> Time: 2019-04-18</div><div id='author'> Author: chenjiangui@outlook.com</div><div id='file'> File Name: matchzoo/contrib/layers/matching_tensor_layer.py</div><div id='class'> Class Name: MatchingTensorLayer</div><div id='method'> Method Name: build</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/99fe730f9963f87aaf5d614bb74d60fc3d8e8173#diff-4b4d63c11fad65714adb3181c2c330c5b804cb76ab670e55f24c6be71f3c185eL49' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 99fe730f9963f87aaf5d614bb74d60fc3d8e8173</div><div id='time'> Time: 2015-11-08</div><div id='author'> Author: arokem@gmail.com</div><div id='file'> File Name: examples/connectivity/plot_signal_extraction.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/99fe730f9963f87aaf5d614bb74d60fc3d8e8173#diff-9e67e332fc70536619b49b9571c5663696fcc02bfb61cb56405218a0c7bfe97fL48' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 99fe730f9963f87aaf5d614bb74d60fc3d8e8173</div><div id='time'> Time: 2015-11-08</div><div id='author'> Author: arokem@gmail.com</div><div id='file'> File Name: examples/connectivity/plot_probabilistic_atlas_extraction.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>