<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    lhs[0] = tf.ones((batch_size, 1, 1), dtype=dtype)
  else:
    lhs[0] = tf.reshape(weights, (batch_size, 1, 1))
    <a id="change">lhs[0] = tf.cast(lhs[0], dtype=dtype)</a>
  for core_idx in range(ndims - 1):
    tens_core = what.tt_cores[core_idx]
    left_tang_core = left_tangent_space_tens.tt_cores[core_idx]
    einsum_str = &quotoab,a{0}c,ob{0}d-&gt;ocd&quot.format(mode_str)</code></pre><h3>After Change</h3><pre><code class='java'>
  what = shapes.expand_batch_dim(what)

  if weights is not None:
    <a id="change">weights = tf.convert_to_tensor(weights)</a>

  if not isinstance(where, TensorTrain):
    raise ValueError(&quotThe first argument should be a TensorTrain object, got &quot
                     &quot"%s".&quot % where)</code></pre>