<html><h3>67cd61daa10c782eca31bfc87c9822ce31a76363,foreman/data_refinery_foreman/surveyor/test_end_to_end.py,ArrayexpressRedownloadingTestCase,test_array_express_redownloading,#ArrayexpressRedownloadingTestCase#,138
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 Once the Downloader job succeeds, it should create one
            &#47&#47 and only one processor job, after which the total goes back up
            &#47&#47 to NUM_SAMPLES_IN_EXPERIMENT:
            processor_jobs = <a id="change">ProcessorJob.objects.all().exclude(abort=True)</a> &#47&#47 exclude aborted processor jobs
            self.assertEqual(processor_jobs.count(), NUM_SAMPLES_IN_EXPERIMENT)

            &#47&#47 And finally we can make sure that all of the</code></pre><h3>After Change</h3><pre><code class='java'>
            )

            start_time = timezone.now()
            <a id="change">with self.assertRaises(ProcessorJob.DoesNotExist):
                wait_for_job(doomed_processor_job, ProcessorJob, start_time)

            &#47&#47 The processor job that had a missing file will have
            &#47&#47 recreated its DownloaderJob, which means there should now be two.
           </a> downloader_jobs = DownloaderJob.objects.all().order_by(&quot-id&quot)
            self.assertEqual(downloader_jobs.count(), 2)

            &#47&#47 However DownloaderJobs don&quott get queued immediately, so</code></pre><img src="23230656.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 9</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/67cd61daa10c782eca31bfc87c9822ce31a76363#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L189' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 67cd61daa10c782eca31bfc87c9822ce31a76363</div><div id='time'> Time: 2019-12-12</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: ArrayexpressRedownloadingTestCase</div><div id='method'> Method Name: test_array_express_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/819ba546d438e52baaac15979241235f45786780#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L292' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 819ba546d438e52baaac15979241235f45786780</div><div id='time'> Time: 2019-12-13</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: GeoArchiveRedownloadingTestCase</div><div id='method'> Method Name: test_geo_archive_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/819ba546d438e52baaac15979241235f45786780#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L189' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 819ba546d438e52baaac15979241235f45786780</div><div id='time'> Time: 2019-12-13</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: ArrayexpressRedownloadingTestCase</div><div id='method'> Method Name: test_array_express_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/819ba546d438e52baaac15979241235f45786780#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L403' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 819ba546d438e52baaac15979241235f45786780</div><div id='time'> Time: 2019-12-13</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: GeoCelgzRedownloadingTestCase</div><div id='method'> Method Name: test_geo_celgz_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/67cd61daa10c782eca31bfc87c9822ce31a76363#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L403' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 67cd61daa10c782eca31bfc87c9822ce31a76363</div><div id='time'> Time: 2019-12-12</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: GeoCelgzRedownloadingTestCase</div><div id='method'> Method Name: test_geo_celgz_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/aced7b6a7b877660e0cfbf2617f72779e210efaa#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L292' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: aced7b6a7b877660e0cfbf2617f72779e210efaa</div><div id='time'> Time: 2019-12-13</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: GeoArchiveRedownloadingTestCase</div><div id='method'> Method Name: test_geo_archive_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/67cd61daa10c782eca31bfc87c9822ce31a76363#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L292' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 67cd61daa10c782eca31bfc87c9822ce31a76363</div><div id='time'> Time: 2019-12-12</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: GeoArchiveRedownloadingTestCase</div><div id='method'> Method Name: test_geo_archive_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/aced7b6a7b877660e0cfbf2617f72779e210efaa#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L189' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: aced7b6a7b877660e0cfbf2617f72779e210efaa</div><div id='time'> Time: 2019-12-13</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: ArrayexpressRedownloadingTestCase</div><div id='method'> Method Name: test_array_express_redownloading</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/aced7b6a7b877660e0cfbf2617f72779e210efaa#diff-234f84a9592c7ea2ce65dcdb80f019c3b804c4d6ad16053c9ddfc6e0a64d5013L403' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: aced7b6a7b877660e0cfbf2617f72779e210efaa</div><div id='time'> Time: 2019-12-13</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/surveyor/test_end_to_end.py</div><div id='class'> Class Name: GeoCelgzRedownloadingTestCase</div><div id='method'> Method Name: test_geo_celgz_redownloading</div><BR>