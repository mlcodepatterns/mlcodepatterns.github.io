<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def content(self):
        query_info = []
        <a id="change">for q in connection.queries:
            query_info.append(&quot&lt;dt&gt;&lt;strong&gt;%s&lt;/strong&gt;&lt;/dt&gt;&lt;dd&gt;%s&lt;/dd&gt;&quot % (q[&quottime&quot], q[&quotsql&quot]))
       </a> return &quot&lt;dl&gt;%s&lt;/dl&gt;&quot % (&quot&quot.join(query_info))
</code></pre><h3>After Change</h3><pre><code class='java'>
        return &quot&quot

    def content(self):
        <a id="change">t = Template(&quot&quot&quot
            &lt;dl&gt;
                {% for q in queries %}
                    &lt;dt&gt;&lt;strong&gt;{{ q.time }}&lt;/strong&gt;&lt;/dt&gt;
                    &lt;dd&gt;{{ q.sql }}&lt;/dd&gt;
                {% endfor %}
            &lt;/dl&gt;
        &quot&quot&quot)</a>
        c = Context({&quotqueries&quot: connection.queries})
        return <a id="change">t.render(c)</a>
</code></pre>