<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        street_density_km = None
    
    &#47&#47 average circuity: sum of edge lengths divided by sum of great circle distance between edge endpoints
    points = [<a id="change">((G.node[u][&quoty&quot], G.node[u][&quotx&quot]), (G.node[v][&quoty&quot], G.node[v][&quotx&quot]))</a> for u, v in G.edges()]
    great_circle_distances = [great_circle(p1, p2).m <a id="change">for</a> p1, p2 in points]
    try:
        circuity_avg = edge_length_total / sum(great_circle_distances)
    except ZeroDivisionError:</code></pre><h3>After Change</h3><pre><code class='java'>
                                    lat2=df_coords[&quotv_y&quot], 
                                    lng2=df_coords[&quotv_x&quot])
    warnings.filterwarnings(&quotdefault&quot)
    gc_distances = <a id="change">gc_distances.fillna(value=0)</a>
    try:
        circuity_avg = edge_length_total / gc_distances.sum()
    except ZeroDivisionError:
        circuity_avg = np.nan</code></pre>