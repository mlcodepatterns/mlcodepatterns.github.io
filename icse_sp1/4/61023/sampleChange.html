<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    &quotdt_util.utcnow&quot), return_value=future):
            fire_time_changed(self.hass, future)
            self.hass.block_till_done()
        <a id="change">self.assertEqual((&quotalarm/state&quot, STATE_ALARM_ARMED_HOME, 0, True),
                         self.mock_publish.mock_calls[-2][1])</a>

        &#47&#47 Arm in away mode
        alarm_control_panel.alarm_arm_away(self.hass)
        self.hass.block_till_done()</code></pre><h3>After Change</h3><pre><code class='java'>
            self.hass.block_till_done()
        self.mock_publish.async_publish.assert_called_once_with(
            &quotalarm/state&quot, STATE_ALARM_ARMED_NIGHT, 0, True)
        <a id="change">self.mock_publish.async_publish.reset_mock()</a>

        &#47&#47 Disarm
        alarm_control_panel.alarm_disarm(self.hass)
        self.hass.block_till_done()</code></pre>