<html><h3>b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2,tests/components/alarm_control_panel/test_manual_mqtt.py,TestAlarmControlPanelManualMqtt,test_state_changes_are_published_to_mqtt,#TestAlarmControlPanelManualMqtt#,1383
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    &quotdt_util.utcnow&quot), return_value=future):
            fire_time_changed(self.hass, future)
            self.hass.block_till_done()
        <a id="change">self.assertEqual((&quotalarm/state&quot, STATE_ALARM_ARMED_HOME, 0, True),
                         self.mock_publish.mock_calls[-2][1])</a>

        &#47&#47 Arm in away mode
        alarm_control_panel.alarm_arm_away(self.hass)
        self.hass.block_till_done()</code></pre><h3>After Change</h3><pre><code class='java'>
            self.hass.block_till_done()
        self.mock_publish.async_publish.assert_called_once_with(
            &quotalarm/state&quot, STATE_ALARM_ARMED_NIGHT, 0, True)
        <a id="change">self.mock_publish.async_publish.reset_mock()</a>

        &#47&#47 Disarm
        alarm_control_panel.alarm_disarm(self.hass)
        self.hass.block_till_done()</code></pre><img src="282288243.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2#diff-fcc71e2ba6b0d92dada1839d2d8092ce382b66f11281d872811fccabbecded0cL1383' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2</div><div id='time'> Time: 2018-02-11</div><div id='author'> Author: otto@otto-winter.com</div><div id='file'> File Name: tests/components/alarm_control_panel/test_manual_mqtt.py</div><div id='class'> Class Name: TestAlarmControlPanelManualMqtt</div><div id='method'> Method Name: test_state_changes_are_published_to_mqtt</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2#diff-4464eeb90834016595030b434408108ae1f86d2781a3d4302182f3a3d45d2f25L63' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2</div><div id='time'> Time: 2018-02-11</div><div id='author'> Author: otto@otto-winter.com</div><div id='file'> File Name: tests/components/vacuum/test_mqtt.py</div><div id='class'> Class Name: TestVacuumMQTT</div><div id='method'> Method Name: test_all_commands</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2#diff-ad5291e0a499950fe9cc6ddb6394b338053b2215931d560c3cf4157c5f4532c1L751' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2</div><div id='time'> Time: 2018-02-11</div><div id='author'> Author: otto@otto-winter.com</div><div id='file'> File Name: tests/components/light/test_mqtt.py</div><div id='class'> Class Name: TestLightMQTT</div><div id='method'> Method Name: test_on_command_brightness</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2#diff-ad5291e0a499950fe9cc6ddb6394b338053b2215931d560c3cf4157c5f4532c1L467' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: b1c0cabe6c48ffff7fda3403ec3f1ca919fec6e2</div><div id='time'> Time: 2018-02-11</div><div id='author'> Author: otto@otto-winter.com</div><div id='file'> File Name: tests/components/light/test_mqtt.py</div><div id='class'> Class Name: TestLightMQTT</div><div id='method'> Method Name: test_sending_mqtt_commands_and_optimistic</div><BR>