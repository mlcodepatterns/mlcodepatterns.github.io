<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        ds = PennTreebank
        train, valid, test = ds.splits(TEXT)
        TEXT.build_vocab(train)
        <a id="change">train_iter, valid_iter, test_iter = data.BPTTIterator.splits(
            (train, valid, test), batch_size=3, bptt_len=30)</a>

        train_iter, valid_iter, test_iter = ds.iters(batch_size=4,
                                                     bptt_len=30)
</code></pre><h3>After Change</h3><pre><code class='java'>
        self.assertEqual(len(valid_dataset), 73339)

        vocab = train_dataset.get_vocab()
        tokens_ids = [vocab[token] <a id="change">for</a> token in &quotthe player characters rest&quot.split()]
        self.assertEqual(tokens_ids, [2, 2550, 3344, 1125])

        &#47&#47 Delete the dataset after we&quotre done to save disk space on CI</code></pre>