<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        offset = inv_A[:3, 3]

        &#47&#47 TODO: compute better voxel size
        vs = <a id="change">self.affine.diagonal()[:3]</a>
        F = np.empty((N + 1, 3), dtype=float)
        B = F.copy()
        for s in self.seeds:
            s = np.dot(lin, s) + offset</code></pre><h3>After Change</h3><pre><code class='java'>
        max_cross = self.max_cross

        &#47&#47 Compute voxel size
        <a id="change">lin = affine[:3, :3]</a>
        vs = (lin * lin).sum(0)

        &#47&#47 Get inverse transform (lin/offset) for seeds
        inv_A = np.linalg.inv(self.affine)</code></pre>