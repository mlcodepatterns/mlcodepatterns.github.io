<html><h3>6e93972ada9577ce41af8681de3f8a080f45f418,utils/munin/newsblur_errors.py,,calculate_metrics,#,15
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    last_day = datetime.datetime.utcnow() - datetime.timedelta(days=1)
    
    <a id="change">return {
        &quotfeed_errors&quot: MFeedFetchHistory.objects(fetch_date__gte=last_day, status_code__nin=[200, 304]).count(),
        &quotfeed_success&quot: MFeedFetchHistory.objects(fetch_date__gte=last_day, status_code__in=[200, 304]).count(),
        &quotpage_errors&quot: MPageFetchHistory.objects(fetch_date__gte=last_day, status_code__nin=[200, 304]).count(),
        &quotpage_success&quot: MPageFetchHistory.objects(fetch_date__gte=last_day, status_code__in=[200, 304]).count(),
    }</a>

if __name__ == &quot__main__&quot:
    MuninGraph(graph_config, calculate_metrics).run()
</code></pre><h3>After Change</h3><pre><code class='java'>
    from apps.statistics.models import MStatistics
    statistics = MStatistics.all()
    
    <a id="change">return {
        &quotfeed_success&quot: statistics[&quotfeeds_fetched&quot]
    }</a>

if __name__ == &quot__main__&quot:
    MuninGraph(graph_config, calculate_metrics).run()
</code></pre><img src="258449063.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 7</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/samuelclay/NewsBlur/commit/6e93972ada9577ce41af8681de3f8a080f45f418#diff-b04e0d3781554033eeb82afbe2c3c749c2cd2331308a666d6ad42f0ce427b4b5L17' target='_blank'>Link</a></div><div id='project'> Project Name: samuelclay/NewsBlur</div><div id='commit'> Commit Name: 6e93972ada9577ce41af8681de3f8a080f45f418</div><div id='time'> Time: 2011-11-01</div><div id='author'> Author: samuel@ofbrooklyn.com</div><div id='file'> File Name: utils/munin/newsblur_errors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: calculate_metrics</div><BR><BR><div id='link'><a href='https://github.com/jnothman/UpSetPlot/commit/9002392217305a71257921224326b73b424bfdc3#diff-bacacd4d8e425a60a0cd9ed978b4651fc072f58ba21b8ec7aaff32304a336148L11' target='_blank'>Link</a></div><div id='project'> Project Name: jnothman/UpSetPlot</div><div id='commit'> Commit Name: 9002392217305a71257921224326b73b424bfdc3</div><div id='time'> Time: 2019-06-06</div><div id='author'> Author: joel.nothman@gmail.com</div><div id='file'> File Name: upsetplot/data.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: generate_data</div><BR><BR><div id='link'><a href='https://github.com/cve-search/cve-search/commit/0a2d147d858fc27a17e047b5b30abe4a8fd07c35#diff-20f9a0d3751773d5c03aa30f680d5b056c397f94a094c93a1f25cce415bcb3a5L33' target='_blank'>Link</a></div><div id='project'> Project Name: cve-search/cve-search</div><div id='commit'> Commit Name: 0a2d147d858fc27a17e047b5b30abe4a8fd07c35</div><div id='time'> Time: 2015-10-24</div><div id='author'> Author: pieterjan.moreels@gmail.com</div><div id='file'> File Name: lib/cpelist.py</div><div id='class'> Class Name: CPEList</div><div id='method'> Method Name: check</div><BR><BR><div id='link'><a href='https://github.com/cve-search/cve-search/commit/7fcbf3e1e8b59897042e01c8c07236ce7bc4c010#diff-ebbd46adf62108189d36fc50dd461f24c509f47f16226ca528cfc7eb5cf6aa13L67' target='_blank'>Link</a></div><div id='project'> Project Name: cve-search/cve-search</div><div id='commit'> Commit Name: 7fcbf3e1e8b59897042e01c8c07236ce7bc4c010</div><div id='time'> Time: 2015-09-25</div><div id='author'> Author: pieterjan.moreels@gmail.com</div><div id='file'> File Name: sbin/db_updater.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: nbelement</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/8fa866f3cd0ece29b2013fd3f816b147a2465ec6#diff-627f0812675920ddae63b45048540a5cf04791a66ccc92c0d0be4f8feff1f8c0L711' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 8fa866f3cd0ece29b2013fd3f816b147a2465ec6</div><div id='time'> Time: 2019-04-03</div><div id='author'> Author: kurt.wheeler91@gmail.com</div><div id='file'> File Name: common/data_refinery_common/models/models.py</div><div id='class'> Class Name: OriginalFile</div><div id='method'> Method Name: needs_downloading</div><BR><BR><div id='link'><a href='https://github.com/chakki-works/doccano/commit/006181e72a517705f690e188238c644476932dba#diff-cb6f12d6960a028c8573ecf8cd2c16d4bcb5752b21b045f88ef54fe1a2200cc0L30' target='_blank'>Link</a></div><div id='project'> Project Name: chakki-works/doccano</div><div id='commit'> Commit Name: 006181e72a517705f690e188238c644476932dba</div><div id='time'> Time: 2018-08-08</div><div id='author'> Author: light.tree.1.13@gmail.com</div><div id='file'> File Name: app/server/api.py</div><div id='class'> Class Name: ProjectViewSet</div><div id='method'> Method Name: progress</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/7ed9e6bce1c4a1b52cacf228e4ed9e6d548ab6a0#diff-627f0812675920ddae63b45048540a5cf04791a66ccc92c0d0be4f8feff1f8c0L710' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 7ed9e6bce1c4a1b52cacf228e4ed9e6d548ab6a0</div><div id='time'> Time: 2019-03-29</div><div id='author'> Author: kurt.wheeler91@gmail.com</div><div id='file'> File Name: common/data_refinery_common/models/models.py</div><div id='class'> Class Name: OriginalFile</div><div id='method'> Method Name: needs_downloading</div><BR>