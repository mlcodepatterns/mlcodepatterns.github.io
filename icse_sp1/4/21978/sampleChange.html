<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            example = dict({})
            for k, value in batch_dict.items():
                if isinstance(value, list):
                    <a id="change">example[k] = np.array([value[b]])</a>
                else:
                    example[k] = value[b].reshape((1,) + value[b].shape)
            inputs = self.make_input(example)
            encoder_outputs = self.encode(inputs, inputs[&quotsrc_len&quot])</code></pre><h3>After Change</h3><pre><code class='java'>
            outs = unsort_batch(outs, perm_idx)
            lengths = unsort_batch(lengths, perm_idx)
            scores = unsort_batch(scores, perm_idx)
        return <a id="change">outs</a>.cpu().numpy()


@register_model(task=&quotseq2seq&quot, name=[&quotdefault&quot, &quotattn&quot])</code></pre>