<html><h3>6805be9179b0dde701296a7ed69feea1b26a3a48,pytorch_translate/dual_learning/dual_learning_criterion.py,UnsupervisedCriterion,forward,#UnsupervisedCriterion#Any#Any#Any#Any#Any#Any#Any#Any#Any#,67
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            tgt_hypo = self._maybe_reverse_source(tgt_hypo_processed)

            &#47&#47 use bleu score as reward
            scorer = <a id="change">bleu.Scorer(src_dict.pad(), src_dict.eos(), src_dict.unk())</a>
            assert len(src_hypos) == 1
            src_hypo = src_hypos[0]["tokens"][:-1]
            scorer.add(src.int().cpu(), src_hypo.int().cpu())
            backward_reward = (</code></pre><h3>After Change</h3><pre><code class='java'>
            tgt_hypo = self._maybe_reverse_source(tgt_hypo_processed)

            &#47&#47 use bleu score as reward
            scorer = <a id="change">bleu.Scorer(
                bleu.BleuConfig(
                    pad=src_dict.pad(),
                    eos=src_dict.eos(),
                    unk=src_dict.unk(),
                )
            )</a>
            assert len(src_hypos) == 1
            src_hypo = src_hypos[0]["tokens"][:-1]
            scorer.add(src.int().cpu(), src_hypo.int().cpu())
            backward_reward = (</code></pre><img src="83195985.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pytorch/translate/commit/6805be9179b0dde701296a7ed69feea1b26a3a48#diff-dcfc43c96a8693678f22c5b1473770ec10e5c3de04a1f613d6fe98c7fbb74322L145' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/translate</div><div id='commit'> Commit Name: 6805be9179b0dde701296a7ed69feea1b26a3a48</div><div id='time'> Time: 2020-10-20</div><div id='author'> Author: alexei.b@gmail.com</div><div id='file'> File Name: pytorch_translate/dual_learning/dual_learning_criterion.py</div><div id='class'> Class Name: UnsupervisedCriterion</div><div id='method'> Method Name: forward</div><BR><BR><div id='link'><a href='https://github.com/pytorch/translate/commit/6805be9179b0dde701296a7ed69feea1b26a3a48#diff-4a9a140bc1c87281812548682c6394f7effa7eeff68d4cbc4256dfca94e86abdL71' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/translate</div><div id='commit'> Commit Name: 6805be9179b0dde701296a7ed69feea1b26a3a48</div><div id='time'> Time: 2020-10-20</div><div id='author'> Author: alexei.b@gmail.com</div><div id='file'> File Name: pytorch_translate/rescoring/weights_search.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: random_search</div><BR><BR><div id='link'><a href='https://github.com/pytorch/translate/commit/6805be9179b0dde701296a7ed69feea1b26a3a48#diff-4a9a140bc1c87281812548682c6394f7effa7eeff68d4cbc4256dfca94e86abdL41' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/translate</div><div id='commit'> Commit Name: 6805be9179b0dde701296a7ed69feea1b26a3a48</div><div id='time'> Time: 2020-10-20</div><div id='author'> Author: alexei.b@gmail.com</div><div id='file'> File Name: pytorch_translate/rescoring/weights_search.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: evaluate_weights</div><BR><BR><div id='link'><a href='https://github.com/pytorch/translate/commit/6805be9179b0dde701296a7ed69feea1b26a3a48#diff-e67957bb0d24527093a87049a08264597395bb5f9f8c7834fe3273381d8e252aL24' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/translate</div><div id='commit'> Commit Name: 6805be9179b0dde701296a7ed69feea1b26a3a48</div><div id='time'> Time: 2020-10-20</div><div id='author'> Author: alexei.b@gmail.com</div><div id='file'> File Name: pytorch_translate/sequence_criterions.py</div><div id='class'> Class Name: BaseSequenceLossCriterion</div><div id='method'> Method Name: __init__</div><BR>