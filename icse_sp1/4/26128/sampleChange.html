<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.branches_success[routing] += n_success
        self.branches_tries[routing] += n_success + n_failures
        perfs = [
            (self.branches_success[i]+1)/<a id="change">float(self.branches_tries[i]+1)</a>
            <a id="change">for</a> i
            in range(self.n_branches)
        ]
        self.best_branch = np.argmax(perfs)</code></pre><h3>After Change</h3><pre><code class='java'>
        self.branch_values[routing] = self.branch_success[routing]/self.branch_tries[routing]

        &#47&#47 break ties randomly
        self.best_branch = np.random.choice(<a id="change">np</a>.where(np.array(self.branch_values) == max(self.branch_values))[0])

        if self.verbose:
            print("New success &#47&#47", self.branches_success)</code></pre>