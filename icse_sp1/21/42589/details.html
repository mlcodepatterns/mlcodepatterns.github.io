<html><h3>377dbd0c1dc2ac1cf90556e9a4a5ecccbfa65a93,models/official/mobilenet/mobilenet.py,,,#,39
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


&#47&#47 Cloud TPU Cluster Resolvers
<a id="change">flags.DEFINE_string(
    &quottpu&quot, default=None,
    help=&quotThe Cloud TPU to use for training. This should be either the name &quot
    &quotused when creating the Cloud TPU, or a grpc://ip.address.of.tpu:8470 url.&quot)</a>
flags.DEFINE_string(
    &quotgcp_project&quot, default=None,
    help=&quotProject name for the Cloud TPU-enabled project. If not specified, we &quot
    &quotwill attempt to automatically detect the GCE project from metadata.&quot)
flags.DEFINE_string(
    &quottpu_zone&quot, default=None,
    help=&quotGCE zone where the Cloud TPU is located in. If not specified, we &quot
    &quotwill attempt to automatically detect the GCE project from metadata.&quot)

&#47&#47 Model specific paramenters
<a id="change">flags.DEFINE_string(
    &quotdata_dir&quot, &quot&quot,
    &quotDirectory where input data is stored&quot)</a>

<a id="change">flags.DEFINE_string(
    &quotmodel_dir&quot, None,
    &quotDirectory where model output is stored&quot)</a>

flags.DEFINE_string(
    &quottflite_export_dir&quot,
    default=None,
    help=(&quotThe directory where the exported tflite files will be stored.&quot))

flags.DEFINE_string(
    &quotexport_dir&quot,
    default=None,
    help=(&quotThe directory where the exported SavedModel will be stored.&quot))

flags.DEFINE_integer(
    &quotnum_shards&quot, 8,
    &quotNumber of shards (workers).&quot)

flags.DEFINE_integer(
    &quotiterations&quot, 100,
    &quotNumber of iterations per TPU training loop.&quot)

flags.DEFINE_integer(
    &quottrain_batch_size&quot, 1024,
    &quotGlobal (not per-shard) batch size for training&quot)

flags.DEFINE_integer(
    &quoteval_total_size&quot, 0,
    &quotTotal batch size for evaluation, use the entire validation set if 0&quot)

flags.DEFINE_integer(
    &quoteval_batch_size&quot, 1024,
    &quotGlobal (not per-shard) batch size for evaluation&quot)

<a id="change">flags.DEFINE_integer(
    &quottrain_steps&quot, 8000000,
    &quotNumber of steps use for training.&quot)</a>

flags.DEFINE_integer(
    &quottrain_steps_per_eval&quot, 2000,
    &quotNumber of training steps to run between evaluations.&quot)

flags.DEFINE_string(
    &quotmode&quot, &quottrain_and_eval&quot,
    &quotMode to run: train, eval, train_and_eval&quot)

flags.DEFINE_integer(
    &quotmin_eval_interval&quot, 180,
    &quotMinimum number of seconds between evaluations&quot)

flags.DEFINE_integer(
    &quoteval_timeout&quot, None,
    &quotEvaluation timeout: Maximum number of seconds that &quot
    &quotmay elapse while no new checkpoints are observed&quot)

<a id="change">flags.DEFINE_bool(
    &quotuse_tpu&quot, True,
    &quotUse TPUs rather than plain CPUs&quot)</a>

flags.DEFINE_boolean(
    &quotper_host_input_for_training&quot, True,
    &quotIf true, input_fn is invoked per host rather than per shard.&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
from tensorflow.contrib.framework.python.ops import arg_scope
from tensorflow.contrib.training.python.training import evaluation

<a id="change">common_tpu_flags.define_common_tpu_flags()</a>
common_hparams_flags.define_common_hparams_flags()

&#47&#47 Model specific parameters
flags.DEFINE_string(</code></pre><img src="200388593.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/377dbd0c1dc2ac1cf90556e9a4a5ecccbfa65a93#diff-18c556574b2174e67924a1d0bc66418339a96f82fddbb595bb07dc13f3ccb6caL39' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: 377dbd0c1dc2ac1cf90556e9a4a5ecccbfa65a93</div><div id='time'> Time: 2019-04-23</div><div id='author'> Author: allencwang@google.com</div><div id='file'> File Name: models/official/mobilenet/mobilenet.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/f3d79e3fe7f6450f804e8f41935b3e491a99f7e3#diff-1b2556446c21831afa3b5930d46633ee5f20b58b95a971cb3ac402d6705a3b00L39' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: f3d79e3fe7f6450f804e8f41935b3e491a99f7e3</div><div id='time'> Time: 2019-07-02</div><div id='author'> Author: gardener@tensorflow.org</div><div id='file'> File Name: models/official/mnasnet/mnasnet_main.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/4b7c183cfca336fcc96b5a3c45cb99eda260e8df#diff-304c89617c893eb6f22f1cbec1e3e575fc2b1dd504931a49b32c59084d541fa8L33' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: 4b7c183cfca336fcc96b5a3c45cb99eda260e8df</div><div id='time'> Time: 2019-07-03</div><div id='author'> Author: gardener@tensorflow.org</div><div id='file'> File Name: models/official/mask_rcnn/mask_rcnn_main.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>