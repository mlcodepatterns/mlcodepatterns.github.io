<html><h3>36e8a554066d4d0b05923f7d0d7f43d4dbfb664d,hyperspy/tests/io/test_tiff.py,,test_read_unit_from_DM_stack,#Any#,97
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    nt.assert_almost_equal(s.axes_manager[0].scale, 2.5, places=5)
    nt.assert_almost_equal(s.axes_manager[1].scale, 0.16867, places=5)
    nt.assert_almost_equal(s.axes_manager[2].scale, 1.68674, places=5)
    <a id="change">fname2 = fname.replace(&quotDM_stack.tif&quot, &quotDM_stack2.tif&quot)</a>
    <a id="change">s.save(fname2, overwrite=True)</a>
    <a id="change">s2 = hs.load(fname2)</a>
    _compare_signal_shape_data(s, s2)
    nt.assert_equal(s2.axes_manager[0].units, s.axes_manager[0].units)
    nt.assert_equal(s2.axes_manager[1].units, &quotmicron&quot)
    nt.assert_equal(s2.axes_manager[2].units, &quotmicron&quot)
    nt.assert_almost_equal(s2.axes_manager[0].scale, s.axes_manager[0].scale,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[1].scale, s.axes_manager[1].scale,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[2].scale, s.axes_manager[2].scale,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[0].offset, s.axes_manager[0].offset,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[1].offset, s.axes_manager[1].offset,
                           places=5)
    nt.assert_almost_equal(s2.axes_manager[2].offset, s.axes_manager[2].offset,
                           places=5)
    <a id="change">if remove_files:
        os.remove(fname2)    

    
</a>def test_read_unit_from_imagej_stack_no_scale(import_local_tifffile=False):
    fname = os.path.join(my_path, &quottiff_files&quot,
        &quottest_loading_image_saved_with_imageJ_stack_no_scale.tif&quot)
    s = hs.load(fname, import_local_tifffile=import_local_tifffile)</code></pre><h3>After Change</h3><pre><code class='java'>
    nt.assert_almost_equal(s.axes_manager[0].scale, 2.5, places=5)
    nt.assert_almost_equal(s.axes_manager[1].scale, 0.16867, places=5)
    nt.assert_almost_equal(s.axes_manager[2].scale, 1.68674, places=5)
    <a id="change">with tempfile.TemporaryDirectory() as tmpdir:
        fname2 = os.path.join(
            tmpdir, &quottest_loading_image_saved_with_DM_stack2.tif&quot)
        s.save(fname2, overwrite=True)
        s2 = hs.load(fname2)
        _compare_signal_shape_data(s, s2)
        nt.assert_equal(s2.axes_manager[0].units, s.axes_manager[0].units)
        nt.assert_equal(s2.axes_manager[1].units, &quotmicron&quot)
        nt.assert_equal(s2.axes_manager[2].units, &quotmicron&quot)
        nt.assert_almost_equal(
            s2.axes_manager[0].scale, s.axes_manager[0].scale, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[1].scale, s.axes_manager[1].scale, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[2].scale, s.axes_manager[2].scale, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[0].offset, s.axes_manager[0].offset, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[1].offset, s.axes_manager[1].offset, places=5)
        nt.assert_almost_equal(
            s2.axes_manager[2].offset, s.axes_manager[2].offset, places=5)


</a>def test_read_unit_from_imagej_stack_no_scale(import_local_tifffile=False):
    fname = os.path.join(MY_PATH, &quottiff_files&quot,
                         &quottest_loading_image_saved_with_imageJ_stack_no_scale.tif&quot)
    s = hs.load(fname, import_local_tifffile=import_local_tifffile)</code></pre><img src="62148983.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 16</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/hyperspy/hyperspy/commit/36e8a554066d4d0b05923f7d0d7f43d4dbfb664d#diff-3dbc3e9635d05122450a9c25bebbe4c72bd4d1df395cb9fe28b7a186dc9f637dL98' target='_blank'>Link</a></div><div id='project'> Project Name: hyperspy/hyperspy</div><div id='commit'> Commit Name: 36e8a554066d4d0b05923f7d0d7f43d4dbfb664d</div><div id='time'> Time: 2016-07-26</div><div id='author'> Author: frandelapena@gmail.com</div><div id='file'> File Name: hyperspy/tests/io/test_tiff.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_read_unit_from_DM_stack</div><BR><BR><div id='link'><a href='https://github.com/hyperspy/hyperspy/commit/36e8a554066d4d0b05923f7d0d7f43d4dbfb664d#diff-3dbc3e9635d05122450a9c25bebbe4c72bd4d1df395cb9fe28b7a186dc9f637dL155' target='_blank'>Link</a></div><div id='project'> Project Name: hyperspy/hyperspy</div><div id='commit'> Commit Name: 36e8a554066d4d0b05923f7d0d7f43d4dbfb664d</div><div id='time'> Time: 2016-07-26</div><div id='author'> Author: frandelapena@gmail.com</div><div id='file'> File Name: hyperspy/tests/io/test_tiff.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_write_read_unit_imagej</div><BR><BR><div id='link'><a href='https://github.com/hyperspy/hyperspy/commit/36e8a554066d4d0b05923f7d0d7f43d4dbfb664d#diff-3dbc3e9635d05122450a9c25bebbe4c72bd4d1df395cb9fe28b7a186dc9f637dL171' target='_blank'>Link</a></div><div id='project'> Project Name: hyperspy/hyperspy</div><div id='commit'> Commit Name: 36e8a554066d4d0b05923f7d0d7f43d4dbfb664d</div><div id='time'> Time: 2016-07-26</div><div id='author'> Author: frandelapena@gmail.com</div><div id='file'> File Name: hyperspy/tests/io/test_tiff.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_write_read_unit_imagej_with_description</div><BR><BR><div id='link'><a href='https://github.com/hyperspy/hyperspy/commit/36e8a554066d4d0b05923f7d0d7f43d4dbfb664d#diff-3dbc3e9635d05122450a9c25bebbe4c72bd4d1df395cb9fe28b7a186dc9f637dL98' target='_blank'>Link</a></div><div id='project'> Project Name: hyperspy/hyperspy</div><div id='commit'> Commit Name: 36e8a554066d4d0b05923f7d0d7f43d4dbfb664d</div><div id='time'> Time: 2016-07-26</div><div id='author'> Author: frandelapena@gmail.com</div><div id='file'> File Name: hyperspy/tests/io/test_tiff.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_read_unit_from_DM_stack</div><BR><BR><div id='link'><a href='https://github.com/hyperspy/hyperspy/commit/36e8a554066d4d0b05923f7d0d7f43d4dbfb664d#diff-3dbc3e9635d05122450a9c25bebbe4c72bd4d1df395cb9fe28b7a186dc9f637dL227' target='_blank'>Link</a></div><div id='project'> Project Name: hyperspy/hyperspy</div><div id='commit'> Commit Name: 36e8a554066d4d0b05923f7d0d7f43d4dbfb664d</div><div id='time'> Time: 2016-07-26</div><div id='author'> Author: frandelapena@gmail.com</div><div id='file'> File Name: hyperspy/tests/io/test_tiff.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _test_read_unit_from_dm</div><BR>