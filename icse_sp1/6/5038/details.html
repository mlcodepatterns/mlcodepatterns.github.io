<html><h3>4bcf6fdd93291a1bfba3c7038fe30a7338870968,onmt/models/SRU.py,,,#,72
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    from pynvrtc.compiler import Program

    &#47&#47 This sets up device to use.
    device = <a id="change">torch.device("cuda")</a>
    <a id="change">tmp_ = torch.rand(1, 1).to(device)</a>

    sru_prog = Program(SRU_CODE.encode(&quotutf-8&quot),
                       &quotsru_prog.cu&quot.encode(&quotutf-8&quot))
    sru_ptx = sru_prog.compile()
    sru_mod = function.Module()
    sru_mod.load(bytes(sru_ptx.encode()))

    SRU_FWD_FUNC = sru_mod.get_function(&quotsru_fwd&quot)
    SRU_BWD_FUNC = sru_mod.get_function(&quotsru_bwd&quot)
    SRU_BiFWD_FUNC = sru_mod.get_function(&quotsru_bi_fwd&quot)
    SRU_BiBWD_FUNC = sru_mod.get_function(&quotsru_bi_bwd&quot)

    stream = namedtuple(&quotStream&quot, [&quotptr&quot])
    SRU_STREAM = stream(ptr=<a id="change">torch</a>.cuda.current_stream().cuda_stream)


class SRU_Compute(Function):</code></pre><h3>After Change</h3><pre><code class='java'>
}

SRU_FWD_FUNC, SRU_BWD_FUNC = None, None
SRU_BiFWD_FUNC, SRU_BiBWD_FUNC = <a id="change">None</a>, None
SRU_STREAM = None

</code></pre><img src="33073243.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/OpenNMT/OpenNMT-py/commit/4bcf6fdd93291a1bfba3c7038fe30a7338870968#diff-145a8658a7ead331ea958ac1c8a2fe7e0baa0b367cb23b1617c0541451fca416L72' target='_blank'>Link</a></div><div id='project'> Project Name: OpenNMT/OpenNMT-py</div><div id='commit'> Commit Name: 4bcf6fdd93291a1bfba3c7038fe30a7338870968</div><div id='time'> Time: 2018-05-22</div><div id='author'> Author: pltrdy@gmail.com</div><div id='file'> File Name: onmt/models/SRU.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/OpenNMT/OpenNMT-py/commit/4bcf6fdd93291a1bfba3c7038fe30a7338870968#diff-145a8658a7ead331ea958ac1c8a2fe7e0baa0b367cb23b1617c0541451fca416L72' target='_blank'>Link</a></div><div id='project'> Project Name: OpenNMT/OpenNMT-py</div><div id='commit'> Commit Name: 4bcf6fdd93291a1bfba3c7038fe30a7338870968</div><div id='time'> Time: 2018-05-22</div><div id='author'> Author: pltrdy@gmail.com</div><div id='file'> File Name: onmt/models/SRU.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/pytorch/tutorials/commit/3128e13109c8766eafb413f2428bba976701e929#diff-bb6ac9de5f0e95bba9a48afcd9234956764fda31eeb5744e34ac76caf313bd48L148' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/tutorials</div><div id='commit'> Commit Name: 3128e13109c8766eafb413f2428bba976701e929</div><div id='time'> Time: 2020-12-02</div><div id='author'> Author: 6156351+zhangguanheng66@users.noreply.github.com</div><div id='file'> File Name: beginner_source/transformer_tutorial.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/pytorch/tutorials/commit/133e5b6a84e126cbcfbc5c11eeb6286185dbec2f#diff-c6e3145e6eb7baf6b78de4cc3ac66a985982048e561b4079567970e05a8f0b27L58' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/tutorials</div><div id='commit'> Commit Name: 133e5b6a84e126cbcfbc5c11eeb6286185dbec2f</div><div id='time'> Time: 2020-12-02</div><div id='author'> Author: 6156351+zhangguanheng66@users.noreply.github.com</div><div id='file'> File Name: beginner_source/torchtext_translation_tutorial.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/victoresque/pytorch-template/commit/1517f6e321aee8e78aac0133e9d05cfcef0b42b0#diff-b65070fe5615e6c711e5732e8d41ee0fe95d456876c19f58e739b7f357fa7d93L15' target='_blank'>Link</a></div><div id='project'> Project Name: victoresque/pytorch-template</div><div id='commit'> Commit Name: 1517f6e321aee8e78aac0133e9d05cfcef0b42b0</div><div id='time'> Time: 2018-10-16</div><div id='author'> Author: sunq0313@gmail.com</div><div id='file'> File Name: base/base_trainer.py</div><div id='class'> Class Name: BaseTrainer</div><div id='method'> Method Name: __init__</div><BR>