<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 Config related stuff.
        self._bucketname = config.get_option(&quots3.bucket&quot)
        self._url = <a id="change">config.get_option(&quots3.url&quot)</a>
        self._key_prefix = config.get_option(&quots3.keyPrefix&quot)
        self._region = config.get_option(&quots3.region&quot)

        user = os.getenv(&quotUSER&quot, None)

        if self._url and &quot{USER}&quot in self._url:
            self._url = self._url.replace(&quot{USER}&quot, user)
        if self._key_prefix and &quot{USER}&quot in self._key_prefix:
            self._key_prefix = self._key_prefix.replace(&quot{USER}&quot, user)

        &#47&#47 URL where browsers go to load the Streamlit web app.
        self._web_app_url = None

        if not self._url:
            self._web_app_url = os.path.join(
                &quothttps://%s.%s&quot % (self._bucketname, &quots3.amazonaws.com&quot),
                self._s3_key(&quotindex.html&quot))
        else:
            <a id="change">self._web_app_url</a> = os.path.join(
                self._url,
                self._s3_key(&quotindex.html&quot, add_prefix=False))
</code></pre><h3>After Change</h3><pre><code class='java'>
        log.propagate = False

        &#47&#47 Config related stuff.
        settings = <a id="change">config.get_option(&quots3.settingsInternal&quot)</a>

        assert settings, (
            &quotSharing is disabled. See "s3.settingsInternal".&quot)

        self._bucketname = settings.get(&quotbucket&quot)
        self._url = settings.get(&quoturl&quot)
        self._key_prefix = settings.get(&quotkeyPrefix&quot)
        self._region = settings.get(&quotregion&quot)

        user = os.getenv(&quotUSER&quot, None)

        if self._url and &quot{USER}&quot in self._url:
            self._url = self._url.replace(&quot{USER}&quot, user)
        if self._key_prefix and &quot{USER}&quot in self._key_prefix:
            self._key_prefix = self._key_prefix.replace(&quot{USER}&quot, user)

        &#47&#47 URL where browsers go to load the Streamlit web app.
        self._web_app_url = None

        if not self._url:
            self._web_app_url = os.path.join(
                &quothttps://%s.%s&quot % (self._bucketname, &quots3.amazonaws.com&quot),
                self._s3_key(&quotindex.html&quot))
        else:
            <a id="change">self._web_app_url</a> = os.path.join(
                self._url,
                self._s3_key(&quotindex.html&quot, add_prefix=False))
</code></pre>