<html><h3>b85a210e72d4333b71c72f33b905de0ad0070c17,scripts/train.py,,,#,10
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
model.fit(X,Y, nb_epoch=10, validation_split=0.2)


<a id="change">model.save(&quottest_model&quot)</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
&#47&#47 Get args.
args = docopt(__doc__)

<a id="change">if __name__ == "__main__":
    print(args)
    sessions = args[&quot--sessions&quot].split(&quot,&quot)
    epochs = int(args[&quot--epochs&quot])
    &#47&#47Train on session pictures
    sh = dk.sessions.SessionHandler(sessions_path=&quot~/donkey_data/sessions/&quot)
    s = sh.load(sessions[0])
    X, Y = s.load_dataset()


    &#47&#47Train on simulated pictures
    &#47&#47X, Y = dk.datasets.moving_square(n_frames=2000, return_x=True, return_y=False)


    &#47&#47print(&quotDownloading file, this could take some time.&quot)
    &#47&#47url = &quothttps://s3.amazonaws.com/donkey_resources/port.pkl&quot
    &#47&#47X, Y = dk.datasets.load_url(url)

    print(&quotLoading Model.&quot)
    &#47&#47m = dk.models.cnn3_full1_relu()
    m = keras.models.load_model(&quot/home/wroscoe/donkey_data/models/best-diff_lines2.hdf5&quot)


    filepath="best-"+sessions[0]+".hdf5"
    checkpoint = ModelCheckpoint(filepath, monitor=&quotval_loss&quot, verbose=1, 
                                 save_best_only=True, mode=&quotmin&quot)
    callbacks_list = [checkpoint]

    hist = m.fit(X, Y, batch_size=64, nb_epoch=epochs, 
                     validation_split=.2, callbacks=callbacks_list)</a>
</code></pre><img src="36736580.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/autorope/donkeycar/commit/b85a210e72d4333b71c72f33b905de0ad0070c17#diff-0e048206896ef3808bf29e00f4ca534eb723fe51e27a47b583a92e913c33bbcfL10' target='_blank'>Link</a></div><div id='project'> Project Name: autorope/donkeycar</div><div id='commit'> Commit Name: b85a210e72d4333b71c72f33b905de0ad0070c17</div><div id='time'> Time: 2017-02-18</div><div id='author'> Author: wroscoe@gmail.com</div><div id='file'> File Name: scripts/train.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/01d18e835815feedeac2fbeff8025cdd94128eaa#diff-349c60aa358314bd3a6b94c5dcff51b731a6733f3adb733e34159cba5ea2f271L411' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 01d18e835815feedeac2fbeff8025cdd94128eaa</div><div id='time'> Time: 2019-12-09</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/fmri/clustools.py</div><div id='class'> Class Name: NilParcellate</div><div id='method'> Method Name: create_clean_mask</div><BR><BR><div id='link'><a href='https://github.com/nipy/dipy/commit/14d296009281bee1b55ed42adffd6e8fe7975d6a#diff-906ea5c5eb43d2701a41448568e2cdb6d92506460a64001b5f7e08b3b25462a6L631' target='_blank'>Link</a></div><div id='project'> Project Name: nipy/dipy</div><div id='commit'> Commit Name: 14d296009281bee1b55ed42adffd6e8fe7975d6a</div><div id='time'> Time: 2018-08-13</div><div id='author'> Author: marc.cote.19@gmail.com</div><div id='file'> File Name: dipy/viz/tests/test_ui.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_ui_radio_button</div><BR><BR><div id='link'><a href='https://github.com/nipy/dipy/commit/14d296009281bee1b55ed42adffd6e8fe7975d6a#diff-906ea5c5eb43d2701a41448568e2cdb6d92506460a64001b5f7e08b3b25462a6L557' target='_blank'>Link</a></div><div id='project'> Project Name: nipy/dipy</div><div id='commit'> Commit Name: 14d296009281bee1b55ed42adffd6e8fe7975d6a</div><div id='time'> Time: 2018-08-13</div><div id='author'> Author: marc.cote.19@gmail.com</div><div id='file'> File Name: dipy/viz/tests/test_ui.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_ui_checkbox</div><BR>