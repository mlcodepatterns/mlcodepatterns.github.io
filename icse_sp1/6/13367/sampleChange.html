<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        sign = np.where(y &lt; 0, np.zeros_like(y), np.ones_like(y))
        &#47&#47 Take the logarithm, since this is what we will write to the header
        &#47&#47 for the optimized product using shifts
        y = <a id="change">(tf.math.log(tf.math.abs(y)) / tf.math.log(2.)).numpy().astype(&quotint&quot)</a>
        return np.stack((sign, y), axis=-1)

def get_type(quantizer_config):
    width = quantizer_config[&quotconfig&quot][&quotbits&quot]</code></pre><h3>After Change</h3><pre><code class='java'>
        &quot&quot&quot
        x = tf.convert_to_tensor(data)
        y = self.quantizer_fn(x)
        <a id="change">if hasattr(y, &quotnumpy&quot):
            y = y.numpy()
       </a> return y

def get_type(quantizer_config):
    width = quantizer_config[&quotconfig&quot][&quotbits&quot]</code></pre>