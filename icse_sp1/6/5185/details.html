<html><h3>16d1fd175f5ce804f4daa66da5d51e2dc3da1b36,test/test_spark.py,SparkTests,run,#SparkTests#Any#,70
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        warnings.simplefilter(&quotmodule&quot)

    def run(self, result=None):
        if int(<a id="change">os.getenv(&quotOMPI_COMM_WORLD_RANK&quot, 0)</a>) != 0 or int(os.getenv(&quotHOROVOD_RANK&quot, 0)) != 0:
            &#47&#47 Running in MPI or Gloo with rank &gt; 0, ignore.
            &#47&#47 Purposefully skip these silently
            return</code></pre><h3>After Change</h3><pre><code class='java'>
    def run(self, result=None):
        &#47&#47 These unit tests should not be run with horovodrun as some tests
        &#47&#47 setup their own Horovod cluster, where both will then interfere.
        <a id="change">if &quotOMPI_COMM_WORLD_RANK&quot in os.environ or &quotHOROVOD_RANK&quot in os.environ:
            self.skipTest("These tests should not be executed via horovodrun, just pytest")

       </a> super(SparkTests, self).run(result)

    
    Test that horovod.spark.run works properly in a simple setup using MPI.</code></pre><img src="34584399.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/horovod/horovod/commit/16d1fd175f5ce804f4daa66da5d51e2dc3da1b36#diff-d0425054f455c253997fc682225ffb9dd0e49ae77b1ba0cb55c66a19090e3739L71' target='_blank'>Link</a></div><div id='project'> Project Name: horovod/horovod</div><div id='commit'> Commit Name: 16d1fd175f5ce804f4daa66da5d51e2dc3da1b36</div><div id='time'> Time: 2020-04-09</div><div id='author'> Author: github@enrico.minack.dev</div><div id='file'> File Name: test/test_spark.py</div><div id='class'> Class Name: SparkTests</div><div id='method'> Method Name: run</div><BR><BR><div id='link'><a href='https://github.com/Kaggle/docker-python/commit/44f637a6fc9ab8d1e69b293e26425be0cdabc499#diff-7ad333d1673b7a08411ce23923ffe855ab3fe7934feae73a21c4dfd05c21967dL9' target='_blank'>Link</a></div><div id='project'> Project Name: Kaggle/docker-python</div><div id='commit'> Commit Name: 44f637a6fc9ab8d1e69b293e26425be0cdabc499</div><div id='time'> Time: 2019-07-09</div><div id='author'> Author: ifigotin@google.com</div><div id='file'> File Name: patches/sitecustomize.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: init</div><BR><BR><div id='link'><a href='https://github.com/regel/loudml/commit/0b823df0bf0c82cf1458b7f2dc3b24628e011795#diff-ba626a1fcf8d8f111ef2bf1c8454999a76f8507a149cb7bcc53edaa4989f0f58L12' target='_blank'>Link</a></div><div id='project'> Project Name: regel/loudml</div><div id='commit'> Commit Name: 0b823df0bf0c82cf1458b7f2dc3b24628e011795</div><div id='time'> Time: 2019-09-29</div><div id='author'> Author: sebastien.regel@gmail.com</div><div id='file'> File Name: loudml/setup.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>