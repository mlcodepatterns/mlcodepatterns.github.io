<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    code_string = ("import sys \n"
                   "\n"
                   "def " + <a id="change">model_name.lower()</a> +
                    "_model(s, input_crop_type=None, input_channel_offset=None, input_image_size=None):\n"
                    "\n"
                    "   &#47&#47 quick error-checking and default setting \n"
                    "   if (input_crop_type is None): \n"
                    "       input_crop_type=&quotNONE&quot \n"
                    "   else: \n"
                    "       if (input_crop_type.upper() != &quotNONE&quot) and (input_crop_type.upper() != &quotUNIQUE&quot): \n"
                    "           sys.exit(&quotERROR: input_crop_type can only be NONE or UNIQUE&quot) \n"
                    " \n"
                    "   if (input_channel_offset is None): \n"
                    "       print(&quotINFO: setting channel mean values to ImageNet means&quot) \n"
                    "       input_channel_offset = [103.939, 116.779, 123.68] \n"
                    " \n"
                    "   if (input_image_size is not None): \n"
                    "       channels = input_image_size[0] \n"
                    "       if (len(input_image_size) == 2): \n"
                    "           height = width = input_image_size[1] \n"
                    "       elif (len(inputImageSize) == 3): \n"
                    "           height,width = input_image_size[1:] \n"
                    "       else: \n"
                    "           sys.exit(&quotERROR: input_image_size must be a tuple with two or three entries&quot) \n"
                    " \n"
                    "   &#47&#47 instantiate model \n"
                    "   s.buildModel(model=dict(name=&quot" + model_name + "&quot,replace=True),type=&quotCNN&quot) \n"
                    " \n"
                    "   &#47&#47 input layer \n"
                    "   s.addLayer(model=&quot" + model_name <a id="change">+</a> <a id="change">"&quot, name=&quot"</a> + layer_name + "&quot, \n"
                    "              layer=dict( type=&quotinput&quot, nchannels=" + channels + ", width=" + width + ", height=" + height + ", \n"
                    "              scale = " + scale + ", randomcrop=input_crop_type, offsets=input_channel_offset))")
</code></pre><h3>After Change</h3><pre><code class='java'>
    String representing Python code defining a SAS deep learning input layer

    &quot&quot&quot
    <a id="change">out = [
        &quotimport sys&quot,
        &quot&quot,
        &quotdef &quot + model_name.lower() + &quot_model(s, input_crop_type=None, input_channel_offset=None, input_image_size=None):&quot,
        &quot&quot,
        &quot   &#47&#47 quick error-checking and default setting&quot,
        &quot   if (input_crop_type is None):&quot,
        &quot       input_crop_type="NONE"&quot,
        &quot   else:&quot,
        &quot       if (input_crop_type.upper() != "NONE") and (input_crop_type.upper() != "UNIQUE"):&quot,
        &quot           sys.exit("ERROR: input_crop_type can only be NONE or UNIQUE")&quot,
        &quot&quot,
        &quot   if (input_channel_offset is None):&quot,
        &quot       print("INFO: setting channel mean values to ImageNet means")&quot,
        &quot       input_channel_offset = [103.939, 116.779, 123.68]&quot,
        &quot&quot,
        &quot   if (input_image_size is not None):&quot,
        &quot       channels = input_image_size[0]&quot,
        &quot       if (len(input_image_size) == 2):&quot,
        &quot           height = width = input_image_size[1]&quot,
        &quot       elif (len(inputImageSize) == 3):&quot,
        &quot           height,width = input_image_size[1:]&quot,
        &quot       else:&quot,
        &quot           sys.exit("ERROR: input_image_size must be a tuple with two or three entries")&quot,
        &quot&quot,
        &quot   &#47&#47 instantiate model&quot,
        &quot   s.buildModel(model=dict(name=&quot + repr(model_name) + &quot,replace=True),type="CNN")&quot,
        &quot&quot,
        &quot   &#47&#47 input layer&quot,
        &quot   s.addLayer(model=&quot + repr(model_name) + &quot, name=&quot + repr(layer_name) + &quot,&quot,
        &quot              layer=dict( type="input", nchannels=&quot + channels + &quot, width=&quot + width + &quot, height=&quot + height + &quot,&quot,
        &quot              scale = &quot + scale + &quot, randomcrop=input_crop_type, offsets=input_channel_offset))&quot
    ]</a>
    return <a id="change">&quot\n&quot.join(out)</a>


&#47&#47 convolution layer definition
def write_convolution_layer(model_name=&quotsas&quot, layer_name=&quotconv&quot, nfilters=&quot-1&quot,</code></pre>