<html><h3>1c6277ecb801327ce4b2e376e1e13a18b79ba52c,neuron/layers.py,DenseSpatialTransformer,call,#DenseSpatialTransformer#Any#,129
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 check shapes
        assert len(inputs) == 2, "inputs has to be len 2, found: %d" % len(inputs)
        <a id="change">if inputs[1].shape[1:-1] != inputs[0].shape[1:-1]:
            raise Exception(&quotShift shape should match vol shape. &quot
                            &quotGot: &quot + inputs[1].shape[1:-1] + &quot and &quot + inputs[0].shape[1:-1])

        &#47&#47 prepare location shift
       </a> loc_shift = inputs[1]
        if self.indexing == &quotxy&quot:  &#47&#47 shift the first two dimensions
            loc_shift_split = tf.split(loc_shift, loc_shift.shape[-1], axis=-1)
            loc_shift_lst = [loc_shift_split[1], loc_shift_split[0], *loc_shift_split[2:]]</code></pre><h3>After Change</h3><pre><code class='java'>
        if not self.is_affine:
            if not all([trf.shape[1:-1][f] != vol.shape[1:-1][f] for f in range(self.ndims)]):
                raise Exception(&quotShift shape should match vol shape. &quot
                                &quotGot: &quot + str(trf.shape[1:-1]) + &quot and &quot + <a id="change">str(vol.shape[1:-1])</a>)

        &#47&#47 go from affine
        if self.is_affine:</code></pre><img src="68314182.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/adalca/neuron/commit/1c6277ecb801327ce4b2e376e1e13a18b79ba52c#diff-a314f8ace5a290898b1dbff0fe1ba26c127b6cacd7d79b638798d66a7b4dea39L137' target='_blank'>Link</a></div><div id='project'> Project Name: adalca/neuron</div><div id='commit'> Commit Name: 1c6277ecb801327ce4b2e376e1e13a18b79ba52c</div><div id='time'> Time: 2018-08-26</div><div id='author'> Author: adalca@mit.edu</div><div id='file'> File Name: neuron/layers.py</div><div id='class'> Class Name: DenseSpatialTransformer</div><div id='method'> Method Name: call</div><BR><BR><div id='link'><a href='https://github.com/Esri/raster-functions/commit/187140c0d694b144a4ec81553eb2d40bb0df453e#diff-80c881f66f7f146292fdf3e899038133273bd1bb4ba57342ab41c8dc72621250L57' target='_blank'>Link</a></div><div id='project'> Project Name: Esri/raster-functions</div><div id='commit'> Commit Name: 187140c0d694b144a4ec81553eb2d40bb0df453e</div><div id='time'> Time: 2015-03-07</div><div id='author'> Author: akferoz@esri.com</div><div id='file'> File Name: functions/LinearSpectralUnmixing.py</div><div id='class'> Class Name: LinearSpectralUnmixing</div><div id='method'> Method Name: updateRasterInfo</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/Horizon/commit/a666c1b9f3099199fe75bce32c228fd4c8290af4#diff-d9e34c964f55a6d5a846cb9a3faaaba2f408f60f6a8c22076ee96b3d831efc0fL24' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/Horizon</div><div id='commit'> Commit Name: a666c1b9f3099199fe75bce32c228fd4c8290af4</div><div id='time'> Time: 2018-02-16</div><div id='author'> Author: jjg@fb.com</div><div id='file'> File Name: ml/rl/training/conv/discrete_action_conv_trainer.py</div><div id='class'> Class Name: DiscreteActionConvTrainer</div><div id='method'> Method Name: __init__</div><BR>