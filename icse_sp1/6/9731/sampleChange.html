<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
import json

con = config.Config()
<a id="change">con.set_test_flag(True)</a>
con.set_in_path("./benchmarks/FB15K/")
con.set_out_path("./benchmarks/FB15K/a.vec")
&#47&#47 con.set_export_files("res.vec")
&#47&#47con.set_import_files("res.vec")
&#47&#47 con.set_export_steps(10)
con.set_log_on(1)
con.set_work_threads(8)
con.set_train_times(1000)
con.set_nbatches(100)	
con.set_alpha(0.1)
con.set_bern(1)
con.set_dimension(100)
con.set_margin(1.0)
con.set_ent_neg_rate(1)
con.set_rel_neg_rate(0)
con.set_opt_method("adagrad")
con.init()
con.set_model(models.ComplEx)
&#47&#47 f = open("a.vec", "r")
&#47&#47 content = json.loads(f.read())
&#47&#47 f.close()
&#47&#47 con.set_parameters(content)
con.run()
<a id="change">con.test()</a>
</code></pre><h3>After Change</h3><pre><code class='java'>
&#47&#47Model parameters will be exported via torch.save() automatically.
con.set_export_files("./res/complex.pt")
&#47&#47Model parameters will be exported to json files automatically.
<a id="change">con.set_out_files("./res/complex.vec.json")</a>
con.init()
con.set_model(models.ComplEx)
con.run()
</code></pre>