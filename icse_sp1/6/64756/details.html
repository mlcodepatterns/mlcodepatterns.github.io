<html><h3>21b74e0a0d37820cbe9a504b4ab8b458b62d1cbc,tests/nightly/gpu/test_controllable.py,TestControllableDialogue,test_dataset_integrity,#TestControllableDialogue#,24
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        Check the controllble dialogue data loads.
        
        train_output, valid_output, _ = <a id="change">testing_utils.display_data(
            {
                &quottask&quot: &quotprojects.controllable_dialogue.tasks.agents&quot,
                &quotdisplay_verbose&quot: True,
            }
        )</a>

        &#47&#47 check valid data
        self.assertIn(&quot[lastuttsim]&quot, train_output)
        self.assertIn(</code></pre><h3>After Change</h3><pre><code class='java'>
        
        Check the controllble dialogue data loads.
        
        <a id="change">opt = ParlaiParser(True, False).parse_kwargs(
            task=&quotprojects.controllable_dialogue.tasks.agents&quot,
            datatype=&quottrain:ordered&quot,
        )</a>
        teacher = DefaultTeacher(opt)
        assert teacher.num_examples() == 131438
        act = teacher.act()
        assert &quotlastuttsim&quot in act
        assert "i&quotm getting ready to do some cheetah chasing" in act[&quottext&quot]

        <a id="change">opt[&quotdatatype&quot] = &quotvalid&quot</a>
        teacher = DefaultTeacher(opt)
        assert teacher.num_examples() == 7801
        act = teacher.act()
        assert &quothello what are doing today ?&quot in act[&quottext&quot]</code></pre><img src="297621069.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/facebookresearch/ParlAI/commit/21b74e0a0d37820cbe9a504b4ab8b458b62d1cbc#diff-3f9f6b6a65ecf11cb1aa3b595aa96fc5cce1adc6ffdedb9715150ceee4a976f2L28' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/ParlAI</div><div id='commit'> Commit Name: 21b74e0a0d37820cbe9a504b4ab8b458b62d1cbc</div><div id='time'> Time: 2020-06-09</div><div id='author'> Author: roller@fb.com</div><div id='file'> File Name: tests/nightly/gpu/test_controllable.py</div><div id='class'> Class Name: TestControllableDialogue</div><div id='method'> Method Name: test_dataset_integrity</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/ParlAI/commit/37f58cc580da8735ae5a259d4cb4ba0b8701e78e#diff-96fec81a3cd68d092d1855961ff1e3f7be491d0c1ba6e655481101a5bc7ad834L23' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/ParlAI</div><div id='commit'> Commit Name: 37f58cc580da8735ae5a259d4cb4ba0b8701e78e</div><div id='time'> Time: 2019-02-08</div><div id='author'> Author: roller@fb.com</div><div id='file'> File Name: tests/test_display_data.py</div><div id='class'> Class Name: TestDisplayData</div><div id='method'> Method Name: test_output</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/ParlAI/commit/21b74e0a0d37820cbe9a504b4ab8b458b62d1cbc#diff-894c34bf0e084cf255df75d5555f764c3baf7a9d592c52a8c73f41e2332bf702L23' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/ParlAI</div><div id='commit'> Commit Name: 21b74e0a0d37820cbe9a504b4ab8b458b62d1cbc</div><div id='time'> Time: 2020-06-09</div><div id='author'> Author: roller@fb.com</div><div id='file'> File Name: tests/nightly/gpu/test_self_feeding.py</div><div id='class'> Class Name: TestSelffeeding</div><div id='method'> Method Name: test_dataset_integrity</div><BR>