<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    })

    mop = mock_open(read_data=json.dumps({&quot1&quot: &quotlight.test2&quot}))
    <a id="change">handle = mop()</a>

    with patch(&quothomeassistant.util.json.open&quot, mop, create=True):
        with patch(&quothomeassistant.util.json.os.open&quot, return_value=0):
            with patch(&quothomeassistant.util.json.os.replace&quot):</code></pre><h3>After Change</h3><pre><code class='java'>
            }

            assert json_saver.call_count == 1
            <a id="change">assert json_loader.call_count == 1</a>

            number = conf.entity_id_to_number(&quotlight.test&quot)
            assert number == &quot2&quot
            assert json_saver.call_count == 1</code></pre>