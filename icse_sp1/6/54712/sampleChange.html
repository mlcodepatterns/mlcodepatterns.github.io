<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                data = data.decode(&quotutf-8&quot)
                &#47&#47 For some weird reason (error?) the json library expects the keys to be delimited with double-quotes and not single-quotes.
                &#47&#47 Not sure how our single quotes got here. Fix this better
                <a id="change">data = data.replace(&quot\&quot&quot,&quot"&quot)</a>
            try:
                &#47&#47 Convert the json str to a dictionary
                data = json.loads(data)
                &#47&#47 Disasemble the input</code></pre><h3>After Change</h3><pre><code class='java'>
                new_data = (new_symbol, previous_time, T2)
                data[tupleid] = new_data
                self.outputqueue.put(&quot04|database|[DB]: Letters so far for tuple {}: {}&quot.format(tupleid, new_symbol))
                <a id="change">data = json.dumps(data)</a>
            except (TypeError, KeyError) as e:
                &#47&#47 There was no previous data stored in the DB
                self.outputqueue.put(&quot03|database|[DB]: First time for tuple {}&quot.format(tupleid))
                new_data = (symbol_to_add, previous_time, T2)</code></pre>