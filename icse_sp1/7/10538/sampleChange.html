<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 Make sure that this device is not already configured
            &#47&#47 Comparing based on host (IP) and clientAddr.
            device_unknown = True
            <a id="change">for device in known_devices:
                if host in device and loc["clientAddr"] in device:
                    device_unknown = False
                    _LOGGER.debug("Discovered device %s on host %s with "
                                  "client address %s is already "
                                  "configured",
                                  str.title(loc["locationName"]),
                                  host, loc["clientAddr"])
                    break

           </a> if device_unknown:
                _LOGGER.debug("Adding discovered device %s with"
                              " client address %s",
                              str.title(loc["locationName"]),</code></pre><h3>After Change</h3><pre><code class='java'>

    for host in hosts:
        dtvs.append(DirecTvDevice(*host))
        hass.data.setdefault(DATA_DIRECTV, <a id="change">set()</a>).add((host[1], host[3]))

    add_entities(dtvs)
</code></pre>