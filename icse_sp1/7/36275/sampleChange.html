<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        reward = 0.0
        &#47&#47 We are outside the sample.
        self.time += 1
        <a id="change">if self.y not in self.target:
            reward = -10.0
            done = True
        else:
            if out_act == 1:
                if pred == self.target[self.y]:
                    reward = 1.0
                else:
                    reward = -0.5
                    done = True
                self.y += 1
                if self.y not in self.target:
                    done = True
            if inp_act == 0:
                self.x[0] -= 1
            elif inp_act == 1:
                self.x[0] += 1
            elif inp_act == 2:
                self.x[1] -= 1
            elif inp_act == 3:
                self.x[1] += 1
            if self.time &gt; self.total_len + self.total_reward + 4:
                reward = -1.0
                done = True
       </a> obs = self._get_obs()
        self.reward = reward
        self.sum_reward += reward
        return (obs, reward, done, {})</code></pre><h3>After Change</h3><pre><code class='java'>
        return len(self.input_data)

    def _step(self, action):
        <a id="change">assert self.action_space.contains(action)</a>
        self.last_action = action
        inp_act, out_act, pred = action
        done = False
        reward = 0.0</code></pre>