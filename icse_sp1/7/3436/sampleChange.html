<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    Set up a sensor for an Abode device.
    abode = hass.data[DATA_ABODE]

    device_types = <a id="change">map_abode_device_class().keys()</a>

    sensors = []
    for sensor in abode.get_devices(type_filter=device_types):
        sensors.append(AbodeBinarySensor(abode, sensor))</code></pre><h3>After Change</h3><pre><code class='java'>

        devices.append(AbodeBinarySensor(data, device))

    <a id="change">for automation in data.abode.get_automations(
            generic_type=CONST.TYPE_QUICK_ACTION):
        if data.is_automation_excluded(automation):
            continue

        devices.append(AbodeQuickActionBinarySensor(
            data, automation, TIMELINE.AUTOMATION_EDIT_GROUP))

   </a> data.devices.extend(devices)

    add_devices(devices)
</code></pre>