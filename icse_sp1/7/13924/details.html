<html><h3>120d63209adb69e23cf44b8017c3506d325eac7d,code/classifiers/multinomial_naive_bayes.py,MultinomialNaiveBayes,train,#MultinomialNaiveBayes#Any#Any#,18
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            likelihood[:,i] = word_count_in_class &#47&#47 likelihood = count of occurrences of a word in a class
                                    &#47&#47 NOTE: at this point this is a count, not a likelihood
                
        <a id="change">for f in xrange(n_words):
            for i in xrange(n_classes):
                if self.smooth:
                    likelihood[f,i] = (self.smooth_param + likelihood[f,i])/(n_words*self.smooth_param + sums[f,0]) &#47&#47 Add-one smoothing
                else:
                    likelihood[f,i] = likelihood[f,i]/sums[f,0] 
        &#47&#47 End of code to be deleted
        &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47

       </a> params = np.zeros((n_words+1,n_classes))
        for i in xrange(n_classes):
            params[0,i] = np.log(prior[i])
            params[1:,i] = np.nan_to_num(np.log(likelihood[:,i]))</code></pre><h3>After Change</h3><pre><code class='java'>
            prior[i] = 1.0*len(docs_in_class)/n_docs &#47&#47 prior = fraction of documents with this class

            word_count_in_class = x[docs_in_class,:].sum(0) &#47&#47 word_count_in_class = count of word occurrences in documents of class i
            <a id="change">total_words_in_class = word_count_in_class.sum()</a> &#47&#47 total_words_in_class = total number of words in documents of class i
            if self.smooth == False:
                likelihood[:,i] = word_count_in_class/total_words_in_class &#47&#47 likelihood = count of occurrences of a word in a class
            else:</code></pre><img src="85321428.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/LxMLS/lxmls-toolkit/commit/120d63209adb69e23cf44b8017c3506d325eac7d#diff-73fe128de4bb05d3599d0562f265fbadf1528d87e3bcefff919cce9d20cb56f9L26' target='_blank'>Link</a></div><div id='project'> Project Name: LxMLS/lxmls-toolkit</div><div id='commit'> Commit Name: 120d63209adb69e23cf44b8017c3506d325eac7d</div><div id='time'> Time: 2013-06-14</div><div id='author'> Author: miguelbalmeida@gmail.com</div><div id='file'> File Name: code/classifiers/multinomial_naive_bayes.py</div><div id='class'> Class Name: MultinomialNaiveBayes</div><div id='method'> Method Name: train</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/d355f7fa74f8dd03b2e431b80b1a59c3bae70740#diff-1834e003da53f9f739a90cf105e6ab424fdc612ae9e830523bebbac927dfde8fL77' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: d355f7fa74f8dd03b2e431b80b1a59c3bae70740</div><div id='time'> Time: 2013-08-26</div><div id='author'> Author: philippe.gervais@inria.fr</div><div id='file'> File Name: nisl/honorio_samaras.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: honorio_samaras</div><BR><BR><div id='link'><a href='https://github.com/LxMLS/lxmls-toolkit/commit/04b4eb0d841f8dfe1d095b2af4bcf57cda72c1d2#diff-6c46f1fca30e93d477af543f5e4d2e609d607a9f18707f897bba85e4d95bb7d4L20' target='_blank'>Link</a></div><div id='project'> Project Name: LxMLS/lxmls-toolkit</div><div id='commit'> Commit Name: 04b4eb0d841f8dfe1d095b2af4bcf57cda72c1d2</div><div id='time'> Time: 2012-07-11</div><div id='author'> Author: ramon@astudillo.com</div><div id='file'> File Name: lxmls/classifiers/multinomial_naive_bayes.py</div><div id='class'> Class Name: MultinomialNaiveBayes</div><div id='method'> Method Name: train</div><BR>