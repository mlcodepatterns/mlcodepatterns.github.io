<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                if self.averaging:
                    &#47&#47 TODO: averaging doesn&quott support irregular time steps.
                    halflife = 10
                    <a id="change">_</a>,yy = zip(*data[k])
                    ax.plot(xs,
                            pandas.Series(yy).ewm(halflife=halflife).mean(),
                            lw=2, c=l.get_color())</code></pre><h3>After Change</h3><pre><code class='java'>
                    s = pandas.Series(ys)

                    if 0:
                        <a id="change">halflife = 20</a>
                        <a id="change">r</a> = s.ewm(halflife=halflife)
                        M = <a id="change">r.mean()</a>
                        s = <a id="change">r.std()</a>
                        U = M + 2*s
                        <a id="change">L = M - 2*s</a>
                    else:
                        window = min(len(ys), 10)
                        r = s.rolling(window, min_periods=0)
                        M = r.median()</code></pre>