<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    return warped, T

warped, affine_init = affine_registration(nib_static, nib_moving)
<a id="change">static = nib_static.get_data().squeeze().astype(np.float32)</a>
moving = warped.get_data().squeeze().astype(np.float32)

def renormalize_image(image):
    m=np.min(image)</code></pre><h3>After Change</h3><pre><code class='java'>
the pyramid. The 0-th level corresponds to the finest resolution.  


opt_iter = <a id="change">[5, 10, 10]</a>
registration_optimizer = SymmetricDiffeomorphicRegistration(metric, opt_iter)


Execute the optimization, which returns a DiffeomorphicMap object,
that can be used to register images back and forth between the static and moving
domains


<a id="change">mapping = registration_optimizer.optimize(static, moving, 
                                          static_affine, moving_affine, pre_align)</a>


Now let&quots warp the moving image and see if it gets similar to the static image


<a id="change">warped_moving = mapping.transform(moving)</a>


To visually check the overlap of the static image with the transformed moving
image, we can plot them on top of each other with different channels to see</code></pre>