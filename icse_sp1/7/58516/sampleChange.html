<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if self.show_traces:
            &#47&#47 use a matplotlib canvas
            self.color_cycle = _ReuseCycle(_get_color_list())
            <a id="change">win = self.plotter.app_window</a>
            dpi = win.windowHandle().screen().logicalDotsPerInch()
            w, h = win.geometry().width() / dpi, win.geometry().height() / dpi
            h /= 3  &#47&#47 one third of the window
            <a id="change">self.mpl_canvas = MplCanvas(self, w, h, dpi)</a>
            xlim = [np.min(self.brain._data[&quottime&quot]),
                    np.max(self.brain._data[&quottime&quot])]
            with warnings.catch_warnings():
                warnings.filterwarnings("ignore", category=UserWarning)
                self.mpl_canvas.axes.set(xlim=xlim)
            vlayout = self.plotter.frame.layout()
            if not self.separate_canvas:
                vlayout.addWidget(self.mpl_canvas.canvas)
                vlayout.setStretch(0, self.interactor_stretch)
                vlayout.setStretch(1, 1)
            <a id="change">self.mpl_canvas.set_color(
                bg_color=self.brain._bg_color,
                fg_color=self.brain._fg_color,
            )</a>
            self.mpl_canvas.show()

            &#47&#47 get brain data
            for idx, hemi in enumerate([&quotlh&quot, &quotrh&quot]):</code></pre><h3>After Change</h3><pre><code class='java'>
        from ..backends._pyvista import _update_picking_callback
        &#47&#47 use a matplotlib canvas
        self.color_cycle = _ReuseCycle(_get_color_list())
        <a id="change">win = self.plotter.app_window</a>
        dpi = win.windowHandle().screen().logicalDotsPerInch()
        w, h = win.geometry().width() / dpi, win.geometry().height() / dpi
        h /= 3  &#47&#47 one third of the window
        <a id="change">self.mpl_canvas = MplCanvas(self, w, h, dpi)</a>
        xlim = [np.min(self.brain._data[&quottime&quot]),
                np.max(self.brain._data[&quottime&quot])]
        with warnings.catch_warnings():
            warnings.filterwarnings("ignore", category=UserWarning)
            self.mpl_canvas.axes.set(xlim=xlim)
        vlayout = self.plotter.frame.layout()
        if not self.separate_canvas:
            vlayout.addWidget(self.mpl_canvas.canvas)
            vlayout.setStretch(0, self.interactor_stretch)
            vlayout.setStretch(1, 1)
        <a id="change">self.mpl_canvas.set_color(
            bg_color=self.brain._bg_color,
            fg_color=self.brain._fg_color,
        )</a>
        self.mpl_canvas.show()

        &#47&#47 get brain data
        for idx, hemi in enumerate([&quotlh&quot, &quotrh&quot]):</code></pre>