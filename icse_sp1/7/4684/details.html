<html><h3>aead3912c8d1c228a6240057d4c1072f96fab2a9,official/mnist/mnist_tpu.py,,train_input_fn,#Any#,122
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
  &#47&#47 `tf.contrib.tpu.RunConfig` for details.
  ds = dataset.train(data_dir).cache().repeat().shuffle(
      buffer_size=50000).apply(
          <a id="change">tf.contrib.data.batch_and_drop_remainder(batch_size)</a>)
  <a id="change">images, labels = ds.make_one_shot_iterator().get_next()</a>
  return images, labels


def eval_input_fn(params):</code></pre><h3>After Change</h3><pre><code class='java'>
  &#47&#47 Retrieves the batch size for the current shard. The &#47&#47 of shards is
  &#47&#47 computed according to the input pipeline deployment. See
  &#47&#47 `tf.contrib.tpu.RunConfig` for details.
  ds = <a id="change">dataset.train(data_dir).cache().repeat().shuffle(
      buffer_size=50000).batch(batch_size, drop_remainder=True)</a>
  <a id="change">return ds</a>


def eval_input_fn(params):
  batch_size = params["batch_size"]</code></pre><img src="30396004.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/aead3912c8d1c228a6240057d4c1072f96fab2a9#diff-b1f84ead7ac7a77b656c3ed70308fc7049c27f51d6d68f81df5483ff2cc265e3L124' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: aead3912c8d1c228a6240057d4c1072f96fab2a9</div><div id='time'> Time: 2018-12-19</div><div id='author'> Author: derek.murray@gmail.com</div><div id='file'> File Name: official/mnist/mnist_tpu.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train_input_fn</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/aead3912c8d1c228a6240057d4c1072f96fab2a9#diff-b1f84ead7ac7a77b656c3ed70308fc7049c27f51d6d68f81df5483ff2cc265e3L136' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: aead3912c8d1c228a6240057d4c1072f96fab2a9</div><div id='time'> Time: 2018-12-19</div><div id='author'> Author: derek.murray@gmail.com</div><div id='file'> File Name: official/mnist/mnist_tpu.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: eval_input_fn</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/tpu/commit/e564f327a77284d4d3a349221af6511c7c65ad98#diff-1c0c643bb6047ee4604ec2a280958599d2c5d966ed9d974aac89abc465fbb3ecL106' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/tpu</div><div id='commit'> Commit Name: e564f327a77284d4d3a349221af6511c7c65ad98</div><div id='time'> Time: 2018-07-31</div><div id='author'> Author: rsopher@gmail.com</div><div id='file'> File Name: models/official/retinanet/dataloader.py</div><div id='class'> Class Name: InputReader</div><div id='method'> Method Name: __call__</div><BR>