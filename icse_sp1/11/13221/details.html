<html><h3>9cf28ac9daaa46ef66d6efffac5da1ec84d502dc,rasa/nlu/emulators/wit.py,WitEmulator,normalise_response_json,#WitEmulator#Any#,12
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        entities = {}
        for entity in data["entities"]:
            <a id="change">entities[entity["entity"]] = {
                "confidence": None,
                "type": "value",
                "value": entity["value"],
                "start": entity["start"],
                "end": entity["end"],
            }</a>

        return [
            {
                "_text": data["text"],</code></pre><h3>After Change</h3><pre><code class='java'>
            entity_name = entity[ENTITY_ATTRIBUTE_TYPE]
            role = entity.get(ENTITY_ATTRIBUTE_ROLE, entity_name)
            entity_name_including_role = f"{entity[ENTITY_ATTRIBUTE_TYPE]}:{role}"
            <a id="change">normalized_entity = {
                "confidence": entity.get("confidence_entity") or 1,
                "name": entity_name,
                "value": entity[ENTITY_ATTRIBUTE_VALUE],
                &#47&#47 Entity value before value was transformed (e.g. by synonym mapper)
                "body": data["text"][
                    entity.get(ENTITY_ATTRIBUTE_START, 0) : entity.get(
                        ENTITY_ATTRIBUTE_END, 0
                    )
                ],
                "start": entity[ENTITY_ATTRIBUTE_START],
                "end": entity[ENTITY_ATTRIBUTE_END],
                "role": role,
                "entities": [],
            }</a>

            entities[entity_name_including_role].append(normalized_entity)

        return {"text": data[TEXT], "intents": [data[INTENT]], "entities": entities}</code></pre><img src="82674733.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/RasaHQ/rasa/commit/9cf28ac9daaa46ef66d6efffac5da1ec84d502dc#diff-c685b5261778aca2c825be701d496d4b6963d66547d6808656a8ac17f3590e58L15' target='_blank'>Link</a></div><div id='project'> Project Name: RasaHQ/rasa</div><div id='commit'> Commit Name: 9cf28ac9daaa46ef66d6efffac5da1ec84d502dc</div><div id='time'> Time: 2020-10-28</div><div id='author'> Author: t.wochinger@rasa.com</div><div id='file'> File Name: rasa/nlu/emulators/wit.py</div><div id='class'> Class Name: WitEmulator</div><div id='method'> Method Name: normalise_response_json</div><BR><BR><div id='link'><a href='https://github.com/flow-project/flow/commit/67f6d47d9e61f28d455319c868c38fbc11e73366#diff-b79469703049a5a8815eb597c1abd24cd69bc6d23961b6ca59dad0ba42b9866dL46' target='_blank'>Link</a></div><div id='project'> Project Name: flow-project/flow</div><div id='commit'> Commit Name: 67f6d47d9e61f28d455319c868c38fbc11e73366</div><div id='time'> Time: 2018-02-22</div><div id='author'> Author: eugenevinitsky@wirelessprvnat-172-16-134-167.near.illinois.edu</div><div id='file'> File Name: flow/scenarios/bridge_toll/gen.py</div><div id='class'> Class Name: BBTollGenerator</div><div id='method'> Method Name: specify_connections</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/bc0eb9bf32f6493847e291e2506f99e0a0d2ce24#diff-8b2a940405d7feb6f3d8677651cf1263bbef4cb66d4e027743fd4a979e3cff69L29' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: bc0eb9bf32f6493847e291e2506f99e0a0d2ce24</div><div id='time'> Time: 2021-03-19</div><div id='author'> Author: dk891@gmx.de</div><div id='file'> File Name: tests/components/uvc/test_camera.py</div><div id='class'> Class Name: TestUVCSetup</div><div id='method'> Method Name: test_setup_full_config</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/datasets/commit/52ba3c53fdeb5806b3626b873eefabf8c065d9d4#diff-471344476ea5f15e8c7ae3d43d285101ab244a4bae20509fb3fbcafbe77a05ffL164' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/datasets</div><div id='commit'> Commit Name: 52ba3c53fdeb5806b3626b873eefabf8c065d9d4</div><div id='time'> Time: 2019-05-21</div><div id='author'> Author: adarob@google.com</div><div id='file'> File Name: tensorflow_datasets/text/squad.py</div><div id='class'> Class Name: Squad</div><div id='method'> Method Name: _generate_examples</div><BR>