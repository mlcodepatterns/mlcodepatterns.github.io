<html><h3>e87334a5fbe16bd1f16357b452036b578ca3b5f8,auto_ml/utils_models.py,,load_keras_model,#Any#,480
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def load_keras_model(file_name):
    from keras.models import load_model

    <a id="change">with open(file_name, &quotrb&quot) as read_file:
        base_pipeline = dill.load(read_file)

   </a> for step in base_pipeline.named_steps:
        pipeline_step = base_pipeline.named_steps[step]
        try:
            if pipeline_step.model_name[:12] == &quotDeepLearning&quot:

                &#47&#47 This is where we saved the random_name for this model
                random_name = pipeline_step.model
                &#47&#47 Load the Keras model here
                keras_file_name = file_name[:-5] + random_name + &quot_keras_deep_learning_model.h5&quot
                model = load_model(keras_file_name)
                &#47&#47 model = model_name_map[random_name]

                &#47&#47 Put the model back in place so that we can still use it to get predictions without having to load it back in from disk
                pipeline_step.model = model
        except AttributeError as e:
            pass


    &#47&#47 keras_file_name = file_name[:-5] + &quot_keras_deep_learning_model.h5&quot

    &#47&#47 keras_model = load_model(keras_file_name)

    &#47&#47 base_pipeline.named_steps[&quotfinal_model&quot].model = keras_model

    <a id="change">return base_pipeline</a>


def make_deep_learning_model(hidden_layers=None, num_cols=None, optimizer=&quotadam&quot, dropout_rate=0.2, weight_constraint=0, feature_learning=False):
</code></pre><h3>After Change</h3><pre><code class='java'>
    return base_pipeline

def load_keras_model(file_name):
    <a id="change">return load_ml_model(file_name)</a>


def make_deep_learning_model(hidden_layers=None, num_cols=None, optimizer=&quotadam&quot, dropout_rate=0.2, weight_constraint=0, feature_learning=False):
</code></pre><img src="145557134.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 9</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/ClimbsRocks/auto_ml/commit/e87334a5fbe16bd1f16357b452036b578ca3b5f8#diff-52e20f5835653eebe2bf63637e64cc864685ca78209fbeede242e6696dcfedddL483' target='_blank'>Link</a></div><div id='project'> Project Name: ClimbsRocks/auto_ml</div><div id='commit'> Commit Name: e87334a5fbe16bd1f16357b452036b578ca3b5f8</div><div id='time'> Time: 2017-04-17</div><div id='author'> Author: ClimbsBytes@gmail.com</div><div id='file'> File Name: auto_ml/utils_models.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: load_keras_model</div><BR><BR><div id='link'><a href='https://github.com/snipsco/snips-nlu/commit/4f53f76929756eff69a3c33f1207726cfc96c128#diff-ea9734c5d666003ff0dd7192436750b6040e9a7a99fc92583f5b4331f80d4118L105' target='_blank'>Link</a></div><div id='project'> Project Name: snipsco/snips-nlu</div><div id='commit'> Commit Name: 4f53f76929756eff69a3c33f1207726cfc96c128</div><div id='time'> Time: 2018-10-02</div><div id='author'> Author: clement.doumouro@gmail.com</div><div id='file'> File Name: snips_nlu/entity_parser/custom_entity_parser.py</div><div id='class'> Class Name: CustomEntityParser</div><div id='method'> Method Name: from_path</div><BR><BR><div id='link'><a href='https://github.com/PyThaiNLP/pythainlp/commit/b3444e063ddacc4cd4dd31b24c5698dceb2673c5#diff-06001027601bf85f7f7fcc6d342c63a9e646affa6291450cbfd3e4846ffe82bdL16' target='_blank'>Link</a></div><div id='project'> Project Name: PyThaiNLP/pythainlp</div><div id='commit'> Commit Name: b3444e063ddacc4cd4dd31b24c5698dceb2673c5</div><div id='time'> Time: 2018-10-23</div><div id='author'> Author: wannaphong@yahoo.com</div><div id='file'> File Name: pythainlp/tag/old.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: orchid_data</div><BR>