<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                                 for x in words]))[:-1]
            text = &quot &quot.join(words)
            stable_id = construct_stable_id(document, &quotphrase&quot, i, i)
            <a id="change">yield {
                &quottext&quot: text,
                &quotwords&quot: words,
                &quotchar_offsets&quot: char_offsets,
                &quotstable_id&quot: stable_id
            }</a>
            i += 1


class OmniParser(UDFRunner):</code></pre><h3>After Change</h3><pre><code class='java'>
            if not len(text.strip()):
                continue
            words = text.split()
            char_offsets = [0] + [int(_) <a id="change">for</a> _ in np.cumsum([len(x) + 1
                                  for x in words])[:-1]]
            text = &quot &quot.join(words)
            stable_id = construct_stable_id(document, &quotphrase&quot, i, i)
            <a id="change">yield {
                &quottext&quot: text,
                &quotwords&quot: words,
                &quotpos_tags&quot: [&quot&quot] * len(words),
                &quotner_tags&quot: [&quot&quot] * len(words),
                &quotlemmas&quot: [&quot&quot] * len(words),
                &quotdep_parents&quot: [0] * len(words),
                &quotdep_labels&quot: [&quot&quot] * len(words),
                &quotchar_offsets&quot: char_offsets,
                &quotabs_char_offsets&quot: char_offsets,
                &quotstable_id&quot: stable_id
            }</a>
            i += 1


class OmniParser(UDFRunner):</code></pre>