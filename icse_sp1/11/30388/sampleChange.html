<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def activity_for_join(activity: Activity, acls: dict, messages: list, owners: dict, users: dict) -&gt; dict:
    response = <a id="change">{
        &quotobject&quot: {
            &quotobjectType&quot: &quotroom&quot,
            &quotattachments&quot: list()
        },
        &quotpublished&quot: datetime.utcnow().strftime(ConfigKeys.DEFAULT_DATE_FORMAT),
        &quotverb&quot: &quotjoin&quot,
        &quottarget&quot: {
            &quotid&quot: activity.target.id,
            &quotdisplayName&quot: b64e(get_room_name(activity.target.id))
        },
        &quotid&quot: str(uuid())
    }</a>

    acl_activity = activity_for_get_acl(activity, acls)
    response[&quotobject&quot][&quotattachments&quot].append({
        &quotobjectType&quot: &quotacl&quot,</code></pre><h3>After Change</h3><pre><code class='java'>


def activity_for_join(activity: Activity, acls: dict, messages: list, owners: dict, users: dict) -&gt; dict:
    response = <a id="change">ActivityBuilder.enrich({
        &quotobject&quot: {
            &quotobjectType&quot: &quotroom&quot,
            &quotattachments&quot: list()
        },
        &quotverb&quot: &quotjoin&quot,
        &quottarget&quot: {
            &quotid&quot: activity.target.id,
            &quotdisplayName&quot: b64e(get_room_name(activity.target.id))
        }
    })</a>

    acl_activity = activity_for_get_acl(activity, acls)
    response[&quotobject&quot][&quotattachments&quot].append({
        &quotobjectType&quot: &quotacl&quot,</code></pre>