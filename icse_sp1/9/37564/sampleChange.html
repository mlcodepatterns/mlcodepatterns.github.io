<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    @slow
    def test_penntreebank(self):
        &#47&#47 smoke test to ensure penn treebank works properly
        <a id="change">TEXT = data.Field(lower=True, batch_first=True)</a>
        ds = PennTreebank
        <a id="change">train, valid, test = ds.splits(TEXT)</a>
        <a id="change">TEXT.build_vocab(train)</a>
        train_iter, valid_iter, test_iter = data.BPTTIterator.splits(
            (train, valid, test), batch_size=3, bptt_len=30)

        train_iter, valid_iter, test_iter = ds.iters(batch_size=4,</code></pre><h3>After Change</h3><pre><code class='java'>
    def test_penntreebank(self):
        from torchtext.datasets import PennTreebank
        &#47&#47 smoke test to ensure wikitext2 works properly
        <a id="change">train_dataset</a>, test_dataset, valid_dataset = PennTreebank()
        self.assertEqual(len(train_dataset), 924412)
        self.assertEqual(len(test_dataset), 82114)
        self.assertEqual(len(valid_dataset), 73339)</code></pre>