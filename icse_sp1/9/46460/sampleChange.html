<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def versions_from_parentdir(parentdir_prefix, versionfile_source, verbose=False):
    <a id="change">if IN_LONG_VERSION_PY:
        &#47&#47 We&quotre running from _version.py. If it&quots from a source tree
        &#47&#47 (execute-in-place), we can work upwards to find the root of the
        &#47&#47 tree, and then check the parent directory for a version string. If
        &#47&#47 it&quots in an installed application, there&quots no hope.
        try:
            here = os.path.realpath(__file__)
        except NameError:
            &#47&#47 py2exe/bbfreeze/non-CPython don&quott have __file__
            return {} &#47&#47 without __file__, we have no hope
        &#47&#47 versionfile_source is the relative path from the top of the source
        &#47&#47 tree to _version.py. Invert this to find the root from __file__.
        root = here
        for i in range(len(versionfile_source.split("/"))):
            root = os.path.dirname(root)
    else:
        &#47&#47 we&quotre running from versioneer.py, which means we&quotre running from
        &#47&#47 the setup.py in a source tree. sys.argv[0] is setup.py in the root.
        here = os.path.realpath(sys.argv[0])
        root = os.path.dirname(here)

    &#47&#47 Source tarballs conventionally unpack into a directory that includes
    &#47&#47 both the project name and a version string.
   </a> dirname = os.path.basename(root)
    if not dirname.startswith(parentdir_prefix):
        if verbose:
            print("guessing rootdir is &quot%s&quot, but &quot%s&quot doesn&quott start with prefix &quot%s&quot" %</code></pre><h3>After Change</h3><pre><code class='java'>
the top level of your source tree, next to `setup.py` and the `setup.cfg`
that configures it. This overrides several distutils/setuptools commands to
compute the version when invoked, and changes `setup.py build` and `setup.py
sdist` to replace `_version.py` with a small static file t<a id="change">hat contains </a>just
the generated version data.

&#47&#47&#47&#47 Installation</code></pre>