<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    array([[-5.0067153 ,        -inf, -5.0067153 ,        -inf, -5.0067153 ],
       [-0.00671535,        -inf, -0.00671535,        -inf, -0.00671535]])
    
    <a id="change">if mask is not None:
        neg = -1e18
        inf = -_np.inf
        if _np.dtype(dtype) == _np.float16:
            neg = -1e4
        data = np.where(mask, data, neg)
        logits = np.where(mask, log_softmax(data, axis=axis) / temperature, inf)
    else:
        logits = log_softmax(data, axis=axis) / temperature
   </a> return logits


&#47&#47 pylint: disable=too-many-arguments, unused-argument</code></pre><h3>After Change</h3><pre><code class='java'>
    array([[-5.0067153 ,        -inf, -5.0067153 ,        -inf, -5.0067153 ],
           [-0.00671535,        -inf, -0.00671535,        -inf, -0.00671535]])
    
    <a id="change">assert data is not None and mask is not None, "Missing input data and mask"</a>
    return _api_internal.masked_log_softmax(data, mask, axis, temperature, normalize)


&#47&#47 pylint: disable=too-many-arguments, unused-argument</code></pre>