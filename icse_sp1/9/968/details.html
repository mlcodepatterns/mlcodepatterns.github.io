<html><h3>9bd7ddae2acd48f26344b7b6e905ab3ab7a81a60,docsim.py,SimilarityABC,__iter__,#SimilarityABC#,47
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        for docNo, doc in enumerate(self.corpus):
            &#47&#47 compute cosine similarity against every other document in the collection
            <a id="change">allSims = self[doc]</a>
            
            &#47&#47 return either all similarities as a list, or only self.numBest most similar, depending on settings from the constructor
            <a id="change">if self.numBest is None:
                yield allSims
            else:
                tops = [(docNo, sim) for docNo, sim in enumerate(allSims) if sim &gt; 0]
                tops = sorted(tops, key = lambda item: -item[1]) &#47&#47 sort by -sim =&gt; highest cossim first
                yield tops[ : self.numBest] &#47&#47 return at most numBest top 2-tuples (docId, docSim)
&#47&#47endclass SimilarityABC
        

</a>class Similarity(SimilarityABC):
    
    Compute cosine similary against a corpus of documents. This is done by a full 
    sequential scan of the corpus. If your corpus is reasonably small (fits in RAM), </code></pre><h3>After Change</h3><pre><code class='java'>
        and yield the result.
        
        for docNo, doc in enumerate(self.corpus):
            <a id="change">yield self[doc]</a>
&#47&#47endclass SimilarityABC
        

class Similarity(SimilarityABC):</code></pre><img src="7341552.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/RaRe-Technologies/gensim/commit/9bd7ddae2acd48f26344b7b6e905ab3ab7a81a60#diff-773beb3e8fc98b9f541a777f2f067f4ce9c6270c829378483d3f0601d021b5c6L47' target='_blank'>Link</a></div><div id='project'> Project Name: RaRe-Technologies/gensim</div><div id='commit'> Commit Name: 9bd7ddae2acd48f26344b7b6e905ab3ab7a81a60</div><div id='time'> Time: 2010-02-03</div><div id='author'> Author: piskvorky@92d0401f-a546-4972-9173-107b360ed7e5</div><div id='file'> File Name: docsim.py</div><div id='class'> Class Name: SimilarityABC</div><div id='method'> Method Name: __iter__</div><BR><BR><div id='link'><a href='https://github.com/PetrochukM/PyTorch-NLP/commit/dd2eaf6c174fdd757514bc06d1063e5f9c6bb4a0#diff-2c4d64f9df80f1f50179f19e91c15be51ff77a339e7e3910b48cbc032e963e68L90' target='_blank'>Link</a></div><div id='project'> Project Name: PetrochukM/PyTorch-NLP</div><div id='commit'> Commit Name: dd2eaf6c174fdd757514bc06d1063e5f9c6bb4a0</div><div id='time'> Time: 2019-10-20</div><div id='author'> Author: petrochukm@gmail.com</div><div id='file'> File Name: torchnlp/samplers/bucket_batch_sampler.py</div><div id='class'> Class Name: BucketBatchSampler</div><div id='method'> Method Name: __iter__</div><BR><BR><div id='link'><a href='https://github.com/RaRe-Technologies/gensim/commit/3fd9809dfdfcf47bf34a9f9a780277abaae76105#diff-773beb3e8fc98b9f541a777f2f067f4ce9c6270c829378483d3f0601d021b5c6L47' target='_blank'>Link</a></div><div id='project'> Project Name: RaRe-Technologies/gensim</div><div id='commit'> Commit Name: 3fd9809dfdfcf47bf34a9f9a780277abaae76105</div><div id='time'> Time: 2010-02-03</div><div id='author'> Author: radimrehurek@seznam.cz</div><div id='file'> File Name: docsim.py</div><div id='class'> Class Name: SimilarityABC</div><div id='method'> Method Name: __iter__</div><BR>