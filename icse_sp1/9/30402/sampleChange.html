<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        response = api.on_join(self.activity_for_join())
        attachments = response[1][&quotobject&quot][&quotattachments&quot]

        <a id="change">found_keys = set()</a>
        <a id="change">for attachment in attachments:
            found_keys.add(attachment[&quotobjectType&quot])

       </a> self.assertTrue(&quothistory&quot in found_keys)

    def test_join_returns_activity_with_owner_attachment(self):
        response = api.on_join(self.activity_for_join())</code></pre><h3>After Change</h3><pre><code class='java'>
        response = api.on_join(self.activity_for_join())
        attachments = response[1][&quotobject&quot][&quotattachments&quot]
        history = self.get_attachment_for_key(attachments, &quothistory&quot)
        <a id="change">self.assertIsNotNone(history)</a>

    def test_join_returns_activity_with_owner_attachment(self):
        response = api.on_join(self.activity_for_join())
        attachments = response[1][&quotobject&quot][&quotattachments&quot]</code></pre>