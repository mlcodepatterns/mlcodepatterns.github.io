<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 round robbin:
    &#47&#47 first group by parent, then skip by ci node index
    from collections import defaultdict
    by_parents = <a id="change">defaultdict(list)</a>
    <a id="change">for index, item in enumerate(items):
        by_parents[item.parent].append(item)
   </a> for i, p in enumerate(by_parents.keys()):
        if i % circle_node_total != circle_node_index:
            deselected.extend(by_parents[p])
    for d in deselected:</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47by_parents = defaultdict(list)
    &#47&#47for index, item in enumerate(items):
    &#47&#47    by_parents[item.parent].append(item)
    <a id="change">for item in items:
        print(item.location)
        i = hash(item.name)
        if i % circle_node_total != circle_node_index:
            deselected.append(i)
            items.remove(item)
   </a> config.hook.pytest_deselected(items=deselected)


def read_circleci_env_variables():</code></pre>