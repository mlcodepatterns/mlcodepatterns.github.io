<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.model.save_weights(fname + &quot.h5&quot)
            self.embedding_dict.save_items(fname)

            <a id="change">with open(fname + &quot_opt.json&quot, &quotw&quot) as opt_file:
                json.dump(self.opt, opt_file)
       </a> return True

    def cnn_model(self, params):
        </code></pre><h3>After Change</h3><pre><code class='java'>

        opt_path = Path.joinpath(self.model_path_, opt_fname)
        weights_path = Path.joinpath(self.model_path_, weights_fname)
        <a id="change">emb_path = Path.joinpath(self.model_path_, fname)</a>
        print("[ saving model: {} ]".format(str(opt_path)))
        self.model.save_weights(weights_path)
        self.embedding_dict.save_items(<a id="change">str(emb_path)</a>)

        save_json(self.opt, opt_path)
</code></pre>