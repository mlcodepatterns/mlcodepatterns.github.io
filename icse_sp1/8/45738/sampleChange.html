<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                continue
            text = s.get(TEXT)
            intents = [e["value"] for e in entities if e["entity"] == INTENT]
            intent = <a id="change">intents[0].strip(&quot"&quot) if intents else None</a>

            entities = [
                e
                for e in entities</code></pre><h3>After Change</h3><pre><code class='java'>
            intent = s.get("intent", USER_INTENT_OUT_OF_SCOPE)

            for e in entities:
                <a id="change">entity_name = e["entity"]</a>
                <a id="change">if ":" not in entity_name:
                    continue
               </a> (name, role) = entity_name.rsplit(":", 1)
                e[ENTITY_ATTRIBUTE_TYPE] = name
                e[ENTITY_ATTRIBUTE_ROLE] = role
</code></pre>