<html><h3>133e5b6a84e126cbcfbc5c11eeb6286185dbec2f,beginner_source/torchtext_translation_tutorial.py,,,#,58
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

device = torch.device(&quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot)

<a id="change">BATCH_SIZE = 128</a>

<a id="change">train_iterator, valid_iterator, test_iterator = BucketIterator.splits(
    (train_data, valid_data, test_data),
    batch_size = BATCH_SIZE,
    device = device)</a>

&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
&#47&#47 These iterators can be called just like ``DataLoader``s; below, in
&#47&#47 the ``train`` and ``evaluate`` functions, they are called simply with:</code></pre><h3>After Change</h3><pre><code class='java'>
from torchtext.utils import download_from_url, extract_archive
import io

<a id="change">url_base = &quothttps://raw.githubusercontent.com/multi30k/dataset/master/data/task1/raw/&quot</a>
train_urls = (&quottrain.de.gz&quot, &quottrain.en.gz&quot)
val_urls = (&quotval.de.gz&quot, &quotval.en.gz&quot)
test_urls = (&quottest_2016_flickr.de.gz&quot, &quottest_2016_flickr.en.gz&quot)

train_filepaths = [<a id="change">extract_archive(download_from_url(url_base + url))[0]</a> for url in train_urls]
<a id="change">val_filepaths = [extract_archive(download_from_url(url_base + url))[0] for url in val_urls]</a>
test_filepaths = [extract_archive(download_from_url(url_base + url))[0] for url in test_urls]

de_tokenizer = get_tokenizer(&quotspacy&quot, language=&quotde&quot)
en_tokenizer = get_tokenizer(&quotspacy&quot, language=&quoten&quot)</code></pre><img src="214774156.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pytorch/tutorials/commit/133e5b6a84e126cbcfbc5c11eeb6286185dbec2f#diff-c6e3145e6eb7baf6b78de4cc3ac66a985982048e561b4079567970e05a8f0b27L49' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/tutorials</div><div id='commit'> Commit Name: 133e5b6a84e126cbcfbc5c11eeb6286185dbec2f</div><div id='time'> Time: 2020-12-02</div><div id='author'> Author: 6156351+zhangguanheng66@users.noreply.github.com</div><div id='file'> File Name: beginner_source/torchtext_translation_tutorial.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/pytorch/text/commit/f34e4fbad1b40627dfdc92c6eaf56969cba77c06#diff-1154fb0ac2ec7b1fbd994e75fa0e50a3ac102a4f10d0c7bb142047926a83fffeL37' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/text</div><div id='commit'> Commit Name: f34e4fbad1b40627dfdc92c6eaf56969cba77c06</div><div id='time'> Time: 2019-11-25</div><div id='author'> Author: 6156351+zhangguanheng66@users.noreply.github.com</div><div id='file'> File Name: test/data/test_builtin_datasets.py</div><div id='class'> Class Name: TestDataset</div><div id='method'> Method Name: test_penntreebank</div><BR><BR><div id='link'><a href='https://github.com/pytorch/text/commit/f34e4fbad1b40627dfdc92c6eaf56969cba77c06#diff-1154fb0ac2ec7b1fbd994e75fa0e50a3ac102a4f10d0c7bb142047926a83fffeL19' target='_blank'>Link</a></div><div id='project'> Project Name: pytorch/text</div><div id='commit'> Commit Name: f34e4fbad1b40627dfdc92c6eaf56969cba77c06</div><div id='time'> Time: 2019-11-25</div><div id='author'> Author: 6156351+zhangguanheng66@users.noreply.github.com</div><div id='file'> File Name: test/data/test_builtin_datasets.py</div><div id='class'> Class Name: TestDataset</div><div id='method'> Method Name: test_wikitext2</div><BR>