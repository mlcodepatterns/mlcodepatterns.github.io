<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def QA_data_make_hfq(bfq_data, xdxr_data):
    &quot使用数据库数据进行复权&quot
    info = xdxr_data[xdxr_data[&quotcategory&quot] == 1]
    <a id="change">bfq_data.loc[:, &quotif_trade&quot] = 1</a>
    data = pd.concat([bfq_data, info[[&quotcategory&quot]]
                      [bfq_data.index[0]:bfq_data.index[-1]]], axis=1)

    data[&quotif_trade&quot].fillna(value=0, inplace=True)</code></pre><h3>After Change</h3><pre><code class='java'>
def QA_data_make_hfq(bfq_data, xdxr_data):
    &quot使用数据库数据进行复权&quot
    info = xdxr_data[xdxr_data[&quotcategory&quot] == 1]
    <a id="change">bfq_data = bfq_data.assign(if_trade=1)</a>
    data = pd.concat([bfq_data, info[[&quotcategory&quot]]
                      [bfq_data.index[0]:bfq_data.index[-1]]], axis=1)

    data[&quotif_trade&quot].fillna(value=0, inplace=True)</code></pre>