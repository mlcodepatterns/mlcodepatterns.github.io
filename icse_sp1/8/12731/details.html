<html><h3>ed3a343d536daeb51eb0e39e630717c32c611766,abcpy/methods.py,Rejection,infer,#Rejection#Any#Any#,42
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        

        &#47&#47 only run at first call unless quantile specified
        <a id="change">if not hasattr(self, &quotdistances&quot) or quantile is not None:
            self.distances = np.empty((0,1))
            self.parameters = [ np.empty((0,1)) for ii in range(self.n_params) ]

            if quantile is not None:
                distances, parameters = self._get_distances(int(self.n_samples / quantile))
                threshold = np.percentile(distances, quantile*100)
                discard_rest = True
                save_values = True

            else:
                distances, parameters = self._get_distances(self.n_samples)
                discard_rest = False
                save_values = True

        else:  &#47&#47 use precomputed distances
            distances = self.distances
            parameters = self.parameters
            discard_rest = False
            save_values = False

       </a> posteriors = self._apply_threshold(distances, parameters, threshold, discard_rest, save_values)

        return {&quotsamples&quot: posteriors, &quotthreshold&quot: threshold}
</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 filter too dissimilar samples
        accepted = distances &lt; threshold
        posteriors = [<a id="change">p[accepted]</a> for p in parameters]

        return {&quotsamples&quot: posteriors, &quotthreshold&quot: threshold}
</code></pre><img src="79399871.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/elfi-dev/elfi/commit/ed3a343d536daeb51eb0e39e630717c32c611766#diff-f29c79ce908fff34564184b7cebd5939b8c5282d752c2ebc56105b6488a5c8e6L42' target='_blank'>Link</a></div><div id='project'> Project Name: elfi-dev/elfi</div><div id='commit'> Commit Name: ed3a343d536daeb51eb0e39e630717c32c611766</div><div id='time'> Time: 2016-10-19</div><div id='author'> Author: henri.vuollekoski@helsinki.fi</div><div id='file'> File Name: abcpy/methods.py</div><div id='class'> Class Name: Rejection</div><div id='method'> Method Name: infer</div><BR><BR><div id='link'><a href='https://github.com/comic/grand-challenge.org/commit/c8f80caf3b3a5707a2d5d2b9dfee1e4e80f1b3be#diff-5c476ee9087929ff604e7a413d9c0812cd8a2bc68a2d4096dd1b52565cc12a9eL253' target='_blank'>Link</a></div><div id='project'> Project Name: comic/grand-challenge.org</div><div id='commit'> Commit Name: c8f80caf3b3a5707a2d5d2b9dfee1e4e80f1b3be</div><div id='time'> Time: 2017-05-09</div><div id='author'> Author: jamesmeakin@gmail.com</div><div id='file'> File Name: django/comicsite/templatetags/comic_templatetags.py</div><div id='class'> Class Name: comic_URLNode</div><div id='method'> Method Name: render</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras/commit/b938b91b527760cef3af29031e74ab181f2fc2b9#diff-0d6db56e2f55ad7c2506b7a02bb7151f4a47215a87dff56c5894d819942bf5f6L280' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras</div><div id='commit'> Commit Name: b938b91b527760cef3af29031e74ab181f2fc2b9</div><div id='time'> Time: 2019-07-07</div><div id='author'> Author: psv@google.com</div><div id='file'> File Name: keras/engine/training_generator.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: evaluate_generator</div><BR><BR><div id='link'><a href='https://github.com/scikit-multiflow/scikit-multiflow/commit/e9c5be365179c1ffe32c0dfb7c8dc3d589a07b04#diff-499b200f5f83b290028b1a7dc56bce976f770d018147277c906189fb32f6699cL17' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-multiflow/scikit-multiflow</div><div id='commit'> Commit Name: e9c5be365179c1ffe32c0dfb7c8dc3d589a07b04</div><div id='time'> Time: 2017-07-20</div><div id='author'> Author: guilhermekmatsumoto@gmail.com</div><div id='file'> File Name: skmultiflow/classification/lazy/knn_adwin.py</div><div id='class'> Class Name: KNNAdwin</div><div id='method'> Method Name: partial_fit</div><BR>