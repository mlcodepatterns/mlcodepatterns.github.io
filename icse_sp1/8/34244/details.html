<html><h3>d2ee769ba220e135312df733a256ad37f354227f,test/nn/conv/test_gravnet_conv.py,,test_gravnet_conv,#,5
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def test_gravnet_conv():
    num_nodes, in_channels, out_channels = <a id="change">20</a>, 16, 32
    x = torch.randn((num_nodes, in_channels))

    conv = GravNetConv(in_channels, out_channels, space_dimensions=4,</code></pre><h3>After Change</h3><pre><code class='java'>
    x1 = torch.randn(8, 16)
    x2 = torch.randn(4, 16)
    batch1 = torch.tensor([0, 0, 0, 0, 1, 1, 1, 1])
    batch2 = <a id="change">torch.tensor([0, 0, 1, 1])</a>

    conv = GravNetConv(16, 32, space_dimensions=4, propagate_dimensions=8, k=2)
    assert conv.__repr__() == &quotGravNetConv(16, 32, k=2)&quot

    out11 = conv(x1)
    assert out11.size() == (8, 32)

    out12 = conv(x1, batch1)
    assert out12.size() == (8, 32)

    out21 = conv((x1, x2))
    assert out21.size() == (4, 32)

    <a id="change">out22 = conv((x1, x2), (batch1, batch2))</a>
    assert out22.size() == (4, 32)

    t = &quot(Tensor, OptTensor) -&gt; Tensor&quot
    jit = torch.jit.script(conv.jittable(t))</code></pre><img src="168071877.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rusty1s/pytorch_geometric/commit/d2ee769ba220e135312df733a256ad37f354227f#diff-f946d410a5e774b6c1999091bde7e0f237144aa2fd9b6426936ad481780fba7eL6' target='_blank'>Link</a></div><div id='project'> Project Name: rusty1s/pytorch_geometric</div><div id='commit'> Commit Name: d2ee769ba220e135312df733a256ad37f354227f</div><div id='time'> Time: 2020-06-24</div><div id='author'> Author: matthias.fey@tu-dortmund.de</div><div id='file'> File Name: test/nn/conv/test_gravnet_conv.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_gravnet_conv</div><BR><BR><div id='link'><a href='https://github.com/dmlc/dgl/commit/e4ef8d1a80a922a5798268d4f31ff758b45620cb#diff-3ab5ff07b573a820e2c8dac99af68d118d602c86dc51371a00e466b6616a020bL8' target='_blank'>Link</a></div><div id='project'> Project Name: dmlc/dgl</div><div id='commit'> Commit Name: e4ef8d1a80a922a5798268d4f31ff758b45620cb</div><div id='time'> Time: 2019-12-24</div><div id='author'> Author: mctt90@gmail.com</div><div id='file'> File Name: examples/pytorch/dis_kvstore/client.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/rusty1s/pytorch_geometric/commit/f74351f89db9a5b38f6b48c7b509bbf0d7a91023#diff-a6bf43e35c2947a45b42fdd5073d77db5e0c6cafad61335cb06eddee114a9e44L46' target='_blank'>Link</a></div><div id='project'> Project Name: rusty1s/pytorch_geometric</div><div id='commit'> Commit Name: f74351f89db9a5b38f6b48c7b509bbf0d7a91023</div><div id='time'> Time: 2020-06-24</div><div id='author'> Author: matthias.fey@tu-dortmund.de</div><div id='file'> File Name: test/nn/conv/test_edge_conv.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_dynamic_edge_conv_conv</div><BR>