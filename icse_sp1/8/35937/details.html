<html><h3>e1ec03165b1f47fac773a977ca6b1d18abb8463d,app/uploads/views.py,CKUploadView,form_valid,#CKUploadView#Any#,52
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        form.instance.user = self.request.user
        form.instance.file = form.cleaned_data[&quotupload&quot]

        <a id="change">return super().form_valid(form)</a>


&#47&#47 TODO: permissions, limit by folder
def ck_browse_uploads(request, challenge_short_name):</code></pre><h3>After Change</h3><pre><code class='java'>
        if ck_func_num:
            ck_func_num = escape(ck_func_num)

        <a id="change">url = form.instance.file.url</a>

        if ck_func_num:
            &#47&#47 Respond with Javascript sending ckeditor upload url.
            return HttpResponse(
            &lt;script type=&quottext/javascript&quot&gt;
                window.parent.CKEDITOR.tools.callFunction({0}, &quot{1}&quot);
            &lt;/script&gt;.format(ck_func_num, url))
        else:
            retdata = <a id="change">{&quoturl&quot: url, &quotuploaded&quot: &quot1&quot,
                       &quotfileName&quot: form.instance.file.name}</a>
            <a id="change">return JsonResponse(retdata)</a>


&#47&#47 TODO: permissions, limit by folder
def ck_browse_uploads(request, challenge_short_name):</code></pre><img src="174005507.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/comic/grand-challenge.org/commit/e1ec03165b1f47fac773a977ca6b1d18abb8463d#diff-b12905dc6ac9416b80a51e1c9981afd7eacf4996dc6fd03207fe678f438d4a6fL52' target='_blank'>Link</a></div><div id='project'> Project Name: comic/grand-challenge.org</div><div id='commit'> Commit Name: e1ec03165b1f47fac773a977ca6b1d18abb8463d</div><div id='time'> Time: 2018-03-13</div><div id='author'> Author: jamesmeakin@gmail.com</div><div id='file'> File Name: app/uploads/views.py</div><div id='class'> Class Name: CKUploadView</div><div id='method'> Method Name: form_valid</div><BR><BR><div id='link'><a href='https://github.com/jazzband/django-debug-toolbar/commit/af0d5af82a29ae39955331be6ca50b575b7b1466#diff-b5e824a73cdcc7c9e616cfc8237b67792ad3eb098691872bf1833ae06f314782L18' target='_blank'>Link</a></div><div id='project'> Project Name: jazzband/django-debug-toolbar</div><div id='commit'> Commit Name: af0d5af82a29ae39955331be6ca50b575b7b1466</div><div id='time'> Time: 2020-05-19</div><div id='author'> Author: jon.dufresne@gmail.com</div><div id='file'> File Name: debug_toolbar/views.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: render_panel</div><BR><BR><div id='link'><a href='https://github.com/chakki-works/doccano/commit/d30b4142d1f9c6b6d43868dadd2f452be724ed1b#diff-7003b4cd1372c76461378255140cafa4c48dab0a8c47eddc4358d2233c26300dL84' target='_blank'>Link</a></div><div id='project'> Project Name: chakki-works/doccano</div><div id='commit'> Commit Name: d30b4142d1f9c6b6d43868dadd2f452be724ed1b</div><div id='time'> Time: 2018-06-17</div><div id='author'> Author: light.tree.1.13@gmail.com</div><div id='file'> File Name: doccano/app/server/views.py</div><div id='class'> Class Name: SearchAPI</div><div id='method'> Method Name: get</div><BR>