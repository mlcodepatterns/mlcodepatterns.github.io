<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    for row in metadata:
      features = row.split(&quot,&quot)
      metadata_dict[&quotbook_id&quot].append(int(features[0]))
      metadata_dict[&quotbook_title&quot].append(<a id="change">str(features[1])</a>)
      metadata_dict[&quotpublication_date&quot].append(str(features[2]))
      metadata_dict[&quotbook_link&quot].append(str(features[3]))
</code></pre><h3>After Change</h3><pre><code class='java'>
      return &quot10005&quot


    <a id="change">for index, file in enumerate(filepaths):
      &#47&#47 book_id = _get_file_name(file)
      book_id = metadata[index][0]
      print("&lt;-----CHARLES-----&gt;", file)
      book_data = metadata[index][1]
      print(book_data)
      &#47&#47 book_data = metadata[int(book_id)]

      with tf.io.gfile.GFile(file, &quotr&quot) as f:
        text = f.read().strip()
        yield index, {
            "book_text": text,
            "book_id": book_id,
            "book_title": book_data[0],
            "publication_date": book_data[1],
            "book_link": book_data[2]
            }</a>
</code></pre>