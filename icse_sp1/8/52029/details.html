<html><h3>099e35f9db7e3098d8a88b99a9f5460b52bab2fc,tests/test_theano.py,,test_limb_darkened,#,60
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 Compute the gradient using Theano
    varnames = sorted(theano_kwargs.keys())
    vars = [theano_kwargs[k] for k in varnames]
    <a id="change">computed = dict(zip(varnames, theano.function([], 
                                                  theano.grad(model[0], vars))()))</a>

    &#47&#47 Compare
    for key in theano_kwargs.keys():
        if key == "zo":</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 Compute the gradient using Theano
    varnames = sorted(theano_kwargs.keys())
    vars = [theano_kwargs[k] for k in varnames]
    <a id="change">computed = {}</a>
    <a id="change">for var in varnames:
        deriv = [theano.function([], 
                 theano.grad(model[i], theano_kwargs[var]))() 
                 for i in range(npts)]
        if var == "u":
            computed[var] = np.transpose(deriv)
        else:
            computed[var] = np.sum(deriv, axis=0)

    &#47&#47 Compare
   </a> for key in theano_kwargs.keys():
        if key == "zo":
            continue
        assert np.allclose(np.squeeze(grad[key]), np.squeeze(computed[key]))</code></pre><img src="240133459.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rodluger/starry/commit/099e35f9db7e3098d8a88b99a9f5460b52bab2fc#diff-dbdc222e2cc11f2a16b3b3175d85e0c8b7635025f29e99f1e5bf85284514666fL62' target='_blank'>Link</a></div><div id='project'> Project Name: rodluger/starry</div><div id='commit'> Commit Name: 099e35f9db7e3098d8a88b99a9f5460b52bab2fc</div><div id='time'> Time: 2019-05-01</div><div id='author'> Author: rodluger@gmail.com</div><div id='file'> File Name: tests/test_theano.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_limb_darkened</div><BR><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/bf9599809214cbc3082eb7f39c0ad3155822a2c5#diff-e9f4b667a9070c1b00eeffa6b5dc9482ea16d242cd91e0b38275760a935bc5a1L172' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: bf9599809214cbc3082eb7f39c0ad3155822a2c5</div><div id='time'> Time: 2014-02-12</div><div id='author'> Author: benjy@foursquare.com</div><div id='file'> File Name: src/python/twitter/pants/tasks/jvm_compile/scala/zinc_analysis.py</div><div id='class'> Class Name: ZincAnalysis</div><div id='method'> Method Name: split</div><BR><BR><div id='link'><a href='https://github.com/CellProfiler/CellProfiler/commit/2bc6b146494b4971bb44fe1ea3ea57ddd6da69b3#diff-6f62eb349e47c2669842f095df675e2baef8a854273f7e32e9a4d5a0fd282805L154' target='_blank'>Link</a></div><div id='project'> Project Name: CellProfiler/CellProfiler</div><div id='commit'> Commit Name: 2bc6b146494b4971bb44fe1ea3ea57ddd6da69b3</div><div id='time'> Time: 2011-07-13</div><div id='author'> Author: leek@1fc53939-2000-0410-845c-e8453a809027</div><div id='file'> File Name: cellprofiler/gui/datatoolframe.py</div><div id='class'> Class Name: DataToolFrame</div><div id='method'> Method Name: on_image_choose</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/cleverhans/commit/6667fb34f81f5c523c97952f1ea5fe0ba6d769bd#diff-03fb0571c04ee9e7419e6ccd45ee165932c4cefe547a151499f0b49037e71b09L246' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/cleverhans</div><div id='commit'> Commit Name: 6667fb34f81f5c523c97952f1ea5fe0ba6d769bd</div><div id='time'> Time: 2017-06-21</div><div id='author'> Author: papernot@google.com</div><div id='file'> File Name: cleverhans/model.py</div><div id='class'> Class Name: KerasModelWrapper</div><div id='method'> Method Name: fprop</div><BR>