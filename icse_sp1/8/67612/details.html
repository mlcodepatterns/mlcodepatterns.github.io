<html><h3>d5b179c50c764bcd37aa5348761e272170f9015f,starry/ops/ops.py,OpsReflected,render,#OpsReflected#Any#Any#Any#Any#Any#Any#Any#Any#Any#,867
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        image = tt.dot(pT, A1Ry)

        &#47&#47 Compute the illumination profile
        source /= <a id="change">tt.reshape(source.norm(2, axis=1), [-1, 1])</a>
        <a id="change">I = self.compute_illumination(xyz, source)</a>

        &#47&#47 Weight the image by the illumination
        image = <a id="change">tt.switch(tt.</a>isnan(image), image, image * I)

        &#47&#47 We need the shape to be (nframes, npix, npix)
        return tt.reshape(image, [res, res, -1]).dimshuffle(2, 0, 1)</code></pre><h3>After Change</h3><pre><code class='java'>
        res = tt.reshape(tt.dot(pT, A1Ry), [res, res, -1])

        &#47&#47 We need the shape to be (nframes, npix, npix)
        return <a id="change">res.dimshuffle(2, 0, 1)</a>

    @autocompile(
        "add_spot",
        DynamicType("tt.dvector() if instance.nw is None else tt.dmatrix()"),</code></pre><img src="310574914.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rodluger/starry/commit/d5b179c50c764bcd37aa5348761e272170f9015f#diff-761abd1109f35fa0f52109fcf45bd0fed1d7227df630277d81410e0ccffb2fc2L276' target='_blank'>Link</a></div><div id='project'> Project Name: rodluger/starry</div><div id='commit'> Commit Name: d5b179c50c764bcd37aa5348761e272170f9015f</div><div id='time'> Time: 2019-10-01</div><div id='author'> Author: rodluger@gmail.com</div><div id='file'> File Name: starry/ops/ops.py</div><div id='class'> Class Name: OpsReflected</div><div id='method'> Method Name: render</div><BR><BR><div id='link'><a href='https://github.com/rodluger/starry/commit/d5b179c50c764bcd37aa5348761e272170f9015f#diff-761abd1109f35fa0f52109fcf45bd0fed1d7227df630277d81410e0ccffb2fc2L867' target='_blank'>Link</a></div><div id='project'> Project Name: rodluger/starry</div><div id='commit'> Commit Name: d5b179c50c764bcd37aa5348761e272170f9015f</div><div id='time'> Time: 2019-10-01</div><div id='author'> Author: rodluger@gmail.com</div><div id='file'> File Name: starry/ops/ops.py</div><div id='class'> Class Name: OpsReflected</div><div id='method'> Method Name: render</div><BR><BR><div id='link'><a href='https://github.com/UFAL-DSG/tgen/commit/357d1611c7a222b55a5b4f2b3399bde14a9ac0ea#diff-1ca0dc46acebfa0052e541ac33852b8c2f81b1ff080ca8bc733d09aa4865e25cL167' target='_blank'>Link</a></div><div id='project'> Project Name: UFAL-DSG/tgen</div><div id='commit'> Commit Name: 357d1611c7a222b55a5b4f2b3399bde14a9ac0ea</div><div id='time'> Time: 2015-05-27</div><div id='author'> Author: odusek@ufal.mff.cuni.cz</div><div id='file'> File Name: tgen/nn.py</div><div id='class'> Class Name: MaxPool1DLayer</div><div id='method'> Method Name: connect</div><BR><BR><div id='link'><a href='https://github.com/UFAL-DSG/tgen/commit/930f22933523259b1a152dc3174312357fb99fb9#diff-1ca0dc46acebfa0052e541ac33852b8c2f81b1ff080ca8bc733d09aa4865e25cL169' target='_blank'>Link</a></div><div id='project'> Project Name: UFAL-DSG/tgen</div><div id='commit'> Commit Name: 930f22933523259b1a152dc3174312357fb99fb9</div><div id='time'> Time: 2015-06-15</div><div id='author'> Author: odusek@ufal.mff.cuni.cz</div><div id='file'> File Name: tgen/nn.py</div><div id='class'> Class Name: MaxPool1DLayer</div><div id='method'> Method Name: connect</div><BR>