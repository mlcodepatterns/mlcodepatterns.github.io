<html><h3>f84b3616c71d52b4f3cefebe629ba4808b59b8d8,baseline/tf/lm/training/datasets.py,,fit_datasets,#Any#Any#Any#Any#,10
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    test_dataset = test_dataset.repeat(epochs + 1)
    test_dataset = test_dataset.prefetch(NUM_PREFETCH)

    <a id="change">iter = tf.data.Iterator.from_structure(train_dataset.output_types,
                                           train_dataset.output_shapes)</a>

    features, tgt = iter.get_next()
    &#47&#47 Add features to the model params
    model_params.update(features)</code></pre><h3>After Change</h3><pre><code class='java'>
    train_dataset = train_dataset.shuffle(buffer_size=SHUF_BUF_SZ)
    train_dataset = train_dataset.batch(batchsz, drop_remainder=False)
    train_dataset = train_dataset.repeat(epochs + 1)
    <a id="change">train_dataset</a> = train_dataset.prefetch(NUM_PREFETCH)

    valid_dataset = tf.data.Dataset.from_tensor_slices(to_tensors(vs))
    valid_dataset = valid_dataset.batch(batchsz, drop_remainder=False)
    valid_dataset = valid_dataset.repeat(epochs + 1)
    valid_dataset = valid_dataset.prefetch(NUM_PREFETCH)

    test_dataset = tf.data.Dataset.from_tensor_slices(to_tensors(es))
    test_dataset = test_dataset.batch(test_batchsz, drop_remainder=False)
    test_dataset = test_dataset.repeat(epochs + 1)
    test_dataset = test_dataset.prefetch(NUM_PREFETCH)

    <a id="change">iter = tf.compat.v1.data.Iterator.from_structure(tf.compat.v1.data.get_output_types(train_dataset),
                                                     tf.compat.v1.data.get_output_shapes(train_dataset))</a>

    features, tgt = iter.get_next()
    &#47&#47 Add features to the model params
    model_params.update(features)</code></pre><img src="206694087.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 20</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/f84b3616c71d52b4f3cefebe629ba4808b59b8d8#diff-7010a5e50f4133a23a89ef9cf17f047f7ee2835b1a3b21e93cdbf8ad9afa957eL70' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: f84b3616c71d52b4f3cefebe629ba4808b59b8d8</div><div id='time'> Time: 2020-02-04</div><div id='author'> Author: dpressel@gmail.com</div><div id='file'> File Name: baseline/tf/lm/training/datasets.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: fit_datasets</div><BR><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/f84b3616c71d52b4f3cefebe629ba4808b59b8d8#diff-879bcee0cce66aaa8a131c2b78c13c7525e0f2f0fb504a83bef0ff6e0515f330L78' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: f84b3616c71d52b4f3cefebe629ba4808b59b8d8</div><div id='time'> Time: 2020-02-04</div><div id='author'> Author: dpressel@gmail.com</div><div id='file'> File Name: baseline/tf/tagger/training/datasets.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: fit_datasets</div><BR><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/f84b3616c71d52b4f3cefebe629ba4808b59b8d8#diff-7010a5e50f4133a23a89ef9cf17f047f7ee2835b1a3b21e93cdbf8ad9afa957eL70' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: f84b3616c71d52b4f3cefebe629ba4808b59b8d8</div><div id='time'> Time: 2020-02-04</div><div id='author'> Author: dpressel@gmail.com</div><div id='file'> File Name: baseline/tf/lm/training/datasets.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: fit_datasets</div><BR><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/f84b3616c71d52b4f3cefebe629ba4808b59b8d8#diff-f0d89f194f740b464d940932655c7635ab19770ed82d566124eb5ada1d2eb0faL70' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: f84b3616c71d52b4f3cefebe629ba4808b59b8d8</div><div id='time'> Time: 2020-02-04</div><div id='author'> Author: dpressel@gmail.com</div><div id='file'> File Name: baseline/tf/seq2seq/training/datasets.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: fit_datasets</div><BR><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/f84b3616c71d52b4f3cefebe629ba4808b59b8d8#diff-8f94cfb34b9294d9a20cd8041005b2f2abbf7fa7664daa529c7aa1e1f7885e27L79' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: f84b3616c71d52b4f3cefebe629ba4808b59b8d8</div><div id='time'> Time: 2020-02-04</div><div id='author'> Author: dpressel@gmail.com</div><div id='file'> File Name: baseline/tf/classify/training/datasets.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: fit_datasets</div><BR>