<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        batch_size = len(experiences)

        &#47&#47 Store necessary data in arrays
        <a id="change">batch_state = self.batch_states(
            [elem[&quotstate&quot] for elem in experiences], self.xp, self.phi)</a>

        batch_actions = self.xp.asarray(
            [elem[&quotaction&quot] for elem in experiences])
</code></pre><h3>After Change</h3><pre><code class='java'>

        batch_size = len(experiences)

        <a id="change">batch_exp = batch_experiences(
            experiences,
            xp=self.xp,
            phi=self.phi,
            gamma=self.gamma,
            batch_states=self.batch_states,
        )</a>

        batch_state = <a id="change">batch_exp[&quotstate&quot]</a>
        <a id="change">batch_actions = batch_exp[&quotaction&quot]</a>
        batch_next_state = <a id="change">batch_exp[&quotnext_state&quot]</a>
        batch_rewards = <a id="change">batch_exp[&quotreward&quot]</a>
        <a id="change">batch_terminal = batch_exp[&quotis_state_terminal&quot]</a>
        batch_discount = <a id="change">batch_exp[&quotdiscount&quot]</a>

        &#47&#47 Update Q-function
        def compute_critic_loss():
</code></pre>