<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def aucell(args):
    <a id="change">print("{} - Loading datasets.".format(datetime.datetime.now()))</a>
    ex_mtx = pd.read_csv(args.expression_mtx_fname, sep=&quot\t&quot, header=0, index_col=0)
    regulomes = load_from_yaml(args.regulomes_fname.name)

    <a id="change">print("{} - Create rankings.".format(datetime.datetime.now()))</a>
    rnk_mtx = create_rankings(ex_mtx)

    print("{} - Calculating enrichment.".format(datetime.datetime.now()))
    auc_heatmap = pd.concat([enrichment(rnk_mtx.T, regulome) for regulome in regulomes]).unstack(&quotRegulome&quot)

    <a id="change">print("{} - Writing results to file.".format(datetime.datetime.now()))</a>
    auc_heatmap.to_csv(args.output)


def create_argument_parser():</code></pre><h3>After Change</h3><pre><code class='java'>


def aucell(args):
    <a id="change">LOGGER.info("{} - Loading datasets.")</a>
    ex_mtx = pd.read_csv(args.expression_mtx_fname, sep=&quot\t&quot, header=0, index_col=0)
    regulomes = load_from_yaml(args.regulomes_fname.name)

    <a id="change">LOGGER.info("{} - Create rankings.")</a>
    rnk_mtx = create_rankings(ex_mtx)

    LOGGER.info("{} - Calculating enrichment.")
    auc_heatmap = pd.concat([enrichment(rnk_mtx.T, regulome) for regulome in regulomes]).unstack(&quotRegulome&quot)

    <a id="change">LOGGER.info("{} - Writing results to file.")</a>
    auc_heatmap.to_csv(args.output)


def create_argument_parser():</code></pre>