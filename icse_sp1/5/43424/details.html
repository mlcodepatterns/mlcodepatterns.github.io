<html><h3>1c9f9302d3a556d1dcdc118fb3a58c6b007c717d,data-analytics/cloud-composer-examples/composer_http_post_example/spark_avg_speed.py,AverageSpeedEnhancer,dict_to_csv,#AverageSpeedEnhancer#Any#,57
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            dictionary: A dictionary containing the data of interest.
        
        csv = &quot,&quot.join([str(dictionary[key]) if dictionary.get(key) is not None else &quot&quot
                        <a id="change">for</a> key in AverageSpeedEnhancer.output_schema])
        return csv

    def enhance_with_avg_speed(self, record):</code></pre><h3>After Change</h3><pre><code class='java'>
        Arguments:
            dictionary: A dictionary containing the data of interest.
        
        <a id="change">with closing(cStringIO.StringIO()) as csv_string:
            writer = csv.DictWriter(csv_string, AverageSpeedEnhancer.output_schema)
            writer.writerow(dictionary)
            &#47&#47 Our desired output is a csv string not a line in a file so we strip the
            &#47&#47 newline character written by the writerow function by default.
            return csv_string.getvalue().strip()

   </a> def enhance_with_avg_speed(self, record):
        
        This is the business logic for the average speed column to calculate for each record.
        The desired units are miles per hour.</code></pre><img src="204008344.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/professional-services/commit/1c9f9302d3a556d1dcdc118fb3a58c6b007c717d#diff-e9f46f3354620c7c13927ddefb976477a3a514abc3a044d111cdf14b3944b208L64' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/professional-services</div><div id='commit'> Commit Name: 1c9f9302d3a556d1dcdc118fb3a58c6b007c717d</div><div id='time'> Time: 2018-07-13</div><div id='author'> Author: danielrdeleo@gmail.com</div><div id='file'> File Name: data-analytics/cloud-composer-examples/composer_http_post_example/spark_avg_speed.py</div><div id='class'> Class Name: AverageSpeedEnhancer</div><div id='method'> Method Name: dict_to_csv</div><BR><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/35ba6bfdb63cfedbedfd28c1705996e582178064#diff-37df77f9c72903e6aa8a601ecf36e1a5a638331c175a13fc1eb1fceb4fb36d26L211' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: 35ba6bfdb63cfedbedfd28c1705996e582178064</div><div id='time'> Time: 2015-09-23</div><div id='author'> Author: kwilson@twopensource.com</div><div id='file'> File Name: src/python/pants/java/nailgun_executor.py</div><div id='class'> Class Name: NailgunExecutor</div><div id='method'> Method Name: ensure_connectable</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/dfa81b0117708a41a64d3bb7d11104d115d35d2b#diff-25c0142a59c4c1586f439ee1dcf6581ed8860e210de44c7933086fcc5a50b84eL44' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: dfa81b0117708a41a64d3bb7d11104d115d35d2b</div><div id='time'> Time: 2015-11-08</div><div id='author'> Author: ryan.e.t@gmail.com</div><div id='file'> File Name: homeassistant/components/camera/mjpeg.py</div><div id='class'> Class Name: MjpegCamera</div><div id='method'> Method Name: camera_image</div><BR><BR><div id='link'><a href='https://github.com/hpclab/rankeval/commit/1666dc3ba13743204ae10eaf31b046d0c315e32a#diff-490152a2952c944bab8cf1dcb7b407a252009f87c4090069bb9793112fe0e127L180' target='_blank'>Link</a></div><div id='project'> Project Name: hpclab/rankeval</div><div id='commit'> Commit Name: 1666dc3ba13743204ae10eaf31b046d0c315e32a</div><div id='time'> Time: 2019-07-25</div><div id='author'> Author: trani.salvatore@gmail.com</div><div id='file'> File Name: rankeval/dataset/svmlight_format.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: dump_svmlight_file</div><BR>