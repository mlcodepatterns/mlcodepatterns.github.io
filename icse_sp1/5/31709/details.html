<html><h3>90c7286c62845066565fa9af7f058d5a03179fb2,pymc3/tests/test_stats.py,TestStats,test_waic,#TestStats#,70
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        log_py = st.binom.logpmf(np.atleast_2d(x_obs).T, 5, trace[&quotp&quot]).T

        lppd = np.sum(np.log(np.mean(np.exp(log_py), axis=0)))
        p_waic = np.sum(<a id="change">np.var(log_py, axis=0)</a>)
        actual = -2 * lppd + <a id="change">2</a> * p_waic

        assert_almost_equal(calculated, actual, decimal=2)
</code></pre><h3>After Change</h3><pre><code class='java'>
        log_py = st.binom.logpmf(np.atleast_2d(x_obs).T, 5, trace[&quotp&quot]).T

        lppd_i = np.log(np.mean(np.exp(log_py), axis=0))
        vars_lpd = <a id="change">np.var(log_py, axis=0)</a>
        <a id="change">waic_i = - 2 * (lppd_i - vars_lpd)</a>
        
        actual_waic_se = np.sqrt(len(waic_i) * np.var(waic_i))
        actual_waic = np.sum(waic_i)
        </code></pre><img src="155410706.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pymc-devs/pymc3/commit/90c7286c62845066565fa9af7f058d5a03179fb2#diff-19eca7b71118948db88923eefc544acd7fc4494d28b2584d2ef42a6739de6186L80' target='_blank'>Link</a></div><div id='project'> Project Name: pymc-devs/pymc3</div><div id='commit'> Commit Name: 90c7286c62845066565fa9af7f058d5a03179fb2</div><div id='time'> Time: 2016-10-12</div><div id='author'> Author: aloctavodia@gmail.com</div><div id='file'> File Name: pymc3/tests/test_stats.py</div><div id='class'> Class Name: TestStats</div><div id='method'> Method Name: test_waic</div><BR><BR><div id='link'><a href='https://github.com/elfi-dev/elfi/commit/adea709c364eeaf34bf188e35d396bdf19761eb7#diff-6e006b0160c500cfedbea3cc2112f5922c2261101427a478abdcd49afb5e6e9dL15' target='_blank'>Link</a></div><div id='project'> Project Name: elfi-dev/elfi</div><div id='commit'> Commit Name: adea709c364eeaf34bf188e35d396bdf19761eb7</div><div id='time'> Time: 2016-10-28</div><div id='author'> Author: jarno.lintusaari@aalto.fi</div><div id='file'> File Name: elfi/examples/ma2.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: autocov</div><BR><BR><div id='link'><a href='https://github.com/abhiskk/fast-neural-style/commit/e15bc113b83c2bdf980d2557971888d10011ef29#diff-3dfe15b93461527d2c56b75ff81c210cb5c2138c1fbf8345e4d17644fb76cf56L119' target='_blank'>Link</a></div><div id='project'> Project Name: abhiskk/fast-neural-style</div><div id='commit'> Commit Name: e15bc113b83c2bdf980d2557971888d10011ef29</div><div id='time'> Time: 2017-03-14</div><div id='author'> Author: abhishekkadiyan@gmail.com</div><div id='file'> File Name: neuralstyle/transformernet.py</div><div id='class'> Class Name: InstanceNormalization</div><div id='method'> Method Name: forward</div><BR>