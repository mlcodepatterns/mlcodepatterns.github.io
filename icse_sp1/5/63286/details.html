<html><h3>527b35898895eb1befc53de16786d5fb337c8cd2,keras_/kerascv/models/model_store.py,,_preprocess_weights_for_loading,#Any#Any#,284
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    
    is_channels_first = (K.image_data_format() == &quotchannels_first&quot)
    if layer.__class__.__name__ == "Conv2D":
        <a id="change">layer_weights0_shape = K.int_shape(layer.weights[0])</a>
        if not is_channels_first:
            weights[0] = np.transpose(weights[0], (2, 3, 1, 0))
        assert (layer_weights0_shape == weights[0].shape)
    return weights</code></pre><h3>After Change</h3><pre><code class='java'>
        if layer.__class__.__name__ == "Conv2D":
            weights[0] = np.transpose(weights[0], (2, 3, 1, 0))
        elif layer.__class__.__name__ == "DepthwiseConv2D":
            <a id="change">weights[0] = np.transpose(weights[0], (2, 3, 0, 1))</a>
    for i in range(len(weights)):
        assert (K.int_shape(layer.weights[i]) == weights[i].shape)
    return weights
</code></pre><img src="291750407.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/osmr/imgclsmob/commit/527b35898895eb1befc53de16786d5fb337c8cd2#diff-1e7fa860f2f53480e1b1191f0c2f9d97aebdccf799f1eccfc94ad17463a7c25eL302' target='_blank'>Link</a></div><div id='project'> Project Name: osmr/imgclsmob</div><div id='commit'> Commit Name: 527b35898895eb1befc53de16786d5fb337c8cd2</div><div id='time'> Time: 2019-02-09</div><div id='author'> Author: osemery@gmail.com</div><div id='file'> File Name: keras_/kerascv/models/model_store.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _preprocess_weights_for_loading</div><BR><BR><div id='link'><a href='https://github.com/broadinstitute/keras-rcnn/commit/b540e054944fce7065635ac7891f65571ffc4d55#diff-5a8cf27fcf707a5b6e3f3e6ab64cc4f50405d684f2820e38c67502dda79fc676L106' target='_blank'>Link</a></div><div id='project'> Project Name: broadinstitute/keras-rcnn</div><div id='commit'> Commit Name: b540e054944fce7065635ac7891f65571ffc4d55</div><div id='time'> Time: 2017-06-10</div><div id='author'> Author: jujihong.cn@gmail.com</div><div id='file'> File Name: keras_rcnn/backend/tensorflow_backend.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: crop_and_resize</div><BR><BR><div id='link'><a href='https://github.com/keras-team/keras-applications/commit/e0a649263bdc4b9803c4103f288a0675ebbecd5d#diff-401634ed997addf1b26410fdef41a6bacc1a598000768678d79acf9008551f5aL226' target='_blank'>Link</a></div><div id='project'> Project Name: keras-team/keras-applications</div><div id='commit'> Commit Name: e0a649263bdc4b9803c4103f288a0675ebbecd5d</div><div id='time'> Time: 2019-10-13</div><div id='author'> Author: me@taehoonlee.com</div><div id='file'> File Name: keras_applications/resnet_common.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: block3</div><BR>