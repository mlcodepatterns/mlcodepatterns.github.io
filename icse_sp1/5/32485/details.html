<html><h3>b3ae6130ed4714852211a6e8cb56de66450da83c,scripts/extract.py,ExtractTrainingData,process,#ExtractTrainingData#,17
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        try:
            for filename in self.read_directory():
                image = <a id="change">cv2.imread(filename)</a>
                <a id="change">for idx, face in self.get_faces(image):
                    resized_image = extractor.extract(image, face, 256)
                    output_file = self.output_dir / Path(filename).stem
                    cv2.imwrite(str(output_file) + str(idx) + Path(filename).suffix, resized_image)
                
       </a> except Exception as e:
            print(&quotFailed to extract from image: {}. Reason: {}&quot.format(filename, e))
</code></pre><h3>After Change</h3><pre><code class='java'>
        extractor_name = "Align" &#47&#47 TODO Pass as argument
        self.extractor = PluginLoader.get_extractor(extractor_name)()
        self.faces_detected = 0
        <a id="change">processes = self.arguments.processes</a>
        <a id="change">if processes != 1:
            files = list(self.read_directory())
            for _ in tqdm(pool_process(self.processFiles, files, processes=processes), total = len(files)):
                self.faces_detected +=1
        else:
            try:
                for filename in tqdm(self.read_directory()):
                    self.handleImage(filename)

            except Exception as e:
                print(&quotFailed to extract from image: {}. Reason: {}&quot.format(filename, e))

   </a> def processFiles(self, filename):
        try:
            return self.handleImage(filename)
        except Exception as e:</code></pre><img src="159867732.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepfakes/faceswap/commit/b3ae6130ed4714852211a6e8cb56de66450da83c#diff-18de07523b1426cb0642eb1385ca3abc7f9484f259319941b7aacb686282ad18L17' target='_blank'>Link</a></div><div id='project'> Project Name: deepfakes/faceswap</div><div id='commit'> Commit Name: b3ae6130ed4714852211a6e8cb56de66450da83c</div><div id='time'> Time: 2018-02-07</div><div id='author'> Author: Github@clorr.fr</div><div id='file'> File Name: scripts/extract.py</div><div id='class'> Class Name: ExtractTrainingData</div><div id='method'> Method Name: process</div><BR><BR><div id='link'><a href='https://github.com/uber/ludwig/commit/db6c90a30f8ee8f8e1ffb4881c5d52f6f3bde5c1#diff-93083b0167fe4d5d7228a93acefc4045ce7e5320a4203d876bb8400637a88123L84' target='_blank'>Link</a></div><div id='project'> Project Name: uber/ludwig</div><div id='commit'> Commit Name: db6c90a30f8ee8f8e1ffb4881c5d52f6f3bde5c1</div><div id='time'> Time: 2019-03-19</div><div id='author'> Author: 33033675+ydudin3@users.noreply.github.com</div><div id='file'> File Name: ludwig/features/image_feature.py</div><div id='class'> Class Name: ImageBaseFeature</div><div id='method'> Method Name: add_feature_data</div><BR><BR><div id='link'><a href='https://github.com/deepfakes/faceswap/commit/a3294523aa159472574cde4210be99de21e5e6af#diff-01d3501e421c0c431f140915892620b0ca71a11e5c7dbb737cab807aa13a625cL187' target='_blank'>Link</a></div><div id='project'> Project Name: deepfakes/faceswap</div><div id='commit'> Commit Name: a3294523aa159472574cde4210be99de21e5e6af</div><div id='time'> Time: 2019-06-02</div><div id='author'> Author: 36920800+torzdf@users.noreply.github.com</div><div id='file'> File Name: scripts/fsmedia.py</div><div id='class'> Class Name: Images</div><div id='method'> Method Name: load_disk_frames</div><BR>