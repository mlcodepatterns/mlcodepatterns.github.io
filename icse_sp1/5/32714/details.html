<html><h3>5040d993d6253ed5842bee14f05d413d6b24ee9c,src/python/pants/backend/python/rules/inject_init.py,,inject_missing_init_files,#Any#,26
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    if not request.sources_stripped:
        &#47&#47 Get rid of any identified-as-missing __init__.py files that are not under a source root.
        <a id="change">missing_init_files_list = list(missing_init_files)</a>
        optional_src_roots = await MultiGet(
            Get(OptionalSourceRoot, SourceRootRequest, SourceRootRequest.for_file(init_file))
            for init_file in missing_init_files_list
        )
        <a id="change">for optional_src_root, init_file in zip(optional_src_roots, missing_init_files_list):
            &#47&#47 If the identified-as-missing __init__.py file is above or at a source root, remove it.
            if (
                optional_src_root.source_root is None
                or optional_src_root.source_root.path == os.path.dirname(init_file)
            ):
                missing_init_files.remove(init_file)

   </a> generated_inits_digest = await Get(
        Digest,
        InputFilesContent(FileContent(path=fp, content=b"") for fp in sorted(missing_init_files)),
    )</code></pre><h3>After Change</h3><pre><code class='java'>
        Digest,
        InputFilesContent(
            FileContent(fp, b"&#47&#47 Generated by Pants to ensure that this package is importable.")
            for fp in <a id="change">missing_init_files.difference(discovered_inits_snapshot.files)</a>
        ),
    )
    result = await Get(
        Snapshot,</code></pre><img src="161127931.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pantsbuild/pants/commit/5040d993d6253ed5842bee14f05d413d6b24ee9c#diff-a8566ea231daa5c1faf7738c0f3b9ceee3f2ad9c110be145ca248b3dde041bc3L31' target='_blank'>Link</a></div><div id='project'> Project Name: pantsbuild/pants</div><div id='commit'> Commit Name: 5040d993d6253ed5842bee14f05d413d6b24ee9c</div><div id='time'> Time: 2020-06-25</div><div id='author'> Author: 14852634+Eric-Arellano@users.noreply.github.com</div><div id='file'> File Name: src/python/pants/backend/python/rules/inject_init.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: inject_missing_init_files</div><BR><BR><div id='link'><a href='https://github.com/logpai/loglizer/commit/7c960272c5ab4d25a022538f5849addec3e6bfee#diff-43fc2f56bcafd5edb2c8bf9aa213331585a7f29d8b193e07dfd329e56c95b036L82' target='_blank'>Link</a></div><div id='project'> Project Name: logpai/loglizer</div><div id='commit'> Commit Name: 7c960272c5ab4d25a022538f5849addec3e6bfee</div><div id='time'> Time: 2019-02-25</div><div id='author'> Author: zhujm.home@gmail.com</div><div id='file'> File Name: loglizer/preprocessing.py</div><div id='class'> Class Name: FeatureExtractor</div><div id='method'> Method Name: transform</div><BR><BR><div id='link'><a href='https://github.com/dask/distributed/commit/909a943b67b6b472a2d77afa13a8caa61f25f972#diff-16d97466d583dd711466b285d796cd910a5cfbe067a70718c642cd0542aeac5cL50' target='_blank'>Link</a></div><div id='project'> Project Name: dask/distributed</div><div id='commit'> Commit Name: 909a943b67b6b472a2d77afa13a8caa61f25f972</div><div id='time'> Time: 2019-07-25</div><div id='author'> Author: jcrist@users.noreply.github.com</div><div id='file'> File Name: distributed/security.py</div><div id='class'> Class Name: Security</div><div id='method'> Method Name: __init__</div><BR>