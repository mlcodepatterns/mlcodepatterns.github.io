<html><h3>19058353d1b503bf186552ce971c10be047c8bd1,nilearn/tests/test_cache_mixin.py,,test_check_memory,#,26
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def test_check_memory():
    &#47&#47 Test if _check_memory returns a memory object with the cachedir equal to
    &#47&#47 input path
    <a id="change">try:
        temp_dir = tempfile.mkdtemp()

        mem_none = Memory(cachedir=None)
        mem_temp = Memory(cachedir=temp_dir)

        for mem in [None, mem_none]:
            memory = cache_mixin._check_memory(mem, verbose=False)
            assert_true(memory, Memory)
            assert_equal(memory.cachedir, mem_none.cachedir)

        for mem in [temp_dir, mem_temp]:
            memory = cache_mixin._check_memory(mem, verbose=False)
            assert_equal(memory.cachedir, mem_temp.cachedir)
            assert_true(memory, Memory)

    finally:
        if os.path.exists(temp_dir):
            shutil.rmtree(temp_dir)



</a>def test__safe_cache_dir_creation():
    &#47&#47 Test the _safe_cache function that is supposed to flush the
    &#47&#47 cache if the nibabel version changes
    try:</code></pre><h3>After Change</h3><pre><code class='java'>
def test_check_memory():
    &#47&#47 Test if _check_memory returns a memory object with the cachedir equal to
    &#47&#47 input path
    <a id="change">with tempfile.TemporaryDirectory() as temp_dir:

        mem_none = Memory(cachedir=None)
        mem_temp = Memory(cachedir=temp_dir)

        for mem in [None, mem_none]:
            memory = cache_mixin._check_memory(mem, verbose=False)
            assert_true(memory, Memory)
            assert_equal(memory.cachedir, mem_none.cachedir)

        for mem in [temp_dir, mem_temp]:
            memory = cache_mixin._check_memory(mem, verbose=False)
            assert_equal(memory.cachedir, mem_temp.cachedir)
            assert_true(memory, Memory)


</a>def test__safe_cache_dir_creation():
    &#47&#47 Test the _safe_cache function that is supposed to flush the
    &#47&#47 cache if the nibabel version changes
    with tempfile.TemporaryDirectory() as temp_dir:</code></pre><img src="119556240.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/19058353d1b503bf186552ce971c10be047c8bd1#diff-504c0fbf612dfd0b452082cad9a66a1b42a1c5475305e8e215cf09cda9648c81L29' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 19058353d1b503bf186552ce971c10be047c8bd1</div><div id='time'> Time: 2019-10-14</div><div id='author'> Author: jerome@dockes.org</div><div id='file'> File Name: nilearn/tests/test_cache_mixin.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_check_memory</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/19058353d1b503bf186552ce971c10be047c8bd1#diff-504c0fbf612dfd0b452082cad9a66a1b42a1c5475305e8e215cf09cda9648c81L51' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 19058353d1b503bf186552ce971c10be047c8bd1</div><div id='time'> Time: 2019-10-14</div><div id='author'> Author: jerome@dockes.org</div><div id='file'> File Name: nilearn/tests/test_cache_mixin.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test__safe_cache_dir_creation</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/19058353d1b503bf186552ce971c10be047c8bd1#diff-504c0fbf612dfd0b452082cad9a66a1b42a1c5475305e8e215cf09cda9648c81L71' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 19058353d1b503bf186552ce971c10be047c8bd1</div><div id='time'> Time: 2019-10-14</div><div id='author'> Author: jerome@dockes.org</div><div id='file'> File Name: nilearn/tests/test_cache_mixin.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test__safe_cache_flush</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/19058353d1b503bf186552ce971c10be047c8bd1#diff-504c0fbf612dfd0b452082cad9a66a1b42a1c5475305e8e215cf09cda9648c81L184' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 19058353d1b503bf186552ce971c10be047c8bd1</div><div id='time'> Time: 2019-10-14</div><div id='author'> Author: jerome@dockes.org</div><div id='file'> File Name: nilearn/tests/test_cache_mixin.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_cache_shelving</div><BR>