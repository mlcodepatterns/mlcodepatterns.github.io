<html><h3>5ed0c81c75f9360c11c60ed5b4bb367375ebb2bb,art/defences/preprocessor/jpeg_compression.py,JpegCompression,__call__,#JpegCompression#Any#Any#,124
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 Prepare grayscale images for "L" mode
        if image_mode == "L":
            <a id="change">x = np.squeeze(x, axis=-1)</a>

        &#47&#47 Compress one image at a time
        x_jpeg = x.copy()
        for idx in tqdm(np.ndindex(x.shape[:2]), desc="JPEG compression", disable=not self.verbose):</code></pre><h3>After Change</h3><pre><code class='java'>
            if x.shape[-1] == 3:
                x_jpeg[idx] = self._compress(x[idx], mode="RGB")
            else:
                <a id="change">for i_channel in range(x.shape[-1]):
                    x_channel = x[idx[0], idx[1], ..., i_channel]
                    x_channel = self._compress(x_channel, mode="L")
                    x_jpeg[idx[0], idx[1], :, :, i_channel] = x_channel

        &#47&#47 Convert to ART dtype
       </a> if self.clip_values[1] == 1.0:
            x_jpeg = x_jpeg / 255.0
        x_jpeg = x_jpeg.astype(ART_NUMPY_DTYPE)
</code></pre><img src="3445076.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/IBM/adversarial-robustness-toolbox/commit/5ed0c81c75f9360c11c60ed5b4bb367375ebb2bb#diff-21830333fdd150095ccc5eaa51bc94e0c58d0ac1920b06da027c72e393a3c98bL124' target='_blank'>Link</a></div><div id='project'> Project Name: IBM/adversarial-robustness-toolbox</div><div id='commit'> Commit Name: 5ed0c81c75f9360c11c60ed5b4bb367375ebb2bb</div><div id='time'> Time: 2020-10-30</div><div id='author'> Author: beat.buesser@ie.ibm.com</div><div id='file'> File Name: art/defences/preprocessor/jpeg_compression.py</div><div id='class'> Class Name: JpegCompression</div><div id='method'> Method Name: __call__</div><BR><BR><div id='link'><a href='https://github.com/geometalab/OSMDeepOD/commit/285dc85691241532cd976e04a089f409e44d7493#diff-4659640477888188b13cd750fdad422ee222076e276edffc439f35faebe1f5d0L40' target='_blank'>Link</a></div><div id='project'> Project Name: geometalab/OSMDeepOD</div><div id='commit'> Commit Name: 285dc85691241532cd976e04a089f409e44d7493</div><div id='time'> Time: 2016-08-12</div><div id='author'> Author: samuel.kurath@gmail.com</div><div id='file'> File Name: src/detection/tensor/detector.py</div><div id='class'> Class Name: Detector</div><div id='method'> Method Name: detect_multiple</div><BR><BR><div id='link'><a href='https://github.com/asyml/texar/commit/635b126a3a166b30e6ea5e65e131539f701031fc#diff-57b358e2377df55898b694d81b4dd8de312c035e2ef9bff0d0f5429a1368596fL258' target='_blank'>Link</a></div><div id='project'> Project Name: asyml/texar</div><div id='commit'> Commit Name: 635b126a3a166b30e6ea5e65e131539f701031fc</div><div id='time'> Time: 2018-11-14</div><div id='author'> Author: haoranshi97@gmail.com</div><div id='file'> File Name: texar/modules/encoders/transformer_encoders.py</div><div id='class'> Class Name: TransformerEncoder</div><div id='method'> Method Name: _build</div><BR><BR><div id='link'><a href='https://github.com/cornellius-gp/gpytorch/commit/0ec12f6fccb07305de1fd75527f5c156dab3c772#diff-7eb9d6ee118a4b8eec65a0a0c9892d54bbbadd303bfc1a39d7e306a7b97bdff5L307' target='_blank'>Link</a></div><div id='project'> Project Name: cornellius-gp/gpytorch</div><div id='commit'> Commit Name: 0ec12f6fccb07305de1fd75527f5c156dab3c772</div><div id='time'> Time: 2020-12-16</div><div id='author'> Author: gpleiss@gmail.com</div><div id='file'> File Name: gpytorch/kernels/spectral_mixture_kernel.py</div><div id='class'> Class Name: SpectralMixtureKernel</div><div id='method'> Method Name: forward</div><BR>