<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        for t in range(start, self.input_length):
            &#47&#47 prev_blank
            <a id="change">prev_blank = np.full((odim), r_prev[t-1, 1], dtype=np.float32)</a>

            &#47&#47 prev_nonblank
            prev_nonblank = np.full((odim), r_prev[t-1, 0], dtype=np.float32)
            if last_char in candidates:</code></pre><h3>After Change</h3><pre><code class='java'>
            psi = np.logaddexp(psi, phi[t-1,]+self.x[t, candidates])

        &#47&#47 P(end of sentence) = P(g)
        <a id="change">if self.eos in candidates:
            psi[candidates.index(self.eos)] = sum_prev[-1]
       </a> return psi, np.rollaxis(r, 2)
</code></pre>