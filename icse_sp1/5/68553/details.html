<html><h3>e81f54bb33f4a41c2ebdfdda41e5d70b52c32c87,pyannote/audio/callback.py,LoggingCallback,on_epoch_end,#LoggingCallback#Any#Any#,145
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            pass

        &#47&#47 save optimizer state every 10 epochs
        <a id="change">if epoch % 10 == 0:
            optimizer = self.model.optimizer
            state = {&quotoptimizer_config&quot: keras.optimizers.serialize(optimizer),
                     &quotweights&quot: optimizer.get_weights()}

            optimizer_pkl = self.OPTIMIZER_PKL.format(
                log_dir=self.log_dir, epoch=epoch)
            with open(optimizer_pkl, mode=&quotwb&quot) as fp:
                pickle.dump(state, fp)

       </a> for subset, name in self.log:

            value, minimize = self.get_value(epoch, name, subset, logs=logs)
</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 . overwrite only in case of a restart
        &#47&#47 . include optimizer only every 10 epochs
        <a id="change">keras.models.save_model(self.model, weights_h5,
                                overwrite=self.restart,
                                include_optimizer=(epoch % 10 == 0))</a>

        for subset, name in self.log:

            value, minimize = self.get_value(epoch, name, subset, logs=logs)</code></pre><img src="314084411.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/pyannote/pyannote-audio/commit/e81f54bb33f4a41c2ebdfdda41e5d70b52c32c87#diff-b95b0b45317c25911162aec7df048f6c65932654a8661dedc033442173fc14b5L135' target='_blank'>Link</a></div><div id='project'> Project Name: pyannote/pyannote-audio</div><div id='commit'> Commit Name: e81f54bb33f4a41c2ebdfdda41e5d70b52c32c87</div><div id='time'> Time: 2017-05-05</div><div id='author'> Author: bredin@limsi.fr</div><div id='file'> File Name: pyannote/audio/callback.py</div><div id='class'> Class Name: LoggingCallback</div><div id='method'> Method Name: on_epoch_end</div><BR><BR><div id='link'><a href='https://github.com/lcswillems/torch-rl/commit/907a86e9c4af4ad476c9d4a7201f87f01b835f0d#diff-ed183d67207df065a11e1289f19d34cc2abbc5448dea952683cfe9728c342b95L15' target='_blank'>Link</a></div><div id='project'> Project Name: lcswillems/torch-rl</div><div id='commit'> Commit Name: 907a86e9c4af4ad476c9d4a7201f87f01b835f0d</div><div id='time'> Time: 2018-04-14</div><div id='author'> Author: lcswillems@gmail.com</div><div id='file'> File Name: train.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/automl/auto-sklearn/commit/838f3aa207070d7f8f02f529a5f45076e0caab66#diff-ab770e79e22b6051b0b0be9ac00ba5ff59fc846f2e5252dc768c337c99c53ac2L82' target='_blank'>Link</a></div><div id='project'> Project Name: automl/auto-sklearn</div><div id='commit'> Commit Name: 838f3aa207070d7f8f02f529a5f45076e0caab66</div><div id='time'> Time: 2015-10-01</div><div id='author'> Author: feurerm@informatik.uni-freiburg.de</div><div id='file'> File Name: autosklearn/cli/base_interface.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: make_mode_holdout</div><BR>