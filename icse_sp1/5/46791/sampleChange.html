<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        return likelihood(node, evidence)

    node_expectations = {<a id="change">type(leaf)</a>: leaf_expectation <a id="change">for</a> leaf in get_nodes_by_type(marg_spn, Leaf)}
    node_expectations.update({Sum: lambda x, c, input, dtype: sum_expectation(x, c, input, moment=moment, dtype=dtype),
                              Product: lambda x, c, input, dtype: prod_expectation(x, c, input, moment=moment, dtype=dtype)})
</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 if we have evidence, we want to compute the conditional expectation
    else:
        <a id="change">raise NotImplementedError(&quotPlease use a conditional SPN to calculated conditional expectations&quot)</a>

    return expectation

</code></pre>