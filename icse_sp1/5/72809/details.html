<html><h3>114c77e248d76291559b647d08e5dde10bcdbdde,describe/descriptors/sinematrix.py,SineMatrix,sine_matrix,#SineMatrix#Any#,47
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
        &#47&#47 Cell and inverse cell
        B = system.lattice._matrix
        <a id="change">B_inv = system.lattice.inv_matrix</a>

        &#47&#47 Difference vectors in tensor 3D-tensor-form
        diff_tensor = system.displacement_tensor

        &#47&#47 Calculate phi
        arg_to_sin = np.pi * np.dot(diff_tensor, B_inv)
        phi = np.linalg.norm(np.dot(np.sin(arg_to_sin)**2, B), axis=2)

        with np.errstate(divide=&quotignore&quot):
            phi = np.reciprocal(phi)

        &#47&#47 Calculate Z_i*Z_j
        q = system.charges
        qiqj = q[None, :]*q[:, None]

        &#47&#47 Multiply by charges
        smat = qiqj*phi

        &#47&#47 Set diagonal
        np.fill_diagonal(smat, 0.5 * q ** 2.4)

        &#47&#47 Pad with zeros
        zeros = np.zeros((self.n_atoms_max, self.n_atoms_max))
        <a id="change">zeros[:smat.shape[0], :smat.shape[1]]</a> = smat
        smat = zeros

        return smat</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Calculate Z_i*Z_j
        q = system.get_initial_charges()
        qiqj = q[None, :]*q[:, None]
        <a id="change">np.fill_diagonal(phi, 0)</a>

        &#47&#47 Multiply by charges
        smat = qiqj*phi
</code></pre><img src="330271375.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/SINGROUP/dscribe/commit/114c77e248d76291559b647d08e5dde10bcdbdde#diff-52bea91e7c1235d11b2a1d6158377ed85dfd59bebc9ae4029f0eac7553d5393bL47' target='_blank'>Link</a></div><div id='project'> Project Name: SINGROUP/dscribe</div><div id='commit'> Commit Name: 114c77e248d76291559b647d08e5dde10bcdbdde</div><div id='time'> Time: 2017-08-06</div><div id='author'> Author: lauri.himanen@aalto.fi</div><div id='file'> File Name: describe/descriptors/sinematrix.py</div><div id='class'> Class Name: SineMatrix</div><div id='method'> Method Name: sine_matrix</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/99fe730f9963f87aaf5d614bb74d60fc3d8e8173#diff-9e67e332fc70536619b49b9571c5663696fcc02bfb61cb56405218a0c7bfe97fL48' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 99fe730f9963f87aaf5d614bb74d60fc3d8e8173</div><div id='time'> Time: 2015-11-08</div><div id='author'> Author: arokem@gmail.com</div><div id='file'> File Name: examples/connectivity/plot_probabilistic_atlas_extraction.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/99fe730f9963f87aaf5d614bb74d60fc3d8e8173#diff-4b4d63c11fad65714adb3181c2c330c5b804cb76ab670e55f24c6be71f3c185eL49' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 99fe730f9963f87aaf5d614bb74d60fc3d8e8173</div><div id='time'> Time: 2015-11-08</div><div id='author'> Author: arokem@gmail.com</div><div id='file'> File Name: examples/connectivity/plot_signal_extraction.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/SINGROUP/dscribe/commit/114c77e248d76291559b647d08e5dde10bcdbdde#diff-01f3c57bfb1be400179795003633ec95577a812382cf7275f81f1828a05fe515L43' target='_blank'>Link</a></div><div id='project'> Project Name: SINGROUP/dscribe</div><div id='commit'> Commit Name: 114c77e248d76291559b647d08e5dde10bcdbdde</div><div id='time'> Time: 2017-08-06</div><div id='author'> Author: lauri.himanen@aalto.fi</div><div id='file'> File Name: describe/descriptors/coulombmatrix.py</div><div id='class'> Class Name: CoulombMatrix</div><div id='method'> Method Name: coulomb_matrix</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/d5af4c37893a7ead45a966eb89a3e4018a97e556#diff-3861b8638d8c1d416da7309700a288882db5e348472ab39b134ea5b1007977b8L204' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: d5af4c37893a7ead45a966eb89a3e4018a97e556</div><div id='time'> Time: 2015-10-06</div><div id='author'> Author: sb238920@is223297.intra.cea.fr</div><div id='file'> File Name: nilearn/connectivity/connectivity_matrices.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: sym_to_vec</div><BR>