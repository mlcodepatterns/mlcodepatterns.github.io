<html><h3>bafaa5003229ac5232cc9a19da05ddb16c18d374,scanpy/tests/test_score_genes.py,,test_add_score,#,6
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 TODO: write a test that costs less resources and is more meaningful
    adata = AnnData(np.random.randint(0, 1000, 100000).reshape((100, 1000)))
    gene_names = np.array(
        [&quot&quot.join(map(chr, np.random.randint(65, 90, 6))) <a id="change">for</a> _ in <a id="change">range(2000)</a>]
    )
    adata.var_names = gene_names[:1000]
    sc.pp.normalize_per_cell(adata, counts_per_cell_after=1e4)</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 create some non-estinsting names with 7 letters:
    non_existing_genes = _create_random_gene_names(n_genes=3, name_length=7)
    some_genes = np.r_[
        np.unique(<a id="change">np.random.choice(adata.var_names, 10)</a>), np.unique(non_existing_genes)
    ]
    sc.tl.score_genes(adata, some_genes, score_name=&quotTest&quot)
    assert adata.obs[&quotTest&quot].dtype == &quotfloat32&quot</code></pre><img src="330871756.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/bafaa5003229ac5232cc9a19da05ddb16c18d374#diff-670c26c94cf82bb20b9779b009179e7129671e0b2bd90d55ff2bfc51c8e8229dL8' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: bafaa5003229ac5232cc9a19da05ddb16c18d374</div><div id='time'> Time: 2020-05-13</div><div id='author'> Author: mstrasse@systemsbiology.org</div><div id='file'> File Name: scanpy/tests/test_score_genes.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_add_score</div><BR><BR><div id='link'><a href='https://github.com/mne-tools/mne-python/commit/676ed97f4500511b1dca88ecb1f1ee25dc705d19#diff-1d8c720f91aafcce16741ed2e9bc37566281adaae869d906156a7f60460972eeL301' target='_blank'>Link</a></div><div id='project'> Project Name: mne-tools/mne-python</div><div id='commit'> Commit Name: 676ed97f4500511b1dca88ecb1f1ee25dc705d19</div><div id='time'> Time: 2020-04-30</div><div id='author'> Author: larson.eric.d@gmail.com</div><div id='file'> File Name: mne/forward/tests/test_make_forward.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_forward_mixed_source_space</div><BR><BR><div id='link'><a href='https://github.com/mne-tools/mne-python/commit/676ed97f4500511b1dca88ecb1f1ee25dc705d19#diff-9780820dae3ce6ea1e7ee94b8868732d6451894fc113233418ae2ca564f9a4b1L648' target='_blank'>Link</a></div><div id='project'> Project Name: mne-tools/mne-python</div><div id='commit'> Commit Name: 676ed97f4500511b1dca88ecb1f1ee25dc705d19</div><div id='time'> Time: 2020-04-30</div><div id='author'> Author: larson.eric.d@gmail.com</div><div id='file'> File Name: mne/tests/test_source_space.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_combine_source_spaces</div><BR>