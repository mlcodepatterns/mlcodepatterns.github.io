<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    to_shape = tf_utils.get_shape_list(to_mask, expected_rank=2)
    to_seq_length = to_shape[1]

    <a id="change">to_mask = tf.cast(
        tf.reshape(to_mask, [batch_size, 1, to_seq_length]),
        dtype=from_tensor.dtype)</a>

    &#47&#47 We don&quott assume that `from_tensor` is a mask (although it could be). We
    &#47&#47 don&quott actually care if we attend *from* padding tokens (only *to* padding)
    &#47&#47 tokens so we create a tensor of all ones.</code></pre><h3>After Change</h3><pre><code class='java'>
  

  def call(self, inputs):
    <a id="change">if isinstance(inputs, list):
      return super().call(inputs[0], inputs[1])
    else:
      return super().call(inputs)</a>
</code></pre>