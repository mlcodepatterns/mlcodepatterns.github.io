<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

            new_cluster = Cluster()
            with self._lock:
                <a id="change">if self._ranks is None:
                    self._ranks = ranks
                    self._cluster.from_json(ranks)
                    &#47&#47logger.info("clusters:{}".format(self._cluster))
                    continue

               </a> if not self._is_cluster_changed(self._ranks, ranks):
                    time.sleep(1)
                    continue
</code></pre><h3>After Change</h3><pre><code class='java'>

            with self._lock:
                &#47&#47 update the cluster info.
                <a id="change">self._cluster = copy.copy(self._new_cluster)</a>

            time.sleep(3)

    @property</code></pre>