<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            return
            
        &#47&#47 determine which embedding file we need to delete
        <a id="change">model_metadata.load(lang_code+"-"+str(version))</a>
        embeddings_file_to_delete = model_metadata.embeddings_file_name
        
        &#47&#47 delete the model
        import shutil</code></pre><h3>After Change</h3><pre><code class='java'>
        found_in_other_models = False
        lang_models = self._list_folders() 
        for lang_model in lang_models:                        
            <a id="change">metadata_file_path = os.path.join(self.disk_path, lang_model, "metadata.json")</a>
            <a id="change">if not os.path.exists(metadata_file_path):
                continue &#47&#47 this is not a model folder, so skip it            
           </a> model_metadata.read(os.path.join(self.disk_path, lang_model, "metadata.json"))
            other_embeddings_file = model_metadata.embeddings_file_name
            if other_embeddings_file == embeddings_file_to_delete:
                found_in_other_models = True</code></pre>