<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 A bandaid fix to an issue with gradcam
        if im.shape[0] == 3 and np.max(im) == 1:
            im = im.transpose(1, 2, 0) * 255
        elif <a id="change">im</a>.shape[0] == 3 and np.max(im) &gt; 1:
            im = im.transpose(1, 2, 0)
        im = Image.fromarray(im.astype(np.uint8))
    im.save(path)</code></pre><h3>After Change</h3><pre><code class='java'>
        im_as_arr (Numpy array): Matrix of shape DxWxH
        path (str): Path to the image
    
    <a id="change">if isinstance(im, (np.ndarray, np.generic)):
        im = format_np_output(im)
        im = Image.fromarray(im)
   </a> im.save(path)


def preprocess_image(pil_im, resize_im=True):</code></pre>