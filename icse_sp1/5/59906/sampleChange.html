<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        from skimage.exposure import match_histograms

        if random.random() &lt; self.p:
            reference_image = <a id="change">cv2.resize(reference_image, dsize=(img.shape[1], img.shape[0]))</a>
            matched = match_histograms(img, reference_image, multichannel=True)
            img = cv2.addWeighted(matched, blend_ratio, img, 1 - blend_ratio, 0)

        <a id="change">return img</a>

    def get_params(self):
        return {
            "reference_image": self.read_fn(random.choice(self.reference_images)),</code></pre><h3>After Change</h3><pre><code class='java'>
        self.blend_ratio = blend_ratio

    def apply(self, img, reference_image=None, blend_ratio=0.5, **params):
        <a id="change">return apply_histogram(img, reference_image, blend_ratio)</a>

    def get_params(self):
        return {
            "reference_image": self.read_fn(random.choice(self.reference_images)),</code></pre>