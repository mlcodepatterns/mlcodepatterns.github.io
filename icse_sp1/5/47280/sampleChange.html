<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    metric_keys = set([])
    for obj in objects:
        last_metric = obj.pop(&quotlast_metric&quot, {}) or {}
        metric_keys |= <a id="change">set(six.iterkeys(last_metric))</a>
        obj.update(last_metric)

    &#47&#47 Check that all obj have all metrics
    &#47&#47 TODO: optimize this process</code></pre><h3>After Change</h3><pre><code class='java'>


def get_experiments_with_metrics(response):
    <a id="change">return get_experiments_with_params(response=response,
                                       params_key=&quotlast_metric&quot,
                                       extra_attrs=[&quottotal_run&quot])</a>


def get_experiments_with_declarations(response):
    return get_experiments_with_params(response=response, params_key=&quotdeclarations&quot)</code></pre>