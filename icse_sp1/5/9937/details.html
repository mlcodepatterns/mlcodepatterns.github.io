<html><h3>7391aec984c1e9e0899d51e6b0538483c37ec8fb,torchdiffeq/_impl/tsit5.py,Tsit5Solver,_adaptive_tsit5_step,#Tsit5Solver#Any#,114
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if on_grid and accept_step:
            &#47&#47 We&quotve just passed a grid point, which is typically used to indicate a discontinuity in f; we should
            &#47&#47 update f to match the side of the discontinuity we&quotre now on.
            <a id="change">f1 = self.func(t_next, y_next)</a>
            if self.next_grid_index != len(self.grid_points) - 1:
                self.next_grid_index += 1
        f_next = f1 if accept_step else f0
        dt_next = _optimal_step_size(dt, mean_error_ratio, self.safety, self.ifactor, self.dfactor, order=5)</code></pre><h3>After Change</h3><pre><code class='java'>
        t_next = t0 + dt + 2 * eps if accept_step else t0
        y_next = y1 if accept_step else y0
        if on_grid and accept_step:
            <a id="change">if eps != 0:
                &#47&#47 We&quotve just passed a discontinuity in f; we should update f1 to match the side of the discontinuity
                &#47&#47 we&quotre now on.
                f1 = self.func(t_next.type_as(y_next[0]), y_next)
           </a> if self.next_grid_index != len(self.grid_points) - 1:
                self.next_grid_index += 1
        f_next = f1 if accept_step else f0
        dt_next = _optimal_step_size(dt, mean_error_ratio, self.safety, self.ifactor, self.dfactor)</code></pre><img src="68175591.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rtqichen/torchdiffeq/commit/7391aec984c1e9e0899d51e6b0538483c37ec8fb#diff-e73a72505e7255a60f3cfdb582d0d0c572a73333002fa288e04858bca19f2cffL110' target='_blank'>Link</a></div><div id='project'> Project Name: rtqichen/torchdiffeq</div><div id='commit'> Commit Name: 7391aec984c1e9e0899d51e6b0538483c37ec8fb</div><div id='time'> Time: 2020-07-27</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchdiffeq/_impl/tsit5.py</div><div id='class'> Class Name: Tsit5Solver</div><div id='method'> Method Name: _adaptive_tsit5_step</div><BR><BR><div id='link'><a href='https://github.com/deepfakes/faceswap/commit/343392813338ae7b10b0a3bbb3b5a9a7da6e588d#diff-38e54a695735d7eab72dd2e5bb2f77546002f08cf8d1a1a440b8d9c52f403dc2L608' target='_blank'>Link</a></div><div id='project'> Project Name: deepfakes/faceswap</div><div id='commit'> Commit Name: 343392813338ae7b10b0a3bbb3b5a9a7da6e588d</div><div id='time'> Time: 2020-08-27</div><div id='author'> Author: 36920800+torzdf@users.noreply.github.com</div><div id='file'> File Name: lib/model/losses_plaid.py</div><div id='class'> Class Name: LossWrapper</div><div id='method'> Method Name: __call__</div><BR><BR><div id='link'><a href='https://github.com/rtqichen/torchdiffeq/commit/ea0eba4488a9f84adbae44d847f17254dc6171a1#diff-e73a72505e7255a60f3cfdb582d0d0c572a73333002fa288e04858bca19f2cffL110' target='_blank'>Link</a></div><div id='project'> Project Name: rtqichen/torchdiffeq</div><div id='commit'> Commit Name: ea0eba4488a9f84adbae44d847f17254dc6171a1</div><div id='time'> Time: 2020-07-26</div><div id='author'> Author: 33688385+patrick-kidger@users.noreply.github.com</div><div id='file'> File Name: torchdiffeq/_impl/tsit5.py</div><div id='class'> Class Name: Tsit5Solver</div><div id='method'> Method Name: _adaptive_tsit5_step</div><BR><BR><div id='link'><a href='https://github.com/Ambrosys/glyph/commit/89abe76991f3204a8b81930d870825b94819c10c#diff-64555293a5fd79d6a3ec42abc8be5e4dc8bb9e4dd0ecaa947a4f060e706019efL69' target='_blank'>Link</a></div><div id='project'> Project Name: Ambrosys/glyph</div><div id='commit'> Commit Name: 89abe76991f3204a8b81930d870825b94819c10c</div><div id='time'> Time: 2017-01-03</div><div id='author'> Author: mquade@uni-potsdam.de</div><div id='file'> File Name: examples/remote/experiment.py</div><div id='class'> Class Name: Experiment</div><div id='method'> Method Name: __call__</div><BR>