<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            _panic_type,
            EVL_CONTROLLER.alarm_state[&quotpartition&quot][part_num],
            EVL_CONTROLLER)
        add_devices(<a id="change">[_device]</a>)

    return True
</code></pre><h3>After Change</h3><pre><code class='java'>
    add_devices(DEVICES)

    &#47&#47 Register Envisalink specific services
    <a id="change">descriptions = load_yaml_config_file(
        path.join(path.dirname(__file__), &quotservices.yaml&quot))</a>

    <a id="change">hass.services.register(alarm.DOMAIN, SERVICE_ALARM_KEYPRESS,
                           alarm_keypress_handler,
                           descriptions.get(SERVICE_ALARM_KEYPRESS),
                           schema=ALARM_KEYPRESS_SCHEMA)</a>
    return True


class EnvisalinkAlarm(EnvisalinkDevice, alarm.AlarmControlPanel):</code></pre>