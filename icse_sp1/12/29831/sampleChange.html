<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.strength = 0

    def to_query(self):
        <a id="change">if 0 == self.strength:
            query = super().to_query()
        else:
            phrase = choice(self.phrase_cache)
            ok_distance = self.max_strength - self.strength
            line_no = phrase[&quotline_no&quot]
            query = {&quotsource&quot: phrase[&quotsource&quot],
                     &quot$where&quot: self.where_clause_tmpl.format(line_no, ok_distance),}

       </a> return query

class FuzzyKeywordRule(KeywordRule):
    def to_query(self):</code></pre><h3>After Change</h3><pre><code class='java'>
            self.strength = 0

    def to_query(self):
        <a id="change">if 0 == self.strength:
            return super().to_query()

        &#47&#47 TODO
       </a> raise NotImplementedError()

        <a id="change">phrase = choice(self.phrase_cache)</a>
        ok_distance = self.max_strength - self.strength
        line_no = phrase[&quotline_no&quot]
        query = {&quotsource&quot: phrase[&quotsource&quot],
                 &quot$where&quot: self.where_clause_tmpl.format(line_no, ok_distance),}</code></pre>