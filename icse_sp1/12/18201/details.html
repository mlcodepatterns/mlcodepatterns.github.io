<html><h3>145105e5dd84ca537b3eb5893fbe309edc497655,scripts/2015_nips_paper/run_with_metalearning.py,,main,#Any#Any#Any#Any#Any#,37
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    &#47&#47 We need to get task type, metric, is_sparse_or_dense information to
    &#47&#47 construct the path to the specific metadata directory. For details see
    &#47&#47 get_metalearning_suggestion() in smbo.py.
    TASK_TYPES_TO_STRING = <a id="change">{  &#47&#47 Mimic the same dict in autosklearn.constants
        &quotbinary&quot: &quotbinary.classification&quot,
        &quotmulticlass&quot: &quotmulticlass.classification&quot,
    }</a>
    task_type = type_of_target(y_train)
    <a id="change">metadata_for_this_task = os.path.abspath(
        os.path.join(working_directory,
                     "metadata_%i/balanced_accuracy_%s_%s" % (task_id,
                                                              TASK_TYPES_TO_STRING[task_type],
                                                              sparse_or_dense)))</a>

    configuration_output_dir = os.path.join(working_directory, str(seed))
    tmp_dir = os.path.join(configuration_output_dir, str(task_id))
    try:</code></pre><h3>After Change</h3><pre><code class='java'>
                    metric=balanced_accuracy,
                    )

    <a id="change">with open(os.path.join(tmp_dir, "score_metalearning.csv"), &quotw&quot) as fh:
        T = 0
        fh.write("Time,Train Performance,Test Performance\n")
        &#47&#47 Add start time:0, Train Performance:1, Test Performance: 1
        fh.write("{0},{1},{2}\n".format(T, 1, 1))
        for t, dummy, s in zip(automl.cv_results_[&quotmean_fit_time&quot],
                               [1 for i in range(len(automl.cv_results_[&quotmean_fit_time&quot]))],
                               1 - automl.cv_results_["mean_test_score"]):  &#47&#47 We compute rank based on error.
            T += t
            fh.write("{0},{1},{2}\n".format(T, dummy, s))


</a>if __name__=="__main__":
    parser = argparse.ArgumentParser()
    parser.add_argument(&quot--working-directory&quot, type=str, required=True)
    parser.add_argument(&quot--time-limit&quot, type=int, required=True)</code></pre><img src="101834688.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/automl/auto-sklearn/commit/145105e5dd84ca537b3eb5893fbe309edc497655#diff-af5817967fd41e137ff0248eb4eeec8c499ae88f781cb245a95dec2974c2b59dL46' target='_blank'>Link</a></div><div id='project'> Project Name: automl/auto-sklearn</div><div id='commit'> Commit Name: 145105e5dd84ca537b3eb5893fbe309edc497655</div><div id='time'> Time: 2019-02-21</div><div id='author'> Author: ahn1340@hotmail.com</div><div id='file'> File Name: scripts/2015_nips_paper/run_with_metalearning.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: main</div><BR><BR><div id='link'><a href='https://github.com/automl/auto-sklearn/commit/b8b9b6d34d35671fb8651f40503d51fc72477128#diff-af5817967fd41e137ff0248eb4eeec8c499ae88f781cb245a95dec2974c2b59dL46' target='_blank'>Link</a></div><div id='project'> Project Name: automl/auto-sklearn</div><div id='commit'> Commit Name: b8b9b6d34d35671fb8651f40503d51fc72477128</div><div id='time'> Time: 2019-03-13</div><div id='author'> Author: ahn1340@hotmail.com</div><div id='file'> File Name: scripts/2015_nips_paper/run_with_metalearning.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: main</div><BR><BR><div id='link'><a href='https://github.com/ilastik/ilastik/commit/b261f6e44d93d4a9d767d81add53f0f9071a42bb#diff-c052212f82e9cf9186665adf14aeccb5477bb1ea26f963abb4fcca1789acd193L131' target='_blank'>Link</a></div><div id='project'> Project Name: ilastik/ilastik</div><div id='commit'> Commit Name: b261f6e44d93d4a9d767d81add53f0f9071a42bb</div><div id='time'> Time: 2014-07-22</div><div id='author'> Author: bergs@janelia.hhmi.org</div><div id='file'> File Name: lazyflow/utility/io/tiledVolume.py</div><div id='class'> Class Name: TiledVolume</div><div id='method'> Method Name: _retrieve_tile</div><BR>