<html><h3>45aa2015b2941adaa9b47a058fd6f4caf2e13f34,snorkel/features.py,SessionFeaturizer,load,#SessionFeaturizer#Any#Any#,68
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        for f in self.load_feats(session, candidate_set):

            &#47&#47 Map the Candidate.id -&gt; row index i
            <a id="change">cid = f.candidate_id</a>
            <a id="change">if not c_index.has_key(cid):
                c_index[cid] = len(c_index)
           </a> <a id="change">i = c_index[cid]</a>

            &#47&#47 Add to matrix
            if self.feat_index.has_key(f.name):
                F[i,self.feat_index[f.name]] = 1</code></pre><h3>After Change</h3><pre><code class='java'>
        where F[i,j] \in {0,1} indicates whether the ith candidate has the jth feature.
        
        &#47&#47 First, we need a mapping from cid -&gt; row number
        <a id="change">c_index</a> = self.get_cid_map(session, candidate_set)

        &#47&#47 Next, fit the candidate set to the existing feature space in self.feat_index
        F = sparse.lil_matrix((len(candidate_set), len(self.feat_index.keys())))
        for f in self.load_feats(session, candidate_set):
            if self.feat_index.has_key(f.name):
                F[<a id="change">c_index[f.candidate_id]</a>, self.feat_index[f.name]] = 1
        return F.tocsr()

</code></pre><img src="206719506.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/snorkel-team/snorkel/commit/45aa2015b2941adaa9b47a058fd6f4caf2e13f34#diff-54d1785da1327d7e50b31f5585d9a35d2b56571d85a15f65ee5db341e5bdebe5L68' target='_blank'>Link</a></div><div id='project'> Project Name: snorkel-team/snorkel</div><div id='commit'> Commit Name: 45aa2015b2941adaa9b47a058fd6f4caf2e13f34</div><div id='time'> Time: 2016-08-14</div><div id='author'> Author: ajratner@gmail.com</div><div id='file'> File Name: snorkel/features.py</div><div id='class'> Class Name: SessionFeaturizer</div><div id='method'> Method Name: load</div><BR><BR><div id='link'><a href='https://github.com/snorkel-team/snorkel/commit/45aa2015b2941adaa9b47a058fd6f4caf2e13f34#diff-54d1785da1327d7e50b31f5585d9a35d2b56571d85a15f65ee5db341e5bdebe5L42' target='_blank'>Link</a></div><div id='project'> Project Name: snorkel-team/snorkel</div><div id='commit'> Commit Name: 45aa2015b2941adaa9b47a058fd6f4caf2e13f34</div><div id='time'> Time: 2016-08-14</div><div id='author'> Author: ajratner@gmail.com</div><div id='file'> File Name: snorkel/features.py</div><div id='class'> Class Name: SessionFeaturizer</div><div id='method'> Method Name: load_and_fit</div><BR><BR><div id='link'><a href='https://github.com/CellProfiler/CellProfiler/commit/c65430b778f645fb8bc5ff81f08d8cf8c547a52d#diff-8acb0a4475d59d1d25799f9c67c5563e1f774cbbfbc62491799a097bb31f4047L258' target='_blank'>Link</a></div><div id='project'> Project Name: CellProfiler/CellProfiler</div><div id='commit'> Commit Name: c65430b778f645fb8bc5ff81f08d8cf8c547a52d</div><div id='time'> Time: 2009-10-16</div><div id='author'> Author: thouis@1fc53939-2000-0410-845c-e8453a809027</div><div id='file'> File Name: pyCellProfiler/cellprofiler/modules/measureimagequality.py</div><div id='class'> Class Name: MeasureImageQuality</div><div id='method'> Method Name: test_valid</div><BR>