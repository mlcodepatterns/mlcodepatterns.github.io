<html><h3>f0697e182f4ddb4bbbf853af9328ad61e4ecef02,pyemma/_version.py,,versions_from_parentdir,#Any#Any#Any#,103
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    Source tarballs conventionally unpack into a directory that includes
    both the project name and a version string.
    
    <a id="change">dirname = os.path.basename(root)</a>
    <a id="change">if not dirname.startswith(parentdir_prefix):
        if verbose:
            print("guessing rootdir is &quot%s&quot, but &quot%s&quot doesn&quott start with "
                  "prefix &quot%s&quot" % (root, dirname, parentdir_prefix))
        raise NotThisMethod("rootdir doesn&quott start with parentdir_prefix")
   </a> <a id="change">return {"version": dirname[len(parentdir_prefix):],
            "full-revisionid": None,
            "dirty": False, "error": None}</a>


@register_vcs_handler("git", "get_keywords")
def git_get_keywords(versionfile_abs):</code></pre><h3>After Change</h3><pre><code class='java'>
    the project name and a version string. We will also support searching up
    two directory levels for an appropriately named parent directory
    
    <a id="change">rootdirs = []</a>

    <a id="change">for i in range(3):
        dirname = os.path.basename(root)
        if dirname.startswith(parentdir_prefix):
            return {"version": dirname[len(parentdir_prefix):],
                    "full-revisionid": None,
                    "dirty": False, "error": None, "date": None}
        else:
            rootdirs.append(root)
            root = os.path.dirname(root)  &#47&#47 up a level

   </a> <a id="change">if verbose:
        print("Tried directories %s but none started with prefix %s" %
              (str(rootdirs), parentdir_prefix))
   </a> raise NotThisMethod("rootdir doesn&quott start with parentdir_prefix")


@register_vcs_handler("git", "get_keywords")</code></pre><img src="265861032.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 22</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/markovmodel/PyEMMA/commit/f0697e182f4ddb4bbbf853af9328ad61e4ecef02#diff-de600809ce30c26414936b3c063f2159b66ae0c1d4322f49a90f85ccc89a70ffL109' target='_blank'>Link</a></div><div id='project'> Project Name: markovmodel/PyEMMA</div><div id='commit'> Commit Name: f0697e182f4ddb4bbbf853af9328ad61e4ecef02</div><div id='time'> Time: 2017-11-06</div><div id='author'> Author: m.scherer@fu-berlin.de</div><div id='file'> File Name: pyemma/_version.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: versions_from_parentdir</div><BR><BR><div id='link'><a href='https://github.com/bokeh/bokeh/commit/e9527915f88c9495017543a344766189d7412c51#diff-18304872b75eda292f2b72a449de58182604394b8df4051c42205bb4a005a245L430' target='_blank'>Link</a></div><div id='project'> Project Name: bokeh/bokeh</div><div id='commit'> Commit Name: e9527915f88c9495017543a344766189d7412c51</div><div id='time'> Time: 2017-01-11</div><div id='author'> Author: azpujps@gmail.com</div><div id='file'> File Name: versioneer.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: versions_from_parentdir</div><BR><BR><div id='link'><a href='https://github.com/has2k1/plotnine/commit/76a3a0f60c1f837ed75e5783b49c241490920edd#diff-90b7904932537ec19695c638805b8b71acd1b0cd555d64f9a6a82d16fcc52c3bL109' target='_blank'>Link</a></div><div id='project'> Project Name: has2k1/plotnine</div><div id='commit'> Commit Name: 76a3a0f60c1f837ed75e5783b49c241490920edd</div><div id='time'> Time: 2017-01-28</div><div id='author'> Author: has2k1@gmail.com</div><div id='file'> File Name: plotnine/_version.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: versions_from_parentdir</div><BR>