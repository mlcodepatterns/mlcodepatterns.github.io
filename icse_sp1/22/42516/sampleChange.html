<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
parser = argparse.ArgumentParser(description=&quotDownloads and processes Mozilla Common Voice dataset.&quot)
parser.add_argument("--target-dir", default=&quotCommonVoice_dataset/&quot, type=str, help="Directory to store the dataset.")
parser.add_argument("--tar-path", type=str, help="Path to the Common Voice *.tar file if downloaded (Optional).")
<a id="change">parser.add_argument(&quot--sample-rate&quot, default=16000, type=int, help=&quotSample rate&quot)</a>
<a id="change">parser.add_argument(&quot--min-duration&quot, default=1, type=int,
                    help=&quotPrunes training samples shorter than the min duration (given in seconds, default 1)&quot)</a>
<a id="change">parser.add_argument(&quot--max-duration&quot, default=15, type=int,
                    help=&quotPrunes training samples longer than the max duration (given in seconds, default 15)&quot)</a>
parser.add_argument(&quot--files-to-process&quot, default="cv-valid-dev.csv,cv-valid-test.csv,cv-valid-train.csv",
                    type=str, help=&quotlist of *.csv file names to process&quot)
args = parser.parse_args()
COMMON_VOICE_URL = "https://common-voice-data-download.s3.amazonaws.com/cv_corpus_v1.tar.gz"</code></pre><h3>After Change</h3><pre><code class='java'>
from deepspeech_pytorch.data.data_opts import add_data_opts
from deepspeech_pytorch.data.utils import create_manifest

<a id="change">parser</a> = argparse.ArgumentParser(description=&quotDownloads and processes Mozilla Common Voice dataset.&quot)
<a id="change">parser = add_data_opts(parser)</a>
parser.add_argument("--target-dir", default=&quotCommonVoice_dataset/&quot, type=str, help="Directory to store the dataset.")
parser.add_argument("--tar-path", type=str, help="Path to the Common Voice *.tar file if downloaded (Optional).")
parser.add_argument(&quot--files-to-process&quot, default="cv-valid-dev.csv,cv-valid-test.csv,cv-valid-train.csv",
                    type=str, help=&quotlist of *.csv file names to process&quot)</code></pre>