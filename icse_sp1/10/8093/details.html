<html><h3>419c5228433c57eda6b324780369c03039781e95,qiskit/aqua/algorithms/single_sample/qpe/qpe.py,QPE,_compute_energy,#QPE#,190
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            top_measurement_label = np.binary_repr(max_amplitude_idx, self._num_ancillae)[::-1]
        else:
            from qiskit import ClassicalRegister
            <a id="change">c_ancilla = ClassicalRegister(self._num_ancillae, name=&quotca&quot)</a>
            <a id="change">qc.add_register(c_ancilla)</a>
            qc.barrier(self._phase_estimation_circuit.ancillary_register)
            <a id="change">qc.measure(self._phase_estimation_circuit.ancillary_register, c_ancilla)</a>
            result = self._quantum_instance.execute(qc)
            ancilla_counts = result.get_counts(qc)
            top_measurement_label = sorted([(ancilla_counts[k], k) for k in ancilla_counts])[::-1][0][-1][::-1]
</code></pre><h3>After Change</h3><pre><code class='java'>

    def _compute_energy(self):
        if self._quantum_instance.is_statevector:
            <a id="change">qc = self.construct_circuit(measurement=False)</a>
            result = self._quantum_instance.execute(qc)
            complete_state_vec = result.get_statevector(qc)
            ancilla_density_mat = get_subsystem_density_matrix(
                complete_state_vec,</code></pre><img src="59375513.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/Qiskit/qiskit-aqua/commit/419c5228433c57eda6b324780369c03039781e95#diff-f647cbe06f2cb797883a0bdd540eb3437d524325641ac8e5e3f7a7eab1769e8bL190' target='_blank'>Link</a></div><div id='project'> Project Name: Qiskit/qiskit-aqua</div><div id='commit'> Commit Name: 419c5228433c57eda6b324780369c03039781e95</div><div id='time'> Time: 2019-04-30</div><div id='author'> Author: shaohan.hu@ibm.com</div><div id='file'> File Name: qiskit/aqua/algorithms/single_sample/qpe/qpe.py</div><div id='class'> Class Name: QPE</div><div id='method'> Method Name: _compute_energy</div><BR><BR><div id='link'><a href='https://github.com/Qiskit/qiskit-aqua/commit/80a45db18cab4f449d6f4e027f6fce6ca7133544#diff-a8d0f990eea500062743f998c6bfa5de9e0e7d61bbe2484f6678e58a75234132L444' target='_blank'>Link</a></div><div id='project'> Project Name: Qiskit/qiskit-aqua</div><div id='commit'> Commit Name: 80a45db18cab4f449d6f4e027f6fce6ca7133544</div><div id='time'> Time: 2019-04-30</div><div id='author'> Author: shaohan.hu@ibm.com</div><div id='file'> File Name: qiskit/aqua/algorithms/single_sample/shor/shor.py</div><div id='class'> Class Name: Shor</div><div id='method'> Method Name: _run</div><BR><BR><div id='link'><a href='https://github.com/Qiskit/qiskit-aqua/commit/179b564a13bf1d864e9b86af84e8973b25eba745#diff-d1c266e78c780cb6727079dca06584320aff3a27ca7c28e55c85f29528f0d0a3L210' target='_blank'>Link</a></div><div id='project'> Project Name: Qiskit/qiskit-aqua</div><div id='commit'> Commit Name: 179b564a13bf1d864e9b86af84e8973b25eba745</div><div id='time'> Time: 2019-04-30</div><div id='author'> Author: shaohan.hu@ibm.com</div><div id='file'> File Name: qiskit/aqua/algorithms/single_sample/grover/grover.py</div><div id='class'> Class Name: Grover</div><div id='method'> Method Name: _run_with_existing_iterations</div><BR><BR><div id='link'><a href='https://github.com/Qiskit/qiskit-aqua/commit/f0cf18a70d896f74f70f24a9a53fa7db7201951a#diff-f22bafb3faaf2ed2acddc6e5a4dead5ec1c2b4aac7a400cfe2ccab2d39661f94L222' target='_blank'>Link</a></div><div id='project'> Project Name: Qiskit/qiskit-aqua</div><div id='commit'> Commit Name: f0cf18a70d896f74f70f24a9a53fa7db7201951a</div><div id='time'> Time: 2019-04-30</div><div id='author'> Author: shaohan.hu@ibm.com</div><div id='file'> File Name: qiskit/aqua/algorithms/single_sample/iterative_qpe/iqpe.py</div><div id='class'> Class Name: IQPE</div><div id='method'> Method Name: _estimate_phase_iteratively</div><BR>