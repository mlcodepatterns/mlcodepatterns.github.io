<html><h3>e4145e615afe2540b3bd3787e013e0f6e57f68e9,scanpy/preprocessing/simple.py,,pca,#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#,310
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        adata = data.copy() if copy else data
        from .. import settings as sett  &#47&#47 why is this necessary?
        if (&quotX_pca&quot in adata.smp
            and <a id="change">adata</a>.smp[<a id="change">&quotX_pca&quot</a>].shape[1] &gt;= n_comps
            and not recompute
            and (sett.recompute == &quotnone&quot or sett.recompute == &quotpp&quot)):
            logg.m(&quot    not recomputing PCA, using "X_pca" contained &quot
                   &quotin `adata.smp` (set `recompute=True` to avoid this)&quot, v=4)
            return adata
        else:
            logg.m(&quotcompute PCA with n_comps =&quot, n_comps, r=True, v=4)
            result = pca(adata.X, n_comps=n_comps, zero_center=zero_center,
                         svd_solver=svd_solver, random_state=random_state,
                         recompute=recompute, mute=mute, return_info=True)
            X_pca, components, pca_variance_ratio = result
            <a id="change">adata.smp[&quotX_pca&quot]</a> = X_pca  &#47&#47 this is multicolumn-sample annotation
            for icomp, comp in enumerate(components):
                adata.var[&quotPC&quot + str(icomp+1)] = comp
            adata.add[&quotpca_variance_ratio&quot] = pca_variance_ratio</code></pre><h3>After Change</h3><pre><code class='java'>
         Ratio of explained variance.
    
    if isinstance(data, AnnData):
        <a id="change">adata</a> = data.copy() if copy else data
        from .. import settings as sett  &#47&#47 why is this necessary?
        if (&quotX_pca&quot in adata.smp
            and <a id="change">adata</a>.get_multicol_field_smp(<a id="change">&quotX_pca&quot</a>).shape[1] &gt;= n_comps
            and not recompute
            and (sett.recompute == &quotnone&quot or sett.recompute == &quotpp&quot)):
            logg.m(&quot    not recomputing PCA, using "X_pca" contained &quot</code></pre><img src="150255780.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/e4145e615afe2540b3bd3787e013e0f6e57f68e9#diff-a6078259d9244e6f36269efa74988d4eb23658be133770d3f6726488d96b2a6fL357' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: e4145e615afe2540b3bd3787e013e0f6e57f68e9</div><div id='time'> Time: 2017-11-10</div><div id='author'> Author: f.alex.wolf@gmx.de</div><div id='file'> File Name: scanpy/preprocessing/simple.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: pca</div><BR><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/e4145e615afe2540b3bd3787e013e0f6e57f68e9#diff-f81dcee7cd81d69a2a2b24454a80f01aace9e847d211732701357419c94d2cb5L64' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: e4145e615afe2540b3bd3787e013e0f6e57f68e9</div><div id='time'> Time: 2017-11-10</div><div id='author'> Author: f.alex.wolf@gmx.de</div><div id='file'> File Name: scanpy/tools/tsne.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: tsne</div><BR><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/e4145e615afe2540b3bd3787e013e0f6e57f68e9#diff-38a7ca1b367f4c476a56fbb5cce48ba5ddff825f694693733ea8480bbdaa63b8L239' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: e4145e615afe2540b3bd3787e013e0f6e57f68e9</div><div id='time'> Time: 2017-11-10</div><div id='author'> Author: f.alex.wolf@gmx.de</div><div id='file'> File Name: scanpy/data_structs/data_graph.py</div><div id='class'> Class Name: DataGraph</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/e4145e615afe2540b3bd3787e013e0f6e57f68e9#diff-a6078259d9244e6f36269efa74988d4eb23658be133770d3f6726488d96b2a6fL357' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: e4145e615afe2540b3bd3787e013e0f6e57f68e9</div><div id='time'> Time: 2017-11-10</div><div id='author'> Author: f.alex.wolf@gmx.de</div><div id='file'> File Name: scanpy/preprocessing/simple.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: pca</div><BR>