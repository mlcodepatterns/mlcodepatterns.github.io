<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        self.file_writer = FileWriter(logdir=log_dir, **kwargs)
        v = 1E-12
        buckets = []
        <a id="change">neg_buckets = []</a>
        while v &lt; 1E20:
            buckets.append(v)
            neg_buckets.append(-v)
            v *= 1.1</code></pre><h3>After Change</h3><pre><code class='java'>
        self.scalar_dict = {}  &#47&#47 {writer_id : [[timestamp, step, value],...],...}

        &#47&#47 TODO (ml7): Remove try-except when PyTorch 1.0 merges PyTorch and Caffe2
        <a id="change">try:
            import caffe2
            self.caffe2_enabled = True
        except ImportError:
            self.caffe2_enabled = False

   </a> def __append_to_scalar_dict(self, tag, scalar_value, global_step,
                                timestamp):
        This adds an entry to the self.scalar_dict datastructure with format
        {writer_id : [[timestamp, step, value], ...], ...}.</code></pre>