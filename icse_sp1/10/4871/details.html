<html><h3>f8f5eb96468aa94acad1c085fc9a8c80d7b6db8f,app/evaluation/widgets/uploader.py,AjaxUploadWidget,handle_ajax,#AjaxUploadWidget#Any#,72
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        result = []
        for uploaded_file in request.FILES.values():
            <a id="change">new_staged_file = StagedFile.objects.create(
                    timeout=datetime.datetime.utcnow() + self.timeout,
                    file=uploaded_file
                )</a>
            result.append({
                "filename": uploaded_file.name,
                "uuid": <a id="change">new_staged_file.id</a>,
                "extra_attrs": {}
            });
</code></pre><h3>After Change</h3><pre><code class='java'>
            return HttpResponseBadRequest()

        csrf_token = request.META.get(&quotCSRF_COOKIE&quot, None)
        <a id="change">if not csrf_token:
            return HttpResponseForbidden("CSRF token is missing")

       </a> <a id="change">if "HTTP_CONTENT_RANGE" in request.META:
            handler = self._handle_chunked
        else:
            handler = self._handle_complete

       </a> result = []
        try:
            <a id="change">for uploaded_file in request.FILES.values():
                result.append(handler(request, csrf_token, uploaded_file))
       </a> except InvalidRequestException as e:
            return HttpResponseBadRequest(str(e))

        return JsonResponse(result, safe=False)</code></pre><img src="31162059.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/comic/grand-challenge.org/commit/f8f5eb96468aa94acad1c085fc9a8c80d7b6db8f#diff-9f445249342f43eb44d857fe200d242b59c7a53102a4a5c67470c263b34f4d9eL72' target='_blank'>Link</a></div><div id='project'> Project Name: comic/grand-challenge.org</div><div id='commit'> Commit Name: f8f5eb96468aa94acad1c085fc9a8c80d7b6db8f</div><div id='time'> Time: 2017-11-15</div><div id='author'> Author: pkcakeout@gmail.com</div><div id='file'> File Name: app/evaluation/widgets/uploader.py</div><div id='class'> Class Name: AjaxUploadWidget</div><div id='method'> Method Name: handle_ajax</div><BR><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/PerfKitBenchmarker/commit/3d95ae5cd11987e4c963baf4da374b1fa139b807#diff-655aa70b3bacd461764df6c781bcc5a031805fc17f4e7b19b7cf6b254176e238L148' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/PerfKitBenchmarker</div><div id='commit'> Commit Name: 3d95ae5cd11987e4c963baf4da374b1fa139b807</div><div id='time'> Time: 2016-06-29</div><div id='author'> Author: carlos.torres@rackspace.com</div><div id='file'> File Name: perfkitbenchmarker/providers/openstack/os_virtual_machine.py</div><div id='class'> Class Name: OpenStackVirtualMachine</div><div id='method'> Method Name: _GetSchedulerHints</div><BR><BR><div id='link'><a href='https://github.com/comic/grand-challenge.org/commit/a8eab99a0476060c27ae890071a5e17c01531ee7#diff-4baa3af6f63e4a15e1520a038261b7177d4fd39ab0902761b6f090b2e6952014L272' target='_blank'>Link</a></div><div id='project'> Project Name: comic/grand-challenge.org</div><div id='commit'> Commit Name: a8eab99a0476060c27ae890071a5e17c01531ee7</div><div id='time'> Time: 2020-01-27</div><div id='author'> Author: 57257130+MikeOverkamp-diag@users.noreply.github.com</div><div id='file'> File Name: app/grandchallenge/reader_studies/models.py</div><div id='class'> Class Name: ReaderStudy</div><div id='method'> Method Name: add_ground_truth</div><BR>