<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
     -gravity center \
     -crop 299x299+0+0 %&quot.format(data_dir=split_root, N_WORKERS=N_WORKERS)

    <a id="change">subprocess.check_call(cmd, shell=True)</a>
  except subprocess.CalledProcessError as e:
    print("\nERROR: convert command failed.\nTry &quotsudo apt-get install imagemagick&quot\n")
    raise (e)
</code></pre><h3>After Change</h3><pre><code class='java'>

def _crop_and_resize_images(split_root):
  print("Cropping images to correct shape and size...")
  <a id="change">for label_name in [&quotbird&quot, &quotbicycle&quot]:
    class_dir = os.path.join(split_root, label_name)
    images_in_class = os.listdir(class_dir)
    image_paths = [os.path.join(class_dir, image_name) for image_name in images_in_class]
    _map_with_tqdm(_resize_and_centercrop_image, image_paths,
                   total=len(image_paths))


</a>def _get_bird_and_bicycle_image_ids(split):
  Return a map from label to set of image ids
  label_name_to_image_ids = {}
  for label_name in [&quotbird&quot, &quotbicycle&quot]:</code></pre>