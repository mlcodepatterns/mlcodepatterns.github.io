<html><h3>563207ae6bd9a8565243b04dcd92af9c33bac524,deepchem/models/keras_model.py,KerasModel,fit_generator,#KerasModel#Any#Any#Any#Any#Any#Any#Any#,246
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
          inputs = inputs[0]
        outputs = self.model(inputs)
        if isinstance(outputs, tf.Tensor):
          outputs = <a id="change">[outputs]</a>
        if self._loss_outputs is not None:
          <a id="change">outputs = [outputs[i] for i in self._loss_outputs]</a>
        batch_loss = loss(outputs, labels, weights)
      if variables is None:
        vars = self.model.trainable_variables
      else:</code></pre><h3>After Change</h3><pre><code class='java'>
      loss = self._loss_fn
    var_key = None
    if variables is not None:
      <a id="change">var_key = tuple(v.experimental_ref() for v in variables)</a>

      &#47&#47 The optimizer creates internal variables the first time apply_gradients()
      &#47&#47 is called for a new set of variables.  If that happens inside a function
      &#47&#47 annotated with tf.function it throws an exception, so call it once here.

      zero_grads = [tf.zeros(v.shape) for v in variables]
      self._tf_optimizer.apply_gradients(zip(zero_grads, variables))
    <a id="change">if var_key not in self._gradient_fn_for_vars:
      self._gradient_fn_for_vars[var_key] = self._create_gradient_fn(variables)
   </a> apply_gradient_for_batch = <a id="change">self._gradient_fn_for_vars[var_key]</a>
    time1 = time.time()

    &#47&#47 Main training loop.
</code></pre><img src="236316881.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/563207ae6bd9a8565243b04dcd92af9c33bac524#diff-6959c92eed13049850ed08d423ac054a0f3781b89ba52eceaf68523bbc0cde89L246' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 563207ae6bd9a8565243b04dcd92af9c33bac524</div><div id='time'> Time: 2020-02-12</div><div id='author'> Author: peastman@stanford.edu</div><div id='file'> File Name: deepchem/models/keras_model.py</div><div id='class'> Class Name: KerasModel</div><div id='method'> Method Name: fit_generator</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/cleverhans/commit/f7715f63c17832f66e54164cc0ae3cb0e4afc4a3#diff-d45ee9a62c0464cf8b5175a339c8724af4e1b565aa367d138369f36ec491f89fL64' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/cleverhans</div><div id='commit'> Commit Name: f7715f63c17832f66e54164cc0ae3cb0e4afc4a3</div><div id='time'> Time: 2017-07-09</div><div id='author'> Author: nicholas@carlini.com</div><div id='file'> File Name: cleverhans/attacks.py</div><div id='class'> Class Name: Attack</div><div id='method'> Method Name: generate_np</div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/563207ae6bd9a8565243b04dcd92af9c33bac524#diff-6959c92eed13049850ed08d423ac054a0f3781b89ba52eceaf68523bbc0cde89L246' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 563207ae6bd9a8565243b04dcd92af9c33bac524</div><div id='time'> Time: 2020-02-12</div><div id='author'> Author: peastman@stanford.edu</div><div id='file'> File Name: deepchem/models/keras_model.py</div><div id='class'> Class Name: KerasModel</div><div id='method'> Method Name: fit_generator</div><BR><BR><div id='link'><a href='https://github.com/daniellerch/aletheia/commit/e7eefe879b9e5b7a279d80588af59d08f21365a1#diff-555f971aad1d5492df871ebc1a0cc93f7709d804abfbfa0e728690b3a60d112dL133' target='_blank'>Link</a></div><div id='project'> Project Name: daniellerch/aletheia</div><div id='commit'> Commit Name: e7eefe879b9e5b7a279d80588af59d08f21365a1</div><div id='time'> Time: 2020-11-01</div><div id='author'> Author: kevin.clark@gmail.com</div><div id='file'> File Name: aletheialib/attacks.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: difference</div><BR><BR><div id='link'><a href='https://github.com/10XGenomics/cellranger/commit/b47a6f858f4a224518f7c88b48ebce516c5a5f51#diff-b5fc49c2bf20071ec7e8d4de1f36b813e603353dcdbadb134e52cc895328285eL26' target='_blank'>Link</a></div><div id='project'> Project Name: 10XGenomics/cellranger</div><div id='commit'> Commit Name: b47a6f858f4a224518f7c88b48ebce516c5a5f51</div><div id='time'> Time: 2019-02-20</div><div id='author'> Author: hezx@users.noreply.github.com</div><div id='file'> File Name: mro/stages/aggregator/merge_molecules/__init__.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: split</div><BR>