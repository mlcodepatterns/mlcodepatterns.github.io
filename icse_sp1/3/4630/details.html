<html><h3>6367318f455aa8c27b6341c9b98794351dfd168e,examples/pytorch/pinsage/data_utils.py,,train_test_split_by_time,#Any#Any#Any#,9
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    df = df.sort_values([item, timestamp])
    for track_id in df[item].unique():
        idx = (df[item] == track_id).to_numpy().nonzero()[0]
        <a id="change">idx = df.index[idx]</a>
        if <a id="change">len(idx)</a> &gt; 1:
            df.loc[idx[-1], &quottrain_mask&quot] = False
            df.loc[idx[-1], &quottest_mask&quot] = True
        if len(idx) &gt; 2:</code></pre><h3>After Change</h3><pre><code class='java'>
            df.iloc[-2, -3] = False
            df.iloc[-2, -2] = True
        return df
    df = <a id="change">df</a>.groupby(item).apply(train_test_split).compute(scheduler=&quotprocesses&quot).sort_index()
    print(df[df[item] == df[item].unique()[0]].sort_values(timestamp))
    return df[&quottrain_mask&quot].to_numpy().nonzero()[0], \
           df[&quotval_mask&quot].to_numpy().nonzero()[0], \</code></pre><img src="30155101.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dmlc/dgl/commit/6367318f455aa8c27b6341c9b98794351dfd168e#diff-02b81eec7d9c54f1280621c4304a1058bc380cb67cde5c6d336d8e3018bfe3abL10' target='_blank'>Link</a></div><div id='project'> Project Name: dmlc/dgl</div><div id='commit'> Commit Name: 6367318f455aa8c27b6341c9b98794351dfd168e</div><div id='time'> Time: 2020-08-17</div><div id='author'> Author: coin2028@hotmail.com</div><div id='file'> File Name: examples/pytorch/pinsage/data_utils.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: train_test_split_by_time</div><BR><BR><div id='link'><a href='https://github.com/AlexsLemonade/refinebio/commit/12b19fcbf91e9d02bd8b2a67ce96e2d00d1d5ed7#diff-5b98a81bb89965321ab4c69b4ea0bdeb9fbff37d96e9e2f1149cf44907e74c9dL26' target='_blank'>Link</a></div><div id='project'> Project Name: AlexsLemonade/refinebio</div><div id='commit'> Commit Name: 12b19fcbf91e9d02bd8b2a67ce96e2d00d1d5ed7</div><div id='time'> Time: 2019-10-01</div><div id='author'> Author: arielsvn@gmail.com</div><div id='file'> File Name: foreman/data_refinery_foreman/foreman/management/commands/check_computed_files.py</div><div id='class'> Class Name: Command</div><div id='method'> Method Name: handle</div><BR><BR><div id='link'><a href='https://github.com/neurosynth/neurosynth/commit/73675264dd48387319f62780b52d81389016cc1f#diff-8d9be179a67483a9d737216f86a183808f0430043f20b6f45b27c6478c16c4a6L602' target='_blank'>Link</a></div><div id='project'> Project Name: neurosynth/neurosynth</div><div id='commit'> Commit Name: 73675264dd48387319f62780b52d81389016cc1f</div><div id='time'> Time: 2014-03-24</div><div id='author'> Author: tyarkoni@gmail.com</div><div id='file'> File Name: neurosynth/base/dataset.py</div><div id='class'> Class Name: FeatureTable</div><div id='method'> Method Name: get_features_by_ids</div><BR><BR><div id='link'><a href='https://github.com/daavoo/pyntcloud/commit/1b5d8f9cd1e7be8f23209fd252ab04eafb7b5b0c#diff-809f8317bf6a52a82a37826e3f4f1c08f42240d11ff77086bf546291351dc00dL60' target='_blank'>Link</a></div><div id='project'> Project Name: daavoo/pyntcloud</div><div id='commit'> Commit Name: 1b5d8f9cd1e7be8f23209fd252ab04eafb7b5b0c</div><div id='time'> Time: 2016-11-23</div><div id='author'> Author: daviddelaiglesiacastro@gmail.com</div><div id='file'> File Name: pyntcloud/structures/octree.py</div><div id='class'> Class Name: OcTree</div><div id='method'> Method Name: query</div><BR>