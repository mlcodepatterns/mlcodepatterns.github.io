<html><h3>32aa656373dd483f9a6a8aa45c51b595699e06e7,official/resnet/resnet_run_loop.py,,resnet_main,#Any#Any#Any#Any#,349
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
      allow_soft_placement=True)

  &#47&#47 Set up a RunConfig to save checkpoint and set session config.
  run_config = <a id="change">tf</a>.estimator.RunConfig().replace(save_checkpoints_secs=1e9,
                                                session_config=session_config)
  classifier = tf.estimator.Estimator(
      model_fn=model_function, model_dir=flags.model_dir, config=run_config,</code></pre><h3>After Change</h3><pre><code class='java'>
      intra_op_parallelism_threads=flags.intra_op_parallelism_threads,
      allow_soft_placement=True)

  <a id="change">if flags.num_gpus == 0:
    distribution = tf.contrib.distribute.OneDeviceStrategy(&quotdevice:CPU:0&quot)
  elif flags.num_gpus == 1:
    distribution = tf.contrib.distribute.OneDeviceStrategy(&quotdevice:GPU:0&quot)
  else:
    distribution = tf.contrib.distribute.MirroredStrategy(
        num_gpus=flags.num_gpus
    )

 </a> run_config = tf.estimator.RunConfig(train_distribute=distribution,
                                      session_config=session_config)

  classifier = tf.estimator.Estimator(</code></pre><img src="319155125.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/32aa656373dd483f9a6a8aa45c51b595699e06e7#diff-1862baca89d12c1cff2054d459b268af8aaae1862a1a8c3ad852e22d5393aac4L361' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: 32aa656373dd483f9a6a8aa45c51b595699e06e7</div><div id='time'> Time: 2018-04-12</div><div id='author'> Author: taylorrobie@google.com</div><div id='file'> File Name: official/resnet/resnet_run_loop.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: resnet_main</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/18d05ad3df0b6bd5f386d3373f59561f5fa004b1#diff-1862baca89d12c1cff2054d459b268af8aaae1862a1a8c3ad852e22d5393aac4L361' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: 18d05ad3df0b6bd5f386d3373f59561f5fa004b1</div><div id='time'> Time: 2018-05-03</div><div id='author'> Author: taylorrobie@google.com</div><div id='file'> File Name: official/resnet/resnet_run_loop.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: resnet_main</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/b36c01b654937c6d949d470f8b3f495c5c15b7f6#diff-2b5fe8d206f4910c0c2d9dc11f5d0c4a52aa11d9f06a79065b2a7b29b66baffeL384' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: b36c01b654937c6d949d470f8b3f495c5c15b7f6</div><div id='time'> Time: 2017-07-06</div><div id='author'> Author: marianne.monteiro@ccc.ufcg.edu.br</div><div id='file'> File Name: tutorials/image/cifar10_estimator/cifar10_main.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: main</div><BR>