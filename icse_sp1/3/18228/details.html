<html><h3>d13b23069e1dea5d89bc261e199ec4f97268dbd2,doudizhu/apps/game/room.py,Room,on_game_over,#Room#Any#,88
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            for pp in self.players:
                if pp != p:
                    response.append([pp.uid, *pp.hand_pokers])
            <a id="change">p.send(response)</a>
        &#47&#47 TODO deduct coin from database
        &#47&#47 TODO store poker round to database
        logging.info(&quotRoom[%d] GameOver[%d]&quot, self.room_id, self.room_id)
</code></pre><h3>After Change</h3><pre><code class='java'>
    def on_game_over(self, winner):
        point = self.entrance_fee * self.call_score * self.multiple

        response = [Pt.RSP_GAME_OVER, <a id="change">{
            &quotwinner&quot: winner.uid,
            &quotwon_point&quot: point,
            &quotlost_point&quot: -point,
            &quotpokers&quot: [],
        }</a>]
        for target in self.players:
            response[1][&quotpokers&quot] = [[p.uid, *p.hand_pokers] for p in self.players if p != target]
            target.write_message(response)</code></pre><img src="101993380.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/mailgyc/doudizhu/commit/d13b23069e1dea5d89bc261e199ec4f97268dbd2#diff-e4f0e4a77d707564496c45f33f04a7dd76044ea6c3ee643b32d2ce4281a9a96eL91' target='_blank'>Link</a></div><div id='project'> Project Name: mailgyc/doudizhu</div><div id='commit'> Commit Name: d13b23069e1dea5d89bc261e199ec4f97268dbd2</div><div id='time'> Time: 2020-02-16</div><div id='author'> Author: 4143964+mailgyc@users.noreply.github.com</div><div id='file'> File Name: doudizhu/apps/game/room.py</div><div id='class'> Class Name: Room</div><div id='method'> Method Name: on_game_over</div><BR><BR><div id='link'><a href='https://github.com/uuazed/numerapi/commit/80e4f15860b6b002f2dd3f420eaeff63e202eb2f#diff-86e196617613d3be89e0e86d0d74037d24ef8ced8d631d51b6201dc211f9b3f5L375' target='_blank'>Link</a></div><div id='project'> Project Name: uuazed/numerapi</div><div id='commit'> Commit Name: 80e4f15860b6b002f2dd3f420eaeff63e202eb2f</div><div id='time'> Time: 2017-11-18</div><div id='author'> Author: wolfgang@steitz.me</div><div id='file'> File Name: numerapi/numerapi.py</div><div id='class'> Class Name: NumerAPI</div><div id='method'> Method Name: upload_predictions</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/0c91ba4a50e58734553bfb00fad5a3abab8abe43#diff-924f7d2064bd38977264a418f48914720c5852f3cb4fe0ec0cc6b88f544b1247L35' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 0c91ba4a50e58734553bfb00fad5a3abab8abe43</div><div id='time'> Time: 2016-08-23</div><div id='author'> Author: nkgilley@gmail.com</div><div id='file'> File Name: homeassistant/components/media_player/gpmdp.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: request_configuration</div><BR><BR><div id='link'><a href='https://github.com/OpenMined/Grid/commit/00be4ae634832d8c39a2468c66349df964585a2c#diff-738144bb6c2b202a7cc7899ed4f201888b550fefeb2bea8f65b6e720376598e4L315' target='_blank'>Link</a></div><div id='project'> Project Name: OpenMined/Grid</div><div id='commit'> Commit Name: 00be4ae634832d8c39a2468c66349df964585a2c</div><div id='time'> Time: 2019-10-21</div><div id='author'> Author: ionesiojr@gmail.com</div><div id='file'> File Name: grid/websocket_client.py</div><div id='class'> Class Name: WebsocketGridClient</div><div id='method'> Method Name: download_model</div><BR>