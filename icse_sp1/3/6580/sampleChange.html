<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        places=5)

    &#47&#47 Test LambdaWeight.
    lambda_weight = <a id="change">losses.DCGLambdaWeight(
        rank_discount_fn=lambda r: 1. / tf.math.log1p(r))</a>
    loss = losses.SoftmaxLoss(lambda_weight=lambda_weight)
    self.assertAlmostEqual(
        loss(labels, scores).numpy(),
        -(ln(_softmax(scores[0])[2]) / ln(1. + 2.) +</code></pre><h3>After Change</h3><pre><code class='java'>

    &#47&#47 Test LambdaWeight.
    rank_discount_fn = lambda r: 1. / tf.math.log1p(r)
    <a id="change">lambda_weight = losses.DCGLambdaWeight(rank_discount_fn=rank_discount_fn)</a>
    loss = losses.SoftmaxLoss(lambda_weight=lambda_weight)
    self.assertAlmostEqual(
        loss(labels, scores).numpy(),
        -(ln(_softmax(scores[0])[2]) / ln(1. + 2.) +</code></pre>