<html><h3>275856246e6823b941ca16358b06828e2b40e854,run_lab.py,,run_by_mode,#Any#Any#Any#,67
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    logger.info(f&quotRunning lab: spec_file {spec_file} spec_name {spec_name} in mode: {lab_mode}&quot)
    &#47&#47 &quot@&quot is reserved for EVAL_MODES
    os.environ[&quotlab_mode&quot] = lab_mode.split(&quot@&quot)[0]
    <a id="change">if lab_mode in TRAIN_MODES:
        run_new_mode(spec_file, spec_name, lab_mode)
    else:
        run_old_mode(spec_file, spec_name, lab_mode)


</a>def main():
    args = sys.argv[1:]
    if len(args) &lt;= 1:  &#47&#47 run scheduled specs
        job_file = args[0] if len(args) == 1 else &quotconfig/experiments.json&quot</code></pre><h3>After Change</h3><pre><code class='java'>
        num_pro = spec[&quotmeta&quot][&quotparam_spec_process&quot]
        &#47&#47 can&quott use Pool since it cannot spawn nested Process, which is needed for VecEnv and parallel sessions. So these will run and wait by chunks
        workers = [mp.Process(target=run_train_mode, args=(spec, lab_mode)) for spec in param_specs]
        <a id="change">for chunk_w in ps.chunk(workers, num_pro):
            for w in chunk_w:
                w.start()
            for w in chunk_w:
                w.join()


</a>def main():
    &quot&quot&quotMain method to run jobs from scheduler or from a spec directly&quot&quot&quot
    args = sys.argv[1:]
    if len(args) &lt;= 1:  &#47&#47 use scheduler</code></pre><img src="74968788.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/275856246e6823b941ca16358b06828e2b40e854#diff-b16d018ab1aabf1bb7469722a04f072f6354f83735bd5f26953cc4eccffab5dcL72' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 275856246e6823b941ca16358b06828e2b40e854</div><div id='time'> Time: 2019-05-11</div><div id='author'> Author: kengzwl@gmail.com</div><div id='file'> File Name: run_lab.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: run_by_mode</div><BR><BR><div id='link'><a href='https://github.com/undertheseanlp/underthesea/commit/89ad361f08dca73d8f94608c99c729e9987a011d#diff-dc434dc9f90f0c7cfcc6a2bb9dfdb9b163cca4b1f060dece2c4db7254053f8b5L38' target='_blank'>Link</a></div><div id='project'> Project Name: undertheseanlp/underthesea</div><div id='commit'> Commit Name: 89ad361f08dca73d8f94608c99c729e9987a011d</div><div id='time'> Time: 2017-10-11</div><div id='author'> Author: brother.rain.1024@gmail.com</div><div id='file'> File Name: tests/chunking/test_chunk.py</div><div id='class'> Class Name: TestChunk</div><div id='method'> Method Name: test_accuracy</div><BR><BR><div id='link'><a href='https://github.com/osmr/imgclsmob/commit/0168d5298ab0878818e44b311678ff683f5ee0e2#diff-9021af3bc3db292a4a7a1d6776075f51adb8ab6d1a730c4ebd68dfd149aade8eL200' target='_blank'>Link</a></div><div id='project'> Project Name: osmr/imgclsmob</div><div id='commit'> Commit Name: 0168d5298ab0878818e44b311678ff683f5ee0e2</div><div id='time'> Time: 2019-03-04</div><div id='author'> Author: osemery@gmail.com</div><div id='file'> File Name: pytorch/pytorchcv/models/others/oth_irevnet2.py</div><div id='class'> Class Name: iRevNet</div><div id='method'> Method Name: forward</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/pytext/commit/a8a098209b69ccaa22bc5d99332e306e21cad5d8#diff-b54fcf3c2a0e33a4b87fb86cefc6cfd9c9c91000fda7f1042279c1162cebbb52L625' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/pytext</div><div id='commit'> Commit Name: a8a098209b69ccaa22bc5d99332e306e21cad5d8</div><div id='time'> Time: 2019-01-29</div><div id='author'> Author: zsc@fb.com</div><div id='file'> File Name: pytext/models/semantic_parsers/rnng/rnng_parser.py</div><div id='class'> Class Name: RNNGParser</div><div id='method'> Method Name: get_loss</div><BR>