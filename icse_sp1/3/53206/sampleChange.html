<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        batch_size=opt.batch_size,
        cuda=opt.cuda)

    <a id="change">validation_data = DataLoader(
        data[&quotdict&quot][&quotsrc&quot],
        data[&quotdict&quot][&quottgt&quot],
        src_insts=data[&quotvalid&quot][&quotsrc&quot],
        tgt_insts=data[&quotvalid&quot][&quottgt&quot],
        batch_size=opt.batch_size,
        shuffle=False,
        test=True,
        cuda=opt.cuda)</a>

    opt.src_vocab_size = training_data.src_vocab_size
    opt.tgt_vocab_size = training_data.tgt_vocab_size
</code></pre><h3>After Change</h3><pre><code class='java'>
    data = torch.load(opt.data)
    opt.max_token_seq_len = data[&quotsettings&quot].max_token_seq_len

    <a id="change">training_data</a>, validation_data = prepare_dataloaders(data, opt)

    opt.src_vocab_size = training_data.src_vocab_size
    opt.tgt_vocab_size = training_data.tgt_vocab_size</code></pre>