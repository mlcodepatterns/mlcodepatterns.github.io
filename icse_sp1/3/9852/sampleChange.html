<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    ddata = paul15_raw()
    ddata[&quotX&quot] = sc.pp(ddata[&quotX&quot], &quotlog&quot)
    &#47&#47 reduce to 50 components
    ddata[&quotXpca&quot] = sc.pca(<a id="change">ddata[&quotX&quot]</a>)
    &#47&#47 adjust expression vector of root cell
    ddata[&quotxroot&quot] = ddata[&quotXpca&quot][ddata[&quotiroot&quot]]
    return ddata    </code></pre><h3>After Change</h3><pre><code class='java'>
    adata = paul15_raw()
    adata.X = sc.pp(adata.X, &quotlog&quot)
    &#47&#47 reduce to 50 components
    apca = AnnData(<a id="change">sc.pca(adata.X)</a>, adata.smp, vis=adata.vis, iroot=adata[&quotiroot&quot])
    &#47&#47 adjust expression vector of root cell
    apca.var[&quotxroot&quot] = apca.X[apca[&quotiroot&quot]]
    return apca</code></pre>