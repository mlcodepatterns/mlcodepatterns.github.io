<html><h3>3e2274441c92ebafcdbb6d0cf3cc934b6d87602d,lxmls/deep_learning/rnn.py,NumpyRNN,grads,#NumpyRNN#Any#Any#,125
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            &#47&#47 backprop through nonlinearity.
            dh_raw = self.derivate_activation(h[:, t+1], self.activation_function) * e_h
            
            nabla_W_h += dh_raw[:,None].dot(<a id="change">h[:, t][None,:]</a>)
            
            nabla_W_x += dh_raw[:,None].dot(z[:, t][None,:])
            </code></pre><h3>After Change</h3><pre><code class='java'>
 
            &#47&#47 Weight gradients
            nabla_W_y += np.outer(e[:, t], h[:, t+1])
            nabla_W_h += <a id="change">np.outer(e_raw, h[:, t])</a>
            nabla_W_x += np.outer(e_raw, z[:, t])
            nabla_W_e[:, x[t]] += W_x.T.dot(e_raw)
           
        &#47&#47 Normalize to be in agreement with the loss</code></pre><img src="107300550.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/LxMLS/lxmls-toolkit/commit/3e2274441c92ebafcdbb6d0cf3cc934b6d87602d#diff-c94b87296d48b3a682d408c6ab6204fcff5819b91d910e5313cd73ca162e5f0dL135' target='_blank'>Link</a></div><div id='project'> Project Name: LxMLS/lxmls-toolkit</div><div id='commit'> Commit Name: 3e2274441c92ebafcdbb6d0cf3cc934b6d87602d</div><div id='time'> Time: 2016-06-19</div><div id='author'> Author: ramon@astudillo.com</div><div id='file'> File Name: lxmls/deep_learning/rnn.py</div><div id='class'> Class Name: NumpyRNN</div><div id='method'> Method Name: grads</div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/624dfb1a1263e5539d30112e2ba7344957b9b20f#diff-3c8459ab14c00fbc69fafbeb6a207f3511fb227fad9966233eabb0bf98ceddccL165' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 624dfb1a1263e5539d30112e2ba7344957b9b20f</div><div id='time'> Time: 2020-07-20</div><div id='author'> Author: peastman@stanford.edu</div><div id='file'> File Name: deepchem/feat/coulomb_matrices.py</div><div id='class'> Class Name: CoulombMatrix</div><div id='method'> Method Name: coulomb_matrix</div><BR><BR><div id='link'><a href='https://github.com/EducationalTestingService/skll/commit/a776c30409e35b42c686ec434132378f302e97bb#diff-28012d0f09d2b0a244f70a3bdfec4daa39f2f00f2c10d83abc2d1145501451fbL94' target='_blank'>Link</a></div><div id='project'> Project Name: EducationalTestingService/skll</div><div id='commit'> Commit Name: a776c30409e35b42c686ec434132378f302e97bb</div><div id='time'> Time: 2013-08-18</div><div id='author'> Author: dblanchard@ets.org</div><div id='file'> File Name: skll/metrics.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: kappa</div><BR><BR><div id='link'><a href='https://github.com/librosa/librosa/commit/8a35afbdb757e3925824f71288098a62f222a405#diff-260ae01b06042016564c9ee1694681c899dffdcb1452b5b2c2ee8217066b3cf0L143' target='_blank'>Link</a></div><div id='project'> Project Name: librosa/librosa</div><div id='commit'> Commit Name: 8a35afbdb757e3925824f71288098a62f222a405</div><div id='time'> Time: 2014-06-25</div><div id='author'> Author: brm2132@columbia.edu</div><div id='file'> File Name: librosa/filters.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: chroma</div><BR>