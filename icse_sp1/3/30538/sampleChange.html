<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    row = A.row[mask]
    col = A.col[mask]
    data = <a id="change">A.data[mask]</a>

    return coo_matrix((data,(row,col)), shape=A.shape).asformat(format)
</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 convert to COOrdinate format where things are easy
    A = coo_matrix(A, copy=False)
    mask = A.row + k &lt;= A.col
    <a id="change">return _masked_coo(A, mask).asformat(format)</a>


def _masked_coo(A, mask):
    row = A.row[mask]</code></pre>