<html><h3>97bcda32d46ac2c2d8f97f9fe44ef8cdc3253710,pynets/registration/register.py,,direct_streamline_norm,#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#,21
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    adjusted_affine[2][3] = -adjusted_affine[2][3]*z_mul

    &#47&#47 Deform streamlines, isocenter, and remove streamlines outside brain
    streams_final_filt = <a id="change">Streamlines(utils.target_line_based(
        transform_streamlines(transform_streamlines(
            [sum(d, s) for d, s in zip(values_from_volume(mapping.get_forward_field(), streams_in_curr_grid,
                                                          ref_grid_aff), streams_in_curr_grid)],
            np.linalg.inv(adjusted_affine)), np.linalg.inv(warped_fa_img.affine)), np.eye(4), brain_mask,
        include=True))</a>

    &#47&#47 Remove streamlines with negative voxel indices
    lin_T, offset = _mapping_to_voxel(np.eye(4))
    streams_final_filt_final = []</code></pre><h3>After Change</h3><pre><code class='java'>
    &#47&#47 Deform streamlines, isocenter, and remove streamlines outside brain
    streams_in_brain = [sum(d, s) for d, s in zip(values_from_volume(mapping.get_forward_field(), streams_in_curr_grid,
                                                                     ref_grid_aff), streams_in_curr_grid)]
    <a id="change">streams_final_filt = Streamlines(utils.target_line_based(
        transform_streamlines(transform_streamlines(streams_in_brain,
                                                    np.linalg.inv(adjusted_affine)),
                              np.linalg.inv(warped_fa_img.affine)), np.eye(4), brain_mask, include=True))</a>

    &#47&#47 Remove streamlines with negative voxel indices
    lin_T, offset = _mapping_to_voxel(np.eye(4))
    streams_final_filt_final = []</code></pre><img src="301717848.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/97bcda32d46ac2c2d8f97f9fe44ef8cdc3253710#diff-a59c42d9fc4597558e945becaeb389bbeb0c6141a5b0d97cd819d6125b9c4e17L186' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 97bcda32d46ac2c2d8f97f9fe44ef8cdc3253710</div><div id='time'> Time: 2020-04-19</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/registration/register.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: direct_streamline_norm</div><BR><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/25c9e79821c9c36942dcec2a45164a1bf2271901#diff-956e5be65d08f6e67d415c8002f6b51f6ce4133f7a3918771aef9b234acec946L205' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 25c9e79821c9c36942dcec2a45164a1bf2271901</div><div id='time'> Time: 2019-04-29</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/dmri/track.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: run_track</div><BR><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/4189b738cbcc9299fcf27e0bd2b34c90e6247cca#diff-e7efeaefe6fcbd111c82172a06328e4a9ec4174d5ff7c4d0553503104a0d0867L338' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 4189b738cbcc9299fcf27e0bd2b34c90e6247cca</div><div id='time'> Time: 2020-04-01</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/dmri/estimation.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: streams2graph</div><BR>