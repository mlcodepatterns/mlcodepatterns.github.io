<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        key_added = restrict_key + &quot_R&quot if key_added is None else key_added
        adata.obs[key_added] = adata.obs[restrict_key].astype(&quotU&quot)
        adata.obs[key_added].iloc[restrict_indices] = &quot-&quot.join(restrict_categories) + &quot,&quot
        <a id="change">adata.obs[key_added].iloc[restrict_indices]</a> += groups.astype(&quotU&quot)
        adata.obs[key_added] = adata.obs[key_added].astype(
            &quotcategory&quot, categories=natsorted(adata.obs[key_added].unique()))
    adata.uns[&quotlouvain&quot] = {}</code></pre><h3>After Change</h3><pre><code class='java'>
        all_groups.iloc[restrict_indices] = new_groups
        adata.obs[key_added] = pd.Categorical(
            values=all_groups,
            categories=<a id="change">natsorted(all_groups.unique())</a>)
    adata.uns[&quotlouvain&quot] = {}
    adata.uns[&quotlouvain&quot][&quotparams&quot] = {&quotresolution&quot: resolution, &quotrandom_state&quot: random_state}
    logg.info(&quot    finished&quot, time=True, end=&quot &quot if settings.verbosity &gt; 2 else &quot\n&quot)</code></pre>