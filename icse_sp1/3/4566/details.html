<html><h3>cdd7ca5632d3466ea02efcd6696420c18a32e9ae,tests/test_stiefel.py,TestStiefel,test_log_vectorization_shape,#TestStiefel#,157
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        p = self.p

        one_base_point = self.space.random_uniform()
        <a id="change">vector = gs.random.rand(*one_base_point.shape)</a>
        tangent_vec = self.space.to_tangent(vector, one_base_point) * gs.pi * 2
        one_point = self.metric.exp(tangent_vec, one_base_point)

        n_points = self.space.random_uniform(n_samples=n_samples)
        n_base_points = self.space.random_uniform(n_samples=n_samples)

        &#47&#47 With single point and base point
        result = self.metric.log(one_point, one_base_point)
        print(<a id="change">gs.isclose(result, tangent_vec)</a>)
        self.assertAllClose(gs.shape(result), (n, p))

        &#47&#47 With multiple points and base points</code></pre><h3>After Change</h3><pre><code class='java'>
        self.assertAllClose(gs.shape(result), (n_samples, n, p))

        result = self.metric.log(one_point, n_base_points)
        <a id="change">self.assertAllClose(gs.shape(result), (n_samples, n, p))</a>

        result = self.metric.log(n_points, n_base_points)
        self.assertAllClose(gs.shape(result), (n_samples, n, p))
</code></pre><img src="29621315.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/geomstats/geomstats/commit/cdd7ca5632d3466ea02efcd6696420c18a32e9ae#diff-5a0fc4e403974e680a1afe1a9b5d6b2bc2ce06c5e4066f0b1dbd9d2774aff380L1' target='_blank'>Link</a></div><div id='project'> Project Name: geomstats/geomstats</div><div id='commit'> Commit Name: cdd7ca5632d3466ea02efcd6696420c18a32e9ae</div><div id='time'> Time: 2021-03-17</div><div id='author'> Author: nicolas.guigui@inria.fr</div><div id='file'> File Name: tests/test_stiefel.py</div><div id='class'> Class Name: TestStiefel</div><div id='method'> Method Name: test_log_vectorization_shape</div><BR><BR><div id='link'><a href='https://github.com/commonsense/conceptnet5/commit/b2a33bb95c72610411541b5aedb202f20b3349d3#diff-85fdb1ec80536ee3eb7439059ed03f7bc0df2a9e9eef1d44b6c5cc67d9841510L102' target='_blank'>Link</a></div><div id='project'> Project Name: commonsense/conceptnet5</div><div id='commit'> Commit Name: b2a33bb95c72610411541b5aedb202f20b3349d3</div><div id='time'> Time: 2017-05-16</div><div id='author'> Author: rob@luminoso.com</div><div id='file'> File Name: tests/post-build/test_vectors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_l2_normalize_rows</div><BR><BR><div id='link'><a href='https://github.com/commonsense/conceptnet5/commit/b2a33bb95c72610411541b5aedb202f20b3349d3#diff-85fdb1ec80536ee3eb7439059ed03f7bc0df2a9e9eef1d44b6c5cc67d9841510L124' target='_blank'>Link</a></div><div id='project'> Project Name: commonsense/conceptnet5</div><div id='commit'> Commit Name: b2a33bb95c72610411541b5aedb202f20b3349d3</div><div id='time'> Time: 2017-05-16</div><div id='author'> Author: rob@luminoso.com</div><div id='file'> File Name: tests/post-build/test_vectors.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_shrink_and_sort</div><BR>