<html><h3>58a3d268c0bcf87aa726af8516b98bda9e23e562,examples/plot_investigating_dirty_categories.py,,,#,17
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
&#47&#47 for other categorical columns  such as Employee position title:

sorted_values = df[&quotEmployee Position Title&quot].sort_values().unique()
<a id="change">for i in range(5):
    print(sorted_values[i] + &quot\n&quot)

&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
&#47&#47 Here we go! See how there are 3 kinds of Accountant/Auditor? I,II,and III.
&#47&#47 Now, there are some reason why traditional word-encoding methods won&quott work
&#47&#47 very well.
&#47&#47
&#47&#47 * Using simple one-hot encoding will create orthogonal features,
&#47&#47   whereas it is clear that those 3 terms have a lot in common.
&#47&#47
&#47&#47 * If we wanted to use word embedding methods such as word2vec,
&#47&#47   we would have to go through a cleaning phase: those algorithms
&#47&#47   are not trained to work on data such as &quotAccountant/Auditor I&quot.
&#47&#47   However, that can be unsafe and take a long time.


&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
&#47&#47 Encoding categorical data using SimilarityEncoder
&#47&#47 -------------------------------------------------
&#47&#47 That&quots where our encoders get into play. In order to robustly
&#47&#47 embed dirty semantic data, the SimilarityEncoder creates a similarity
&#47&#47 matrix based on the 3-gram structure of the data.
</a>from dirty_cat import SimilarityEncoder

similarity_encoder = SimilarityEncoder(similarity=&quotngram&quot)
transformed_values = similarity_encoder.fit_transform(</code></pre><h3>After Change</h3><pre><code class='java'>

&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
&#47&#47 As we can see, some entries have many different unique values:
<a id="change">data[&quotEmployee Position Title&quot].value_counts().sort_index()</a>

&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
&#47&#47 These different entries are often variations on the same entities:
&#47&#47 there are 4 kinds of Work Force Leader.</code></pre><img src="290556198.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dirty-cat/dirty_cat/commit/58a3d268c0bcf87aa726af8516b98bda9e23e562#diff-80d63597cb86be8ca8f9d2e495b5c870fa76b594712bedc9042e691cd3e18aadL18' target='_blank'>Link</a></div><div id='project'> Project Name: dirty-cat/dirty_cat</div><div id='commit'> Commit Name: 58a3d268c0bcf87aa726af8516b98bda9e23e562</div><div id='time'> Time: 2018-06-06</div><div id='author'> Author: gael.varoquaux@normalesup.org</div><div id='file'> File Name: examples/plot_investigating_dirty_categories.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/QUANTAXIS/QUANTAXIS/commit/f083111608442549981060baf35e521be8d61af9#diff-aa2e8278d880df352d6dd90a6c75d350a5292227d7365ef4c98f5e535cdb0480L33' target='_blank'>Link</a></div><div id='project'> Project Name: QUANTAXIS/QUANTAXIS</div><div id='commit'> Commit Name: f083111608442549981060baf35e521be8d61af9</div><div id='time'> Time: 2017-06-15</div><div id='author'> Author: yutiansut@qq.com</div><div id='file'> File Name: QUANTAXIS/QAFetch/QATushare.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: QA_fetch_get_stock_day</div><BR><BR><div id='link'><a href='https://github.com/nilmtk/nilmtk/commit/5641405989025614d4654f752f37dbf66c548da5#diff-d9a6b36b72471c3526ea4df9165511cae63f97d3ef0d3b2b743e9da09f7563f3L69' target='_blank'>Link</a></div><div id='project'> Project Name: nilmtk/nilmtk</div><div id='commit'> Commit Name: 5641405989025614d4654f752f37dbf66c548da5</div><div id='time'> Time: 2014-05-05</div><div id='author'> Author: jack-list@xlk.org.uk</div><div id='file'> File Name: nilmtk/pipeline/results.py</div><div id='class'> Class Name: Results</div><div id='method'> Method Name: update</div><BR>