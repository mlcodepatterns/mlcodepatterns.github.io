<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def prep_net(self, gpu_id=None, path=&quot&quot, dist=False):
        import torch
        import models.pytorch.model as model
        device = torch.device(<a id="change">&quotcuda:{}&quot.format(gpu_id)</a>) if gpu_id != -1 else torch.device(&quotcpu&quot)
        print(&quotpath = %s, device = %s&quot % (path, device))
        print(&quotModel set! dist mode? &quot, dist)
        self.net = model.SIGGRAPHGenerator(dist=dist)</code></pre><h3>After Change</h3><pre><code class='java'>
            self.__patch_instance_norm_state_dict(state_dict, self.net, key.split(&quot.&quot))
        self.net.load_state_dict(state_dict)
        if gpu_id != -1:
            <a id="change">self.net.cuda()</a>
        self.net.eval()
        self.net_set = True

    def __patch_instance_norm_state_dict(self, state_dict, module, keys, i=0):</code></pre>