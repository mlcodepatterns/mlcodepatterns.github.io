<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        else:
            local_tensor_name = _map_tensor_names(ckpt_tensor_name)
            data = ckpt_names_vs_vals[ckpt_tensor_name]
            _assign_by_name(sess, local_tensor_name, <a id="change">np.squeeze(data)</a>)

def init_gpt2_checkpoint(sess, init_checkpoint):
    </code></pre><h3>After Change</h3><pre><code class='java'>
    Load pretrained parameters to texar model
    

    <a id="change">assignment_map = {}</a>

    reader = tf.train.NewCheckpointReader(init_checkpoint)
    var_names_list = reader.get_variable_to_shape_map().keys()
    ckpt_names_vs_vals = {}</code></pre>