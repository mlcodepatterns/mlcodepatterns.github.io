<html><h3>76a1bf8429edfc3e57ccab569b5a800d2841a8fe,reagent/gym/policies/samplers/discrete_sampler.py,SoftmaxActionSampler,sample_action,#SoftmaxActionSampler#Any#Any#,30
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            mod_scores = scores
        m = torch.distributions.Categorical(**{self.key: mod_scores / self.temperature})
        raw_action = m.sample()
        action = <a id="change">F.one_hot(raw_action, num_actions).squeeze(0)</a>
        log_prob = m.log_prob(raw_action).float().squeeze(0)
        return rlt.ActorOutput(action=action, log_prob=log_prob)

    @torch.no_grad()</code></pre><h3>After Change</h3><pre><code class='java'>
        raw_action = m.sample()
        assert raw_action.ndim == 1
        action = F.one_hot(raw_action, num_actions)
        <a id="change">assert action.ndim == 2</a>
        log_prob = m.log_prob(raw_action).float()
        assert log_prob.ndim == 1
        return rlt.ActorOutput(action=action, log_prob=log_prob)
</code></pre><img src="62524186.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 2</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/facebookresearch/Horizon/commit/76a1bf8429edfc3e57ccab569b5a800d2841a8fe#diff-aba99c7fcf8e5b9309cf2e787114c8f7917924b4cdb0cca219c89ee251ad8063L45' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/Horizon</div><div id='commit'> Commit Name: 76a1bf8429edfc3e57ccab569b5a800d2841a8fe</div><div id='time'> Time: 2020-04-22</div><div id='author'> Author: kittipat@fb.com</div><div id='file'> File Name: reagent/gym/policies/samplers/discrete_sampler.py</div><div id='class'> Class Name: SoftmaxActionSampler</div><div id='method'> Method Name: sample_action</div><BR><BR><div id='link'><a href='https://github.com/bethgelab/foolbox/commit/a5b289b24689321b991013f1353f2dc5af725bef#diff-94516d3580cc8438c6ecc71e1c75dad5c2890008815bf62fb920704950a52464L53' target='_blank'>Link</a></div><div id='project'> Project Name: bethgelab/foolbox</div><div id='commit'> Commit Name: a5b289b24689321b991013f1353f2dc5af725bef</div><div id='time'> Time: 2019-05-17</div><div id='author'> Author: git@jonasrauber.de</div><div id='file'> File Name: foolbox/models/keras.py</div><div id='class'> Class Name: KerasModel</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/SentEval/commit/9b1126c25af2105531505d8a3c864f3221c61fac#diff-17f5523c5ba50e0881d8ce3e619e0e3ebb0d1b87bdb268106f102d000f2cbc76L38' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/SentEval</div><div id='commit'> Commit Name: 9b1126c25af2105531505d8a3c864f3221c61fac</div><div id='time'> Time: 2018-05-06</div><div id='author'> Author: aconneau@fb.com</div><div id='file'> File Name: examples/models.py</div><div id='class'> Class Name: BLSTMEncoder</div><div id='method'> Method Name: forward</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/Horizon/commit/76a1bf8429edfc3e57ccab569b5a800d2841a8fe#diff-aba99c7fcf8e5b9309cf2e787114c8f7917924b4cdb0cca219c89ee251ad8063L115' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/Horizon</div><div id='commit'> Commit Name: 76a1bf8429edfc3e57ccab569b5a800d2841a8fe</div><div id='time'> Time: 2020-04-22</div><div id='author'> Author: kittipat@fb.com</div><div id='file'> File Name: reagent/gym/policies/samplers/discrete_sampler.py</div><div id='class'> Class Name: EpsilonGreedyActionSampler</div><div id='method'> Method Name: sample_action</div><BR><BR><div id='link'><a href='https://github.com/SPFlow/SPFlow/commit/99f6a9b9b366e20ebc300fc5be904308c17c484f#diff-8b37a10051e97868c6bc6c567d7c3197de52aaa0e563d98e85bd4892c71ad43dL284' target='_blank'>Link</a></div><div id='project'> Project Name: SPFlow/SPFlow</div><div id='commit'> Commit Name: 99f6a9b9b366e20ebc300fc5be904308c17c484f</div><div id='time'> Time: 2020-04-01</div><div id='author'> Author: steven.lang.mz@gmail.com</div><div id='file'> File Name: src/spn/experiments/RandomSPNs_layerwise/rat_spn.py</div><div id='class'> Class Name: RatSpn</div><div id='method'> Method Name: forward</div><BR><BR><div id='link'><a href='https://github.com/geomstats/geomstats/commit/6f4671eb1b466bf5c484dea3830d4e1bb61709b8#diff-c7464dcbd5807141733f917248cb0a8fd1ec5b5c9ef3f9b2826f30a8ff522734L25' target='_blank'>Link</a></div><div id='project'> Project Name: geomstats/geomstats</div><div id='commit'> Commit Name: 6f4671eb1b466bf5c484dea3830d4e1bb61709b8</div><div id='time'> Time: 2018-05-03</div><div id='author'> Author: ninamio78@gmail.com</div><div id='file'> File Name: geomstats/invariant_metric.py</div><div id='class'> Class Name: InvariantMetric</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/NifTK/NiftyNet/commit/269fe541986a4711eda1d707c86d97da0558564d#diff-91bf8f2b52bdb87babf39dbf07c051af42c15a7fa4cf6860b73c144efb6e2d5bL92' target='_blank'>Link</a></div><div id='project'> Project Name: NifTK/NiftyNet</div><div id='commit'> Commit Name: 269fe541986a4711eda1d707c86d97da0558564d</div><div id='time'> Time: 2018-05-10</div><div id='author'> Author: wenqi.li@ucl.ac.uk</div><div id='file'> File Name: niftynet/contrib/dataset_sampler/image_window_dataset.py</div><div id='class'> Class Name: ImageWindowDataset</div><div id='method'> Method Name: layer_op</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/Horizon/commit/f2e39855d7dda56b4b31185d4d0dd131f909369b#diff-8911cb5cff36731262254d2a2d102d0bb1da64b6414298e7d521f53f228d97e3L110' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/Horizon</div><div id='commit'> Commit Name: f2e39855d7dda56b4b31185d4d0dd131f909369b</div><div id='time'> Time: 2020-05-02</div><div id='author'> Author: wangkaiwen998@gmail.com</div><div id='file'> File Name: reagent/gym/agents/agent.py</div><div id='class'> Class Name: Agent</div><div id='method'> Method Name: act</div><BR>