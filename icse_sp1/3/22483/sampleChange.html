<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

                &#47&#47 sampling bg
                bg_rois_per_this_image = rois_per_image - fg_rois_per_this_image
                rand_num = <a id="change">torch</a>.floor(<a id="change">torch.rand(bg_rois_per_this_image).type_as(all_rois)
                                         * bg_num_rois</a>).long()
                bg_inds = bg_inds[rand_num]
            elif fg_num_rois &gt; 0 and bg_num_rois == 0:
                &#47&#47 sampling fg</code></pre><h3>After Change</h3><pre><code class='java'>
                &#47&#47 sampling bg
                &#47&#47rand_num = torch.floor(torch.rand(rois_per_image) * bg_num_rois).long().cuda()
                rand_num = np.floor(np.random.rand(rois_per_image) * bg_num_rois)
                rand_num = <a id="change">torch</a>.from_numpy(rand_num).long().cuda()

                bg_inds = bg_inds[rand_num]
                bg_rois_per_this_image = rois_per_image</code></pre>