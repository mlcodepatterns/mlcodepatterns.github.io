<html><h3>df3e7eaf84e65be7e521c6de0379fb588de533ba,pynndescent/pynndescent_.py,,init_from_random,#Any#Any#Any#Any#Any#Any#Any#,43
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def init_from_random(n_neighbors, data, query_points, heap, dist, dist_args, rng_state):
    for i in range(query_points.shape[0]):
        if heap[0, i, 0] == -1:
            <a id="change">for j in range(np.sum(heap[0, i] == -1)):
                idx = np.abs(tau_rand_int(rng_state)) % data.shape[0]
                d = dist(data[idx], query_points[i], *dist_args)
                heap_push(heap, i, d, idx, 1)
   </a> return


@numba.njit(fastmath=True)</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47         idx = np.abs(tau_rand_int(rng_state)) % data.shape[0]
        &#47&#47         d = dist(data[idx], query_points[i], *dist_args)
        &#47&#47         heap_push(heap, i, d, idx, 1)
        <a id="change">while heap[0, i, 0] == -1:
            idx = np.abs(tau_rand_int(rng_state)) % data.shape[0]
            d = dist(data[idx], query_points[i], *dist_args)
            &#47&#47 potentially we can get away with this
            unchecked_heap_push(heap, i, d, idx, 1)

   </a> return


@numba.njit(fastmath=True)</code></pre><img src="239924381.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/lmcinnes/pynndescent/commit/df3e7eaf84e65be7e521c6de0379fb588de533ba#diff-db9824f558d2d2dff121f6cf56c63a5d019a6bb2e7388f2f0089e1b2d77d50e9L45' target='_blank'>Link</a></div><div id='project'> Project Name: lmcinnes/pynndescent</div><div id='commit'> Commit Name: df3e7eaf84e65be7e521c6de0379fb588de533ba</div><div id='time'> Time: 2019-11-04</div><div id='author'> Author: leland.mcinnes@gmail.com</div><div id='file'> File Name: pynndescent/pynndescent_.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: init_from_random</div><BR><BR><div id='link'><a href='https://github.com/nilmtk/nilmtk/commit/b523b464d8cafe29e352981c1c6df941f205592a#diff-0d2d2df8be36e4353c82d992be66fe5ea50caf12891ddd5485531856ef455ea2L128' target='_blank'>Link</a></div><div id='project'> Project Name: nilmtk/nilmtk</div><div id='commit'> Commit Name: b523b464d8cafe29e352981c1c6df941f205592a</div><div id='time'> Time: 2014-07-09</div><div id='author'> Author: jack-list@xlk.org.uk</div><div id='file'> File Name: nilmtk/metrics.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: mean_normalized_error_power</div><BR><BR><div id='link'><a href='https://github.com/7ossam81/EvoloPy/commit/b050fe8d132a7d8899173e1c24d5906dbb943745#diff-5eff41f1709225717c884bb0de73047396e074654c12b68ebd9cfe4f53697c85L166' target='_blank'>Link</a></div><div id='project'> Project Name: 7ossam81/EvoloPy</div><div id='commit'> Commit Name: b050fe8d132a7d8899173e1c24d5906dbb943745</div><div id='time'> Time: 2019-02-26</div><div id='author'> Author: raneem.qaddoura@gmail.com</div><div id='file'> File Name: GA.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: pairSelection</div><BR>