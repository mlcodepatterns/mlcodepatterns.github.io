<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            valid_parameters.append((times[valid_data_mask[:, ih, iw].squeeze()],
                                     data[:, ih, iw][valid_data_mask[:, ih, iw].squeeze()]))

        <a id="change">pool = multiprocessing.Pool(processes=multiprocessing.cpu_count())</a>
        all_parameters = pool.map(self._pool_wrapper, valid_parameters)

        all_parameters = np.reshape(all_parameters, (h, w, 7))
</code></pre><h3>After Change</h3><pre><code class='java'>
            valid_curve = data[:, height_ind, width_ind][valid_data_mask[:, height_ind, width_ind].squeeze()]
            valid_times = times[valid_data_mask[:, height_ind, width_ind].squeeze()]

            <a id="change">all_parameters[height_ind, width_ind]</a> = self._fit_optimize(valid_times, valid_curve)

        eopatch.data_timeless[self.new_feature] = all_parameters
</code></pre>