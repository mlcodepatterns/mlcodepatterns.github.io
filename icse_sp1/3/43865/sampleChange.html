<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    greater_assert = tf.Assert(
        tf.greater_equal(tf.reduce_min(input_tensor=labels), 0), [labels])
    with tf.control_dependencies([less_assert, greater_assert]):
      <a id="change">labels = tf.identity(labels)</a>
    positive_weights = (
        tf.cast(labels, tf.float32) * tf.cast(weights, tf.float32))
    summed_positive_weights = tf.math.unsorted_segment_sum(
        positive_weights, unique.idx, tf.size(input=unique.y))</code></pre><h3>After Change</h3><pre><code class='java'>
  Returns:
    See documentation for reduce_vocabulary_inputs
  
  <a id="change">unique_x_values</a>, unique_idx, unique_count = tf.unique_with_counts(
      x, out_idx=tf.int64)
  num_x_values = tf.shape(unique_x_values)[0]
</code></pre>