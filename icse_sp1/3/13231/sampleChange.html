<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                                                   self._env_spec, paths),
                                               discount=self._discount)

        <a id="change">samples_data = self._paths_to_tensors(paths)</a>

        samples_data[&quotaverage_return&quot] = np.mean(undiscounted_returns)

        logger.log(&quotOptimizing policy...&quot)
        self._optimize_policy(itr, samples_data)

        <a id="change">return samples_data[&quotaverage_return&quot]</a>

    def _optimize_policy(self, itr, samples_data):
        Optimize policy.
</code></pre><h3>After Change</h3><pre><code class='java'>
                     latents=episodes.agent_infos[&quotlatent&quot][start:stop]))
            baselines.append(baseline)
            start = stop
        baselines = <a id="change">episodes.pad_to_last(np.concatenate(baselines))</a>

        &#47&#47 Process trajectories
        embed_eps, embed_ep_infos = self._process_episodes(episodes)
</code></pre>