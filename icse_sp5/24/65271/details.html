<html><h3>32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15,art/attacks/evasion/universal_simba_dct.py,Universal_SimBA_dct,generate,#Universal_SimBA_dct#Any#Any#,75
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        last_probs = preds[(range(nb_instances),original_labels)]

        n_dims = np.prod(x[0].shape)
        <a id="change">if self.max_iter &gt; n_dims:
            self.max_iter = n_dims
            logger.info(&quot`max_iter` was reset to %d because it needs to be &#47&#47pixels x &#47&#47channels or less&quot, n_dims)

       </a> indices = self._block_order(x.shape[2], 3, initial_size=self.freq_dim, stride=self.stride)[:self.max_iter]
        trans = lambda z: self._block_idct(z, block_size=x.shape[2])

        clip_min = -np.inf</code></pre><h3>After Change</h3><pre><code class='java'>
        params = {&quotmax_iter&quot: max_iter, &quotepsilon&quot: epsilon, &quotfreq_dim&quot: freq_dim, &quotstride&quot: stride, &quotdelta&quot: delta, &quoteps&quot: eps, &quotnorm&quot: norm, &quotbatch_size&quot: batch_size}
        self.set_params(**params)

    def generate(<a id="change">self</a>, x, y=None, **kwargs):
        
        Generate adversarial samples and return them in an array.

        :param x: An array with the original inputs to be attacked.
        :type x: `np.ndarray`
        :param y: An array with the original labels to be predicted.
        :type y: `np.ndarray`
        :return: An array holding the adversarial examples.
        :rtype: `np.ndarray`
        
        x = x.astype(ART_NUMPY_DTYPE)
        nb_instances = x.shape[0]
        preds = self.classifier.predict(x, batch_size=self.batch_size)
        if y is None:
            y = np.argmax(preds, axis=1)
        original_labels = y
        current_labels = original_labels
        last_probs = preds[(range(nb_instances),original_labels)]

        n_dims = np.prod(x[0].shape)

        indices = self._block_order(x.shape[2], 3, initial_size=self.freq_dim, stride=self.stride)[:self.max_iter]
        <a id="change">indices_size = len(indices)</a>
        <a id="change">while indices_size &lt; self.max_iter:
            tmp_indices = self._block_order(x.shape[2], 3, initial_size=self.freq_dim, stride=self.stride)
            indices = np.hstack((indices, tmp_indices))[:self.max_iter]
            indices_size = len(indices)
        
       </a> trans = lambda z: self._block_idct(z, block_size=x.shape[2])

        clip_min = -np.inf
        clip_max = np.inf </code></pre><img src="302603695.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 17</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/IBM/adversarial-robustness-toolbox/commit/32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15#diff-0a50702bec08f25bbbaa3655cd8f61b83a459b8ae6542583d0fbc9c5ecbe0a1aL75' target='_blank'>Link</a></div><div id='project'> Project Name: IBM/adversarial-robustness-toolbox</div><div id='commit'> Commit Name: 32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15</div><div id='time'> Time: 2020-05-28</div><div id='author'> Author: kz.takemoto@gmail.com</div><div id='file'> File Name: art/attacks/evasion/universal_simba_dct.py</div><div id='class'> Class Name: Universal_SimBA_dct</div><div id='method'> Method Name: generate</div><BR><BR><div id='link'><a href='https://github.com/IBM/adversarial-robustness-toolbox/commit/32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15#diff-fa875db31904fc32e8ae0a0434ae5b5da0e5ed22b9e50f216afd79308cb34d6eL72' target='_blank'>Link</a></div><div id='project'> Project Name: IBM/adversarial-robustness-toolbox</div><div id='commit'> Commit Name: 32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15</div><div id='time'> Time: 2020-05-28</div><div id='author'> Author: kz.takemoto@gmail.com</div><div id='file'> File Name: art/attacks/evasion/universal_simba_pixel.py</div><div id='class'> Class Name: Universal_SimBA_pixel</div><div id='method'> Method Name: generate</div><BR><BR><div id='link'><a href='https://github.com/IBM/adversarial-robustness-toolbox/commit/32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15#diff-94410532ef9fcfe4b508ca4e1cf38d9aee457bed79514aef3cf8e46e1bcf6416L69' target='_blank'>Link</a></div><div id='project'> Project Name: IBM/adversarial-robustness-toolbox</div><div id='commit'> Commit Name: 32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15</div><div id='time'> Time: 2020-05-28</div><div id='author'> Author: kz.takemoto@gmail.com</div><div id='file'> File Name: art/attacks/evasion/simba_dct.py</div><div id='class'> Class Name: SimBA_dct</div><div id='method'> Method Name: generate</div><BR><BR><div id='link'><a href='https://github.com/IBM/adversarial-robustness-toolbox/commit/32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15#diff-7bf03450224f5841cd9fe440f305ffaf8d4c12aab1a63b39dd6a4b322d2a74a2L65' target='_blank'>Link</a></div><div id='project'> Project Name: IBM/adversarial-robustness-toolbox</div><div id='commit'> Commit Name: 32a9e66e0e45b1a6119fcb0e1ed5f74c0d5dab15</div><div id='time'> Time: 2020-05-28</div><div id='author'> Author: kz.takemoto@gmail.com</div><div id='file'> File Name: art/attacks/evasion/simba_pixel.py</div><div id='class'> Class Name: SimBA_pixel</div><div id='method'> Method Name: generate</div><BR>