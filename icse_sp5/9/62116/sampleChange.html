<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47 Sample any non-compartmental time series in batch.
        &#47&#47 TODO Consider using pyro.contrib.forecast.util.reshape_batch to
        &#47&#47 support DiscreteCosineReparam and HaarReparam along the time dim.
        <a id="change">for name, (fn, is_regional) in self._non_compartmental.items():
            fn = dist.ImproperUniform(fn.support, fn.batch_shape, fn.event_shape)
            with self.time_plate, optional(self.region_plate, is_regional):
                curr[name] = pyro.sample(name, fn)

        &#47&#47 Truncate final value from the right then pad initial value onto the left.
       </a> init = self.initialize(params)
        prev = {}
        for name, value in init.items():
            if name in self.compartments:</code></pre><h3>After Change</h3><pre><code class='java'>

        &#47&#47 Sample global parameters and auxiliary variables.
        params = self.global_model()
        <a id="change">auxiliary</a>, non_compartmental = self._sample_auxiliary()

        &#47&#47 Manually enumerate.
        curr, logp = quantize_enumerate(auxiliary, min=0, max=self.population,</code></pre>