<html><h3>1631ee13091869b0130175be720fa70e0e4a33d3,coremltools/test/test_one_hot_encoder.py,OneHotEncoderScikitTest,test_boston_OHE_pipeline,#OneHotEncoderScikitTest#,103
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

            result = evaluate_transformer(spec, input_data, output_data)

            <a id="change">assert result["num_errors"] == 0</a>
   
    def test_random_sparse_data(self): 

        n_columns = 8</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 Convert the model
            spec = sklearn.convert(model, data.feature_names, &quotout&quot).get_spec()

            <a id="change">if macos_version() &gt;= (10, 13):
                input_data = [dict(zip(data.feature_names, row)) for row in data.data]
                output_data = [{"out" : row} for row in model.transform(data.data.copy())]

                result = evaluate_transformer(spec, input_data, output_data)

                assert result["num_errors"] == 0
   
   </a> def test_random_sparse_data(self): 

        n_columns = 8
        n_categories = 20</code></pre><img src="2534406.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 28</div><BR><div id='size'>Non-data size: 6</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-4a67478484be49046ff74e939609cb89609c663a1c3281bd526ad0d7c3c67909L119' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_one_hot_encoder.py</div><div id='class'> Class Name: OneHotEncoderScikitTest</div><div id='method'> Method Name: test_boston_OHE_pipeline</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-b4a2b3b480a559f7ff45d4e838cb6cfac20132f3da0c5f0bba30c4b37778cc0dL194' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_NuSVR.py</div><div id='class'> Class Name: NuSVRLibSVMTest</div><div id='method'> Method Name: _test_evaluation</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-9674e7cb22e4c5efbdf682ca08fa276ba372d8b453cdbfb6fb4d322ada743b6bL196' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_NuSVC.py</div><div id='class'> Class Name: NuSVCLibSVMTest</div><div id='method'> Method Name: _test_prob_model</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-4a67478484be49046ff74e939609cb89609c663a1c3281bd526ad0d7c3c67909L50' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_one_hot_encoder.py</div><div id='class'> Class Name: OneHotEncoderScikitTest</div><div id='method'> Method Name: test_conversion_one_column</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-ea4f9c3a43388499d52b6c36c51275117b6cbf8996e9fd1ea7167f1097425c84L42' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_composite_pipelines.py</div><div id='class'> Class Name: GradientBoostingRegressorBostonHousingScikitNumericTest</div><div id='method'> Method Name: test_boston_OHE_plus_normalizer</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-e1bc667c78f978b57979055100ca6d8ada85173cc2473f8db28671ecaa6732bbL98' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_linear_regression.py</div><div id='class'> Class Name: LinearRegressionScikitTest</div><div id='method'> Method Name: test_linear_regression_evaluation</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-f371c6cfd942ead9e5e8ff0013420cac1c035c3b8ba0be8e3d3ae600e4831700L254' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_SVC.py</div><div id='class'> Class Name: CSVCLibSVMTest</div><div id='method'> Method Name: _evaluation_test_helper_with_probability</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-1c3ff5189c3928066f7c899f6ba5fcd3309dff0973ec6d4cfedea6339fdd7d1eL68' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_neural_networks.py</div><div id='class'> Class Name: BasicNumericCorrectnessTest</div><div id='method'> Method Name: test_classifier_no_name</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-a1e0640fa65d94deb6f5c25b5310bea5bd7b1ab3dfc6806d73c4b1571e5453f2L33' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_dict_vectorizer.py</div><div id='class'> Class Name: DictVectorizerScikitTest</div><div id='method'> Method Name: _test_conversion</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-7e2f9bb27a0f82930fe661910fd03f896350aba4d0ee789df12c270db14bb545L46' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_standard_scalar.py</div><div id='class'> Class Name: StandardScalerTestCase</div><div id='method'> Method Name: test_boston</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-4a67478484be49046ff74e939609cb89609c663a1c3281bd526ad0d7c3c67909L98' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_one_hot_encoder.py</div><div id='class'> Class Name: OneHotEncoderScikitTest</div><div id='method'> Method Name: test_boston_OHE</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-4a67478484be49046ff74e939609cb89609c663a1c3281bd526ad0d7c3c67909L142' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_one_hot_encoder.py</div><div id='class'> Class Name: OneHotEncoderScikitTest</div><div id='method'> Method Name: test_random_sparse_data</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-f371c6cfd942ead9e5e8ff0013420cac1c035c3b8ba0be8e3d3ae600e4831700L293' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_SVC.py</div><div id='class'> Class Name: CSVCLibSVMTest</div><div id='method'> Method Name: _evaluation_test_helper_no_probability</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-a1e0640fa65d94deb6f5c25b5310bea5bd7b1ab3dfc6806d73c4b1571e5453f2L87' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_dict_vectorizer.py</div><div id='class'> Class Name: DictVectorizerScikitTest</div><div id='method'> Method Name: test_int_features_in_pipeline</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-e1bc667c78f978b57979055100ca6d8ada85173cc2473f8db28671ecaa6732bbL125' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_linear_regression.py</div><div id='class'> Class Name: LinearRegressionScikitTest</div><div id='method'> Method Name: test_linear_svr_evaluation</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-f371c6cfd942ead9e5e8ff0013420cac1c035c3b8ba0be8e3d3ae600e4831700L184' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_SVC.py</div><div id='class'> Class Name: CSVCLibSVMTest</div><div id='method'> Method Name: test_default_names</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-e186bc4422e9583fd5cb2f5e798eaec9b29e1935b6be2483a14ed2d336bf6ba3L220' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_SVR.py</div><div id='class'> Class Name: EpsilonSVRLibSVMTest</div><div id='method'> Method Name: _test_evaluation</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-b4a2b3b480a559f7ff45d4e838cb6cfac20132f3da0c5f0bba30c4b37778cc0dL100' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_NuSVR.py</div><div id='class'> Class Name: NuSVRScikitTest</div><div id='method'> Method Name: _test_evaluation</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-4a67478484be49046ff74e939609cb89609c663a1c3281bd526ad0d7c3c67909L63' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_one_hot_encoder.py</div><div id='class'> Class Name: OneHotEncoderScikitTest</div><div id='method'> Method Name: test_conversion_many_columns</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-4a67478484be49046ff74e939609cb89609c663a1c3281bd526ad0d7c3c67909L76' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_one_hot_encoder.py</div><div id='class'> Class Name: OneHotEncoderScikitTest</div><div id='method'> Method Name: test_conversion_one_column_of_several</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-d898232e8a8d919fdca612a1f821a25f0cbb7376e844078950d548839711adc7L25' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_custom_neural_nets.py</div><div id='class'> Class Name: SimpleTest</div><div id='method'> Method Name: test_fixed_seq_len</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-e186bc4422e9583fd5cb2f5e798eaec9b29e1935b6be2483a14ed2d336bf6ba3L107' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_SVR.py</div><div id='class'> Class Name: SvrScikitTest</div><div id='method'> Method Name: _test_evaluation</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-1c3ff5189c3928066f7c899f6ba5fcd3309dff0973ec6d4cfedea6339fdd7d1eL43' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_neural_networks.py</div><div id='class'> Class Name: BasicNumericCorrectnessTest</div><div id='method'> Method Name: test_classifier</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-d380d1dfeb6a6dafe8658fbb3544c55b7a0241d0ea95064acece5905fd4b232fL50' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_imputer.py</div><div id='class'> Class Name: NumericalImputerTestCase</div><div id='method'> Method Name: test_conversion_boston</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-dc468b2959c66e8184fd248502dfece3e1db42b9ddc5e7591df8975068a5b6d7L55' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_utils.py</div><div id='class'> Class Name: PipeLineRenameTests</div><div id='method'> Method Name: test_pipeline_rename</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-ea4f9c3a43388499d52b6c36c51275117b6cbf8996e9fd1ea7167f1097425c84L63' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_composite_pipelines.py</div><div id='class'> Class Name: GradientBoostingRegressorBostonHousingScikitNumericTest</div><div id='method'> Method Name: test_boston_OHE_plus_trees</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-7e2f9bb27a0f82930fe661910fd03f896350aba4d0ee789df12c270db14bb545L32' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_standard_scalar.py</div><div id='class'> Class Name: StandardScalerTestCase</div><div id='method'> Method Name: test_random</div><BR><BR><div id='link'><a href='https://github.com/apple/coremltools/commit/1631ee13091869b0130175be720fa70e0e4a33d3#diff-e186bc4422e9583fd5cb2f5e798eaec9b29e1935b6be2483a14ed2d336bf6ba3L147' target='_blank'>Link</a></div><div id='project'> Project Name: apple/coremltools</div><div id='commit'> Commit Name: 1631ee13091869b0130175be720fa70e0e4a33d3</div><div id='time'> Time: 2018-01-23</div><div id='author'> Author: glarsson@apple.com</div><div id='file'> File Name: coremltools/test/test_SVR.py</div><div id='class'> Class Name: EpsilonSVRLibSVMTest</div><div id='method'> Method Name: test_input_names</div><BR>