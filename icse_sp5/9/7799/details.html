<html><h3>b2b1804f5ef26841afe438d752c9d601c7468769,homeassistant/components/camera/__init__.py,Camera,mjpeg_stream,#Camera#Any#,89
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def mjpeg_stream(self, response):
        Generate an HTTP MJPEG stream from camera images.
        import eventlet
        <a id="change">response.content_type = (&quotmultipart/x-mixed-replace; &quot
                                 &quotboundary=--jpegboundary&quot)</a>

        def stream():
            Stream images as mjpeg stream.
            try:
                last_image = None
                while True:
                    img_bytes = self.camera_image()

                    if img_bytes is not None and img_bytes != last_image:
                        yield bytes(
                            &quot--jpegboundary\r\n&quot
                            &quotContent-Type: image/jpeg\r\n&quot
                            &quotContent-Length: {}\r\n\r\n&quot.format(
                                len(img_bytes)), &quotutf-8&quot) + img_bytes + b&quot\r\n&quot

                        last_image = img_bytes

                    eventlet.sleep(0.5)
            except GeneratorExit:
                pass

        <a id="change">response.response = stream()</a>

        <a id="change">return response</a>

    @property
    def state(self):
        Camera state.</code></pre><h3>After Change</h3><pre><code class='java'>
            except GeneratorExit:
                pass

        <a id="change">return response(
            stream(),
            content_type=(&quotmultipart/x-mixed-replace; &quot
                          &quotboundary=--jpegboundary&quot)
        )</a>

    @property
    def state(self):
        Camera state.</code></pre><img src="50108924.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 8</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/b2b1804f5ef26841afe438d752c9d601c7468769#diff-75655c0eec1c3e736cad1bdb5627100a4595ece9accc391b5c85343bb998594fL92' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: b2b1804f5ef26841afe438d752c9d601c7468769</div><div id='time'> Time: 2016-06-12</div><div id='author'> Author: st.john.johnson@gmail.com</div><div id='file'> File Name: homeassistant/components/camera/__init__.py</div><div id='class'> Class Name: Camera</div><div id='method'> Method Name: mjpeg_stream</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/b2b1804f5ef26841afe438d752c9d601c7468769#diff-75655c0eec1c3e736cad1bdb5627100a4595ece9accc391b5c85343bb998594fL92' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: b2b1804f5ef26841afe438d752c9d601c7468769</div><div id='time'> Time: 2016-06-12</div><div id='author'> Author: st.john.johnson@gmail.com</div><div id='file'> File Name: homeassistant/components/camera/__init__.py</div><div id='class'> Class Name: Camera</div><div id='method'> Method Name: mjpeg_stream</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/b2b1804f5ef26841afe438d752c9d601c7468769#diff-25c0142a59c4c1586f439ee1dcf6581ed8860e210de44c7933086fcc5a50b84eL73' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: b2b1804f5ef26841afe438d752c9d601c7468769</div><div id='time'> Time: 2016-06-12</div><div id='author'> Author: st.john.johnson@gmail.com</div><div id='file'> File Name: homeassistant/components/camera/mjpeg.py</div><div id='class'> Class Name: MjpegCamera</div><div id='method'> Method Name: mjpeg_stream</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/3723c3a7e824bcfbda38f3e0788dc8b1dd2858a9#diff-25c0142a59c4c1586f439ee1dcf6581ed8860e210de44c7933086fcc5a50b84eL73' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 3723c3a7e824bcfbda38f3e0788dc8b1dd2858a9</div><div id='time'> Time: 2016-06-11</div><div id='author'> Author: st.john.johnson@gmail.com</div><div id='file'> File Name: homeassistant/components/camera/mjpeg.py</div><div id='class'> Class Name: MjpegCamera</div><div id='method'> Method Name: mjpeg_stream</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/3723c3a7e824bcfbda38f3e0788dc8b1dd2858a9#diff-75655c0eec1c3e736cad1bdb5627100a4595ece9accc391b5c85343bb998594fL85' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: 3723c3a7e824bcfbda38f3e0788dc8b1dd2858a9</div><div id='time'> Time: 2016-06-11</div><div id='author'> Author: st.john.johnson@gmail.com</div><div id='file'> File Name: homeassistant/components/camera/__init__.py</div><div id='class'> Class Name: Camera</div><div id='method'> Method Name: mjpeg_stream</div><BR>