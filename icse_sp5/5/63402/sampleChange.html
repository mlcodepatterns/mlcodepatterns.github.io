<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
def dist_acc(dists, thr=0.5):
    &quot&quot&quot Return percentage below threshold while ignoring values with a -1 &quot&quot&quot
    if dists.ne(-1).sum() &gt; 0:
        <a id="change">return dists.le(thr).eq(dists.ne(-1)).sum()*1.0 / dists.ne(-1).sum()</a>
    else:
        return -1

def accuracy(output, target, idxs, thr=0.5):</code></pre><h3>After Change</h3><pre><code class='java'>

def dist_acc(dist, thr=0.5):
    &quot&quot&quot Return percentage below threshold while ignoring values with a -1 &quot&quot&quot
    <a id="change">dist = dist[dist != -1]</a>
    if <a id="change">len(dist)</a> &gt; 0:
        return 1.0 * (dist &lt; thr).sum().item() / len(dist)
    else:
        return -1</code></pre>