<html><h3>adb2f55d8629b588bba17a5232946b2245c157fc,tests/test_preprocessing.py,,encoded_data,#Any#,32
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>


def encoded_data(data):
    dat_cat = data.select_dtypes(include=<a id="change">["category"]</a>)

    expected_cat = {}
    for nam, col in dat_cat.iteritems():
        for cat in col.cat.categories[1:]:
            expected_cat[&quot{}={}&quot.format(nam, cat)] = pd.Series(
                col == cat, dtype=np.float64)
    expected_cat = pd.DataFrame(expected_cat)

    <a id="change">expected_data = pd.concat((data.drop(dat_cat, axis=1), expected_cat), axis=1)</a>
    return expected_data


class TestOneHotEncoder(TestCase):</code></pre><h3>After Change</h3><pre><code class='java'>
def encoded_data(data):
    expected = []
    for nam, col in data.iteritems():
        <a id="change">if hasattr(col, "cat"):
            for cat in col.cat.categories[1:]:
                name = &quot{}={}&quot.format(nam, cat)
                s = pd.Series(col == cat, dtype=np.float64)
                expected.append((name, s))
        else:
            expected.append((nam, col))

   </a> expected_data = pd.DataFrame.from_items(expected)
    return expected_data

</code></pre><img src="327744763.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/sebp/scikit-survival/commit/adb2f55d8629b588bba17a5232946b2245c157fc#diff-88a76cb9a5106233fb998861295ace7337171316d0966361b31dd2ff59ce2842L33' target='_blank'>Link</a></div><div id='project'> Project Name: sebp/scikit-survival</div><div id='commit'> Commit Name: adb2f55d8629b588bba17a5232946b2245c157fc</div><div id='time'> Time: 2017-07-23</div><div id='author'> Author: sebp@k-d-w.org</div><div id='file'> File Name: tests/test_preprocessing.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: encoded_data</div><BR><BR><div id='link'><a href='https://github.com/HDI-Project/ATM/commit/dea98f8e7c2e6c5e37ffb81bc2f52f386bb99a3e#diff-f22177f4e62eb81f233d8d1efb74c080a980c922cbe46ecceb9bc3387a50669aL87' target='_blank'>Link</a></div><div id='project'> Project Name: HDI-Project/ATM</div><div id='commit'> Commit Name: dea98f8e7c2e6c5e37ffb81bc2f52f386bb99a3e</div><div id='time'> Time: 2017-12-21</div><div id='author'> Author: bcyphers@mit.edu</div><div id='file'> File Name: atm/encoder.py</div><div id='class'> Class Name: DataEncoder</div><div id='method'> Method Name: transform</div><BR><BR><div id='link'><a href='https://github.com/tyarkoni/pliers/commit/9d478d351665502019ac40a7302e769b9d3f6660#diff-708bc2df92fe7e71c3982c3d111baf625e17f825e2e7c0ca1a6f4a168ee61678L269' target='_blank'>Link</a></div><div id='project'> Project Name: tyarkoni/pliers</div><div id='commit'> Commit Name: 9d478d351665502019ac40a7302e769b9d3f6660</div><div id='time'> Time: 2018-04-17</div><div id='author'> Author: quinten.mcnamara@gmail.com</div><div id='file'> File Name: pliers/extractors/api/google.py</div><div id='class'> Class Name: GoogleVideoIntelligenceAPIExtractor</div><div id='method'> Method Name: _to_df</div><BR>