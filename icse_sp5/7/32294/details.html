<html><h3>4d6e349e05de71d7473ad2ed853b4f9b40746409,scattertext/TermDocMatrix.py,TermDocMatrix,get_metadata_freq_df,#TermDocMatrix#Any#,188
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        -------
        pd.DataFrame indexed on metadata, with columns giving frequencies for each category
        &quot&quot&quot
        <a id="change">row = self._row_category_ids_for_meta()</a>
        <a id="change">newX = csr_matrix((self._mX.data, (row, self._mX.indices)))</a>
        <a id="change">return self._metadata_freq_df_from_matrix(newX, label_append)</a>

    def _row_category_ids(self):
        row = self._X.tocoo().row
        for i, cat in enumerate(self._y):</code></pre><h3>After Change</h3><pre><code class='java'>
                            dtype=self.get_metadata_doc_mat().dtype)
        for cat_i in range(self.get_num_categories()):
            freq_mat[:, cat_i] = self._mX[self._y == cat_i, :].sum(axis=0)
        <a id="change">return pd.DataFrame(freq_mat,
                            index=pd.Series(self.get_metadata(), name=&quotterm&quot),
                            columns=[c + label_append for c in self.get_categories()])</a>

    def _row_category_ids(self):
        row = self._X.tocoo().row
        for i, cat in enumerate(self._y):</code></pre><img src="159069099.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/JasonKessler/scattertext/commit/4d6e349e05de71d7473ad2ed853b4f9b40746409#diff-4d648344ca71610fd2f1a42275a042d97877b7afa91b269224bb7be5b9e277a1L188' target='_blank'>Link</a></div><div id='project'> Project Name: JasonKessler/scattertext</div><div id='commit'> Commit Name: 4d6e349e05de71d7473ad2ed853b4f9b40746409</div><div id='time'> Time: 2020-02-22</div><div id='author'> Author: JasonKessler@users.noreply.github.com</div><div id='file'> File Name: scattertext/TermDocMatrix.py</div><div id='class'> Class Name: TermDocMatrix</div><div id='method'> Method Name: get_metadata_freq_df</div><BR><BR><div id='link'><a href='https://github.com/JasonKessler/scattertext/commit/6e6178652fe86ad00cd96bfcd97e613ff50816fa#diff-a42acd9535e0243fac63f687339012bef54eb734065b89ba5edd87d1052df42dL7' target='_blank'>Link</a></div><div id='project'> Project Name: JasonKessler/scattertext</div><div id='commit'> Commit Name: 6e6178652fe86ad00cd96bfcd97e613ff50816fa</div><div id='time'> Time: 2018-03-13</div><div id='author'> Author: Jason.Kessler@cdk.com</div><div id='file'> File Name: scattertext/termranking/OncePerDocFrequencyRanker.py</div><div id='class'> Class Name: OncePerDocFrequencyRanker</div><div id='method'> Method Name: get_ranks</div><BR><BR><div id='link'><a href='https://github.com/JasonKessler/scattertext/commit/810364662754ff3d11a9a573657fb572ae7135f7#diff-687d9446a29f7801e362484b610717bc5e80773653723efc2485bb6a935d1493L12' target='_blank'>Link</a></div><div id='project'> Project Name: JasonKessler/scattertext</div><div id='commit'> Commit Name: 810364662754ff3d11a9a573657fb572ae7135f7</div><div id='time'> Time: 2018-12-05</div><div id='author'> Author: JasonKessler@users.noreply.github.com</div><div id='file'> File Name: scattertext/termranking/DocLengthNormalizedFrequencyRanker.py</div><div id='class'> Class Name: DocLengthNormalizedFrequencyRanker</div><div id='method'> Method Name: get_ranks</div><BR>