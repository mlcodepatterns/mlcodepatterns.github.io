<html><h3>ff9688bb7a135d7d50208908d930f1be61add773,tests/components/switch/test_vultr.py,TestVultrSwitchSetup,test_turn_off,#TestVultrSwitchSetup#Any#,146
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    @requests_mock.Mocker()
    def test_turn_off(self, mock):
        Test turning a subscription off.
        <a id="change">mock.get(
            &quothttps://api.vultr.com/v1/server/list?api_key=ABCDEFG1234567&quot,
            text=load_fixture(&quotvultr_server_list.json&quot))</a>

        mock.post(
            &quothttps://api.vultr.com/v1/server/halt?api_key=ABCDEFG1234567&quot)
</code></pre><h3>After Change</h3><pre><code class='java'>
    @requests_mock.Mocker()
    def test_turn_off(self, mock):
        Test turning a subscription off.
        <a id="change">with patch(
            &quotvultr.Vultr.server_list&quot,
            return_value=json.loads(load_fixture(&quotvultr_server_list.json&quot))), \
                patch(&quotvultr.Vultr.server_halt&quot) as mock_halt:
            for device in self.DEVICES:
                if device.name == &quotA Server&quot:
                    device.turn_off()

        &#47&#47 Turn off
       </a> self.assertEqual(1, mock_halt.call_count)

    def test_invalid_switch_config(self):
        Test config type failures.</code></pre><img src="229929829.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 8</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-7b5ad669c0c4189e7e0974753761d9eab7dbad10fa575b4eef5b2b6be1e0b0c3L148' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/switch/test_vultr.py</div><div id='class'> Class Name: TestVultrSwitchSetup</div><div id='method'> Method Name: test_turn_off</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-ff93de290621fae6a63a2d55aea8beb5de25562e5d7f80623847d89ac09b4ca6L149' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/sensor/test_vultr.py</div><div id='class'> Class Name: TestVultrSensorSetup</div><div id='method'> Method Name: test_invalid_sensors</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-ff93de290621fae6a63a2d55aea8beb5de25562e5d7f80623847d89ac09b4ca6L62' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/sensor/test_vultr.py</div><div id='class'> Class Name: TestVultrSensorSetup</div><div id='method'> Method Name: test_sensor</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-235c8614eb5e9ded64cad5a2aa0065668a56e34235d077e10886aadf552b2c76L139' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/binary_sensor/test_vultr.py</div><div id='class'> Class Name: TestVultrBinarySensorSetup</div><div id='method'> Method Name: test_invalid_sensors</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-7b5ad669c0c4189e7e0974753761d9eab7dbad10fa575b4eef5b2b6be1e0b0c3L173' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/switch/test_vultr.py</div><div id='class'> Class Name: TestVultrSwitchSetup</div><div id='method'> Method Name: test_invalid_switches</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-235c8614eb5e9ded64cad5a2aa0065668a56e34235d077e10886aadf552b2c76L63' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/binary_sensor/test_vultr.py</div><div id='class'> Class Name: TestVultrBinarySensorSetup</div><div id='method'> Method Name: test_binary_sensor</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-7b5ad669c0c4189e7e0974753761d9eab7dbad10fa575b4eef5b2b6be1e0b0c3L131' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/switch/test_vultr.py</div><div id='class'> Class Name: TestVultrSwitchSetup</div><div id='method'> Method Name: test_turn_on</div><BR><BR><div id='link'><a href='https://github.com/home-assistant/home-assistant/commit/ff9688bb7a135d7d50208908d930f1be61add773#diff-7b5ad669c0c4189e7e0974753761d9eab7dbad10fa575b4eef5b2b6be1e0b0c3L60' target='_blank'>Link</a></div><div id='project'> Project Name: home-assistant/home-assistant</div><div id='commit'> Commit Name: ff9688bb7a135d7d50208908d930f1be61add773</div><div id='time'> Time: 2018-01-05</div><div id='author'> Author: paulus@paulusschoutsen.nl</div><div id='file'> File Name: tests/components/switch/test_vultr.py</div><div id='class'> Class Name: TestVultrSwitchSetup</div><div id='method'> Method Name: test_switch</div><BR>