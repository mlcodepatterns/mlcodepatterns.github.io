<html><h3>91e2f847f6dd9d57af9276d8d4aeee1e1fdc9030,tensorflow_transform/mappers.py,,apply_vocab,#Any#Any#Any#Any#Any#Any#,373
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    table_size = table.size()
    return table.lookup(y), table_size

  <a id="change">with tf.name_scope(name, &quotapply_vocab&quot):
    lookup_fn = lookup_fn or _apply_vocab

    result, table_size = api.apply_function(
        lookup_fn, x, deferred_vocab_filename_tensor)

    &#47&#47 Specify schema overrides which will override the values in the schema
    &#47&#47 with the min and max values, which are deferred as they are only known
    &#47&#47 once the analyzer has run.
    &#47&#47
    &#47&#47 `table_size` includes the num oov buckets.  The default value is only used
    &#47&#47 if num_oov_buckets &gt; 0.
    min_value = tf.constant(0, tf.int64)
    max_value = table_size - 1
    if num_oov_buckets &lt;= 0:
      min_value = tf.minimum(min_value, default_value)
      max_value = tf.maximum(max_value, default_value)
    api.set_tensor_schema_overrides(result, min_value, max_value)

    return result


</a>def segment_indices(segment_ids, name=None):
  Returns a `Tensor` of indices within each segment.

  segment_ids should be a sequence of non-decreasing non-negative integers that</code></pre><h3>After Change</h3><pre><code class='java'>
                lookup_fn=None,
                name=None):
  rSee `tft.apply_vocabulary`.
  <a id="change">return apply_vocabulary(
      x=x,
      deferred_vocab_filename_tensor=deferred_vocab_filename_tensor,
      default_value=default_value,
      num_oov_buckets=num_oov_buckets,
      lookup_fn=lookup_fn,
      name=name)</a>


def segment_indices(segment_ids, name=None):
  Returns a `Tensor` of indices within each segment.</code></pre><img src="242166957.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/transform/commit/91e2f847f6dd9d57af9276d8d4aeee1e1fdc9030#diff-dcec9bd973f2f46e68ca544bf5be0c6791bb7fd64b09eb8afa3aba205e9775a6L416' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/transform</div><div id='commit'> Commit Name: 91e2f847f6dd9d57af9276d8d4aeee1e1fdc9030</div><div id='time'> Time: 2018-06-12</div><div id='author'> Author: tf-transform-dev@google.com</div><div id='file'> File Name: tensorflow_transform/mappers.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: apply_vocab</div><BR><BR><div id='link'><a href='https://github.com/rwth-i6/returnn/commit/db8867190494f2dc7cebb7203978770458cc23c8#diff-e7a04accc82d92d3a03f81442b2295e9a54d4a078a46e9bdaf6329d5e6b70c4aL695' target='_blank'>Link</a></div><div id='project'> Project Name: rwth-i6/returnn</div><div id='commit'> Commit Name: db8867190494f2dc7cebb7203978770458cc23c8</div><div id='time'> Time: 2021-03-12</div><div id='author'> Author: albzey@gmail.com</div><div id='file'> File Name: returnn/tf/layers/base.py</div><div id='class'> Class Name: LayerBase</div><div id='method'> Method Name: get_batch_dim</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/f2ea2f537967af92fd47eeeb91b0e312aedaddad#diff-1f7207ecaf127124ee22dc55b178987056c4714adbbcd568660f697568778fccL146' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: f2ea2f537967af92fd47eeeb91b0e312aedaddad</div><div id='time'> Time: 2019-05-24</div><div id='author'> Author: tobyboyd@google.com</div><div id='file'> File Name: official/transformer/v2/transformer_main.py</div><div id='class'> Class Name: TransformerTask</div><div id='method'> Method Name: eval</div><BR><BR><div id='link'><a href='https://github.com/rlworkgroup/garage/commit/6c6331df007fb155331c2fac0107b412ab62d943#diff-bbd5209de5b67725c67506116b03ef2e39c3c839e87624f620b58d31e351686aL120' target='_blank'>Link</a></div><div id='project'> Project Name: rlworkgroup/garage</div><div id='commit'> Commit Name: 6c6331df007fb155331c2fac0107b412ab62d943</div><div id='time'> Time: 2019-09-21</div><div id='author'> Author: ahtsans@gmail.com</div><div id='file'> File Name: src/garage/tf/policies/continuous_mlp_policy.py</div><div id='class'> Class Name: ContinuousMLPPolicy</div><div id='method'> Method Name: get_action_sym</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/transform/commit/91e2f847f6dd9d57af9276d8d4aeee1e1fdc9030#diff-dcec9bd973f2f46e68ca544bf5be0c6791bb7fd64b09eb8afa3aba205e9775a6L363' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/transform</div><div id='commit'> Commit Name: 91e2f847f6dd9d57af9276d8d4aeee1e1fdc9030</div><div id='time'> Time: 2018-06-12</div><div id='author'> Author: tf-transform-dev@google.com</div><div id='file'> File Name: tensorflow_transform/mappers.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: string_to_int</div><BR>