<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

                }
            }
            <a id="change">QA_signal_send(message,client)</a>
    def QA_account_renew(self):
        &#47&#47未来发送给R,P的
        pass
    def QA_account_calc_profit(self):</code></pre><h3>After Change</h3><pre><code class='java'>
            }
            
        else:
            message=<a id="change">{
                &quotheader&quot:{
                    &quotsource&quot:&quotaccount&quot,
                    &quotcookie&quot:self.account_cookie,
                    &quotsession&quot:{
                        &quotuser&quot:update_message[&quotuser&quot],
                        &quotstrategy&quot:update_message[&quotstrategy&quot]
                    }
                    
                    },
                &quotbody&quot:{
                    &quotaccount&quot:{
                        &quotinit_assest&quot:self.assets,
                        &quotportfolio&quot:self.portfolio,
                        &quothistory&quot:self.history_trade,
                        &quotassest_now&quot:self.assets,
                        &quotassest_history&quot:self.total_assest,
                        &quotassest_free&quot:self.assets_free,
                        &quotassest_fix&quot:self.assets_market_hold_value,
                        &quotprofit&quot:self.portfit,
                        &quotcur_profit&quot:self.cur_profit
                    },
                    &quotbid&quot:update_message[&quotbid&quot],
                    &quotmarket&quot:update_message[&quotmarket&quot],
                    &quottime&quot:datetime.datetime.now(),
                    &quotdate_stamp&quot:str(datetime.datetime.now().timestamp())


                }
            }</a>
            &#47&#47属于不更新history和portfolio,但是要继续增加账户和日期的
        self.message=message
        
    def QA_account_renew(self):</code></pre>