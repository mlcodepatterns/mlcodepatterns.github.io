<html><h3>e8d6fd1a77df735a6362003014515d8249617011,deslib/des/des_knn.py,DESKNN,predict_proba_with_ds,#DESKNN#Any#Any#Any#Any#Any#Any#,343
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                          Probability estimates for all test examples.
        

        <a id="change">if query.shape[0] != probabilities.shape[0]:
            raise ValueError(
                &quotThe arrays query and predictions must have the same number&quot
                &quot of samples. query.shape is {}&quot
                &quotand predictions.shape is {}&quot.format(query.shape,
                                                     predictions.shape))

       </a> accuracy, diversity = self.estimate_competence(query,
                                                       neighbors,
                                                       distances=distances,
                                                       predictions=predictions)
        if self.DFP:
            accuracy = accuracy * DFP_mask

        &#47&#47 This method always performs selection. There is no weighted version.
        selected_classifiers = self.select(accuracy, diversity)
        <a id="change">ensemble_proba = probabilities[
                         np.arange(probabilities.shape[0])[:, None],
                         selected_classifiers, :]</a>

        <a id="change">predicted_proba = np.mean(ensemble_proba, axis=1)</a>

        return predicted_proba

    def _check_parameters(self):</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 This method always performs selection. There is no weighted version.
        selected_classifiers = self.select(accuracy, diversity)

        <a id="change">if self.voting == &quothard&quot:
            votes = predictions[np.arange(predictions.shape[0])[:, None],
                                selected_classifiers]
            votes = sum_votes_per_class(votes, self.n_classes_)
            predicted_proba = votes / votes.sum(axis=1)[:, None]
        else:
            ensemble_proba = probabilities[
                             np.arange(probabilities.shape[0])[:, None],
                             selected_classifiers, :]

            predicted_proba = np.mean(ensemble_proba, axis=1)

       </a> return predicted_proba

    def _check_parameters(self):
        Check if the parameters passed as argument are correct.</code></pre><img src="8481062.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 34</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/scikit-learn-contrib/DESlib/commit/e8d6fd1a77df735a6362003014515d8249617011#diff-917b6558cc39ffefa2eaa2e531220628d98faef4d1014362aa8d7871ac936c09L322' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-learn-contrib/DESlib</div><div id='commit'> Commit Name: e8d6fd1a77df735a6362003014515d8249617011</div><div id='time'> Time: 2021-03-27</div><div id='author'> Author: rafaelmenelau@gmail.com</div><div id='file'> File Name: deslib/des/des_knn.py</div><div id='class'> Class Name: DESKNN</div><div id='method'> Method Name: predict_proba_with_ds</div><BR><BR><div id='link'><a href='https://github.com/scikit-learn-contrib/DESlib/commit/e8d6fd1a77df735a6362003014515d8249617011#diff-8f7a6bbb5cc4b2c27507b741ab3849957f6e35ee2de8ef4d6566aaa92617c5c8L327' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-learn-contrib/DESlib</div><div id='commit'> Commit Name: e8d6fd1a77df735a6362003014515d8249617011</div><div id='time'> Time: 2021-03-27</div><div id='author'> Author: rafaelmenelau@gmail.com</div><div id='file'> File Name: deslib/des/des_clustering.py</div><div id='class'> Class Name: DESClustering</div><div id='method'> Method Name: predict_proba_with_ds</div><BR><BR><div id='link'><a href='https://github.com/scikit-learn-contrib/DESlib/commit/e8d6fd1a77df735a6362003014515d8249617011#diff-e0eb45f952193a41d4d0dde9a421a5bde0013d3ef9e26fde757147c6778e41b9L259' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-learn-contrib/DESlib</div><div id='commit'> Commit Name: e8d6fd1a77df735a6362003014515d8249617011</div><div id='time'> Time: 2021-03-27</div><div id='author'> Author: rafaelmenelau@gmail.com</div><div id='file'> File Name: deslib/des/des_mi.py</div><div id='class'> Class Name: DESMI</div><div id='method'> Method Name: predict_proba_with_ds</div><BR><BR><div id='link'><a href='https://github.com/scikit-learn-contrib/DESlib/commit/e8d6fd1a77df735a6362003014515d8249617011#diff-917b6558cc39ffefa2eaa2e531220628d98faef4d1014362aa8d7871ac936c09L343' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-learn-contrib/DESlib</div><div id='commit'> Commit Name: e8d6fd1a77df735a6362003014515d8249617011</div><div id='time'> Time: 2021-03-27</div><div id='author'> Author: rafaelmenelau@gmail.com</div><div id='file'> File Name: deslib/des/des_knn.py</div><div id='class'> Class Name: DESKNN</div><div id='method'> Method Name: predict_proba_with_ds</div><BR>