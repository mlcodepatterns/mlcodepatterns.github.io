<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    help=&quotNumber of workers when using collective all reduce strategy.&quot)

&#47&#47 Cloud TPU Cluster Resolvers
<a id="change">flags.DEFINE_string(
    &quottpu&quot,
    default=None,
    help=&quotThe Cloud TPU to use for training. This should be either the name &quot
    &quotused when creating the Cloud TPU, or a grpc://ip.address.of.tpu:8470 &quot
    &quoturl.&quot)</a>
<a id="change">flags.DEFINE_string(
    &quotgcp_project&quot,
    default=None,
    help=&quotProject name for the Cloud TPU-enabled project. If not specified, we &quot
    &quotwill attempt to automatically detect the GCE project from metadata.&quot)</a>
flags.DEFINE_string(
    &quottpu_zone&quot,
    default=None,
    help=&quotGCE zone where the Cloud TPU is located in. If not specified, we &quot
    &quotwill attempt to automatically detect the GCE project from metadata.&quot)

&#47&#47 TPUEstimator parameters
flags.DEFINE_integer(
    &quotnum_cores&quot, default=8, help=&quotNumber of TPU cores for training&quot)
flags.DEFINE_multi_integer(
    &quotinput_partition_dims&quot, None,
    &quotA list that describes the partition dims for all the tensors.&quot)
<a id="change">flags.DEFINE_integer(&quotiterations_per_loop&quot, 2500,
                     &quotNumber of iterations per TPU training loop&quot)</a>
flags.DEFINE_bool(
    &quottranspose_input&quot,
    default=True,
    help=&quotUse TPU double transpose optimization&quot)

&#47&#47 Model specific paramenters
flags.DEFINE_string(
    &quoteval_master&quot, default=&quot&quot,
    help=&quotGRPC URL of the eval master. Set to an appropiate value when running &quot
    &quoton CPU/GPU&quot)
flags.DEFINE_bool(&quotuse_tpu&quot, True, &quotUse TPUs rather than CPUs&quot)
flags.DEFINE_string(&quotmodel_dir&quot, None, &quotLocation of model_dir&quot)
<a id="change">flags.DEFINE_string(
    &quotconfig&quot, &quot&quot,
    &quotA comma-separated k=v pairs, or a YAML config file that specifies the &quot
    &quotparameters to build, train and eval the model.&quot)</a>

flags.DEFINE_string(&quotmode&quot, &quottrain&quot,
                    &quotMode to run: train or eval (default: train)&quot)
<a id="change">flags.DEFINE_bool(&quoteval_after_training&quot, False, &quotRun one eval after the &quot
                  &quottraining finishes.&quot)</a>
flags.DEFINE_bool(&quotuse_fake_data&quot, False, &quotUse fake input.&quot)

&#47&#47 For Eval mode
flags.DEFINE_integer(&quotmin_eval_interval&quot, 180,</code></pre><h3>After Change</h3><pre><code class='java'>
from configs import mask_rcnn_config

common_tpu_flags.define_common_tpu_flags()
<a id="change">common_hparams_flags.define_common_hparams_flags()</a>

flags.DEFINE_string(
    &quotdistribution_strategy&quot,
    default=&quottpu&quot,</code></pre>