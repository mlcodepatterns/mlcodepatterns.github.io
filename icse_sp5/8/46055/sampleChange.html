<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

import torch

<a id="change">device = torch.device(&quotcuda&quot if torch.cuda.is_available() else &quotcpu&quot)</a>

BATCH_SIZE = 128

<a id="change">train_iterator, valid_iterator, test_iterator = BucketIterator.splits(
    (train_data, valid_data, test_data),
    batch_size = BATCH_SIZE,
    device = device)</a>

&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
&#47&#47 These iterators can be called just like ``DataLoader``s; below, in
&#47&#47 the ``train`` and ``evaluate`` functions, they are called simply with:</code></pre><h3>After Change</h3><pre><code class='java'>
url_base = &quothttps://raw.githubusercontent.com/multi30k/dataset/master/data/task1/raw/&quot
train_urls = (&quottrain.de.gz&quot, &quottrain.en.gz&quot)
val_urls = (&quotval.de.gz&quot, &quotval.en.gz&quot)
<a id="change">test_urls = (&quottest_2016_flickr.de.gz&quot, &quottest_2016_flickr.en.gz&quot)</a>

train_filepaths = [extract_archive(download_from_url(url_base + url))[0] for url in train_urls]
val_filepaths = [extract_archive(download_from_url(url_base + url))[0] for url in val_urls]
<a id="change">test_filepaths = [extract_archive(download_from_url(url_base + url))[0] for url in test_urls]</a>

de_tokenizer = get_tokenizer(&quotspacy&quot, language=&quotde&quot)
en_tokenizer = get_tokenizer(&quotspacy&quot, language=&quoten&quot)
</code></pre>