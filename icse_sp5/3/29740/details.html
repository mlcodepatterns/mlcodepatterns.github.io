<html><h3>e42009c466dbb77532a96f7ce61cda68c4cc2708,django/comicsite/views.py,,inserted_file,#Any#Any#Any#,283
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        
    
     
    <a id="change">if not hasattr(settings,"COMIC_PUBLIC_FOLDER_NAME"):
        raise ImproperlyConfigured("Don&quott know from which folder serving files is allowed. Please add a setting \
                                    &quotCOMIC_PUBLIC_FOLDER_NAME = \"public_html\" to your .conf file." )
 
   </a> if not filepath.startswith(settings.COMIC_PUBLIC_FOLDER_NAME):
        &#47&#47FIXME:  throw 403 or proper permission denied here
        raise Http404("Permission Denied. Only objects in folder named &quot%s&quot can be served without credentials\
                       FIXME: throw proper 403 or permission denied here." % settings.COMIC_PUBLIC_FOLDER_NAME )        </code></pre><h3>After Change</h3><pre><code class='java'>
    filename = path.join(settings.DROPBOX_ROOT,site_short_name,filepath)
    
    
    if <a id="change">can_access(request.user,          
                  filename,
                  site_short_name,          
                  override_permission=ComicSiteModel.REGISTERED_ONLY)</a>:
        
        try:            
            file = open(filename,"rb")        </code></pre><img src="149325814.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/comic/grand-challenge.org/commit/e42009c466dbb77532a96f7ce61cda68c4cc2708#diff-73bd468e5edffd9a1ac1501928e6419a9357b9a34f33c77f6235a487d9e59be3L289' target='_blank'>Link</a></div><div id='project'> Project Name: comic/grand-challenge.org</div><div id='commit'> Commit Name: e42009c466dbb77532a96f7ce61cda68c4cc2708</div><div id='time'> Time: 2013-08-12</div><div id='author'> Author: w.s.kerkstra@gmail.com</div><div id='file'> File Name: django/comicsite/views.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: inserted_file</div><BR><BR><div id='link'><a href='https://github.com/comic/grand-challenge.org/commit/3690017687aaa601f0c300e20a43af1cd4905c5a#diff-73bd468e5edffd9a1ac1501928e6419a9357b9a34f33c77f6235a487d9e59be3L289' target='_blank'>Link</a></div><div id='project'> Project Name: comic/grand-challenge.org</div><div id='commit'> Commit Name: 3690017687aaa601f0c300e20a43af1cd4905c5a</div><div id='time'> Time: 2013-08-12</div><div id='author'> Author: w.s.kerkstra@gmail.com</div><div id='file'> File Name: django/comicsite/views.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: inserted_file</div><BR><BR><div id='link'><a href='https://github.com/comic/grand-challenge.org/commit/b1fb5fe599405f3b4e28e55d05539edf5deddf13#diff-91f8ed10fd9fda0ba7b7a6a067f32a0b7ca721f14be357c4cabb40f74e4de236L39' target='_blank'>Link</a></div><div id='project'> Project Name: comic/grand-challenge.org</div><div id='commit'> Commit Name: b1fb5fe599405f3b4e28e55d05539edf5deddf13</div><div id='time'> Time: 2018-08-29</div><div id='author'> Author: jamesmeakin@gmail.com</div><div id='file'> File Name: app/grandchallenge/serving/views.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: serve_folder</div><BR>