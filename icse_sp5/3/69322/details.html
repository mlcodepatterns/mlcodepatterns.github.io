<html><h3>33fde6b3013694aa9721bb24996bb6ff28a04d70,returnn/tf/layers/basic.py,BinaryCrossEntropyLoss,get_value,#BinaryCrossEntropyLoss#,6653
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    :rtype: tf.Tensor
    
    with tf.name_scope("loss_bin_ce"):
      out = <a id="change">tf.nn.sigmoid_cross_entropy_with_logits(
        logits=self.output_flat, labels=tf.cast(self.target_flat, self.output_flat.dtype))</a>
      return self.reduce_func(out) * (1.0 / (self.output.dim or 1))

  def get_error(self):
    </code></pre><h3>After Change</h3><pre><code class='java'>
    with tf.name_scope("loss_bin_ce"):
      target_flat = tf.cast(self.target_flat, self.output_flat.dtype)
      if self._pos_weight is None:
        <a id="change">out = tf.nn.sigmoid_cross_entropy_with_logits(logits=self.output_flat, labels=target_flat)</a>
      else:
        out = tf.nn.weighted_cross_entropy_with_logits(
          logits=self.output_flat, labels=target_flat, pos_weight=self._pos_weight)
      return self.reduce_func(out) * (1.0 / (self.output.dim or 1))</code></pre><img src="320837535.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/rwth-i6/returnn/commit/33fde6b3013694aa9721bb24996bb6ff28a04d70#diff-cfd6f0bfe2597365733be264893c4d9a5b53f23bf9d175e8ec79cb939ae97819L6658' target='_blank'>Link</a></div><div id='project'> Project Name: rwth-i6/returnn</div><div id='commit'> Commit Name: 33fde6b3013694aa9721bb24996bb6ff28a04d70</div><div id='time'> Time: 2020-08-07</div><div id='author'> Author: pwilken@apptek.com</div><div id='file'> File Name: returnn/tf/layers/basic.py</div><div id='class'> Class Name: BinaryCrossEntropyLoss</div><div id='method'> Method Name: get_value</div><BR><BR><div id='link'><a href='https://github.com/dhlab-epfl/dhSegment/commit/c9accdd97bb8071058fecf87aab5c166687ecc9b#diff-e3ffd2d5972c94517646c5e08b945d044ae35daef4e66c5439001e273dc7634eL13' target='_blank'>Link</a></div><div id='project'> Project Name: dhlab-epfl/dhSegment</div><div id='commit'> Commit Name: c9accdd97bb8071058fecf87aab5c166687ecc9b</div><div id='time'> Time: 2018-01-11</div><div id='author'> Author: sofia.oliveiraares@epfl.ch</div><div id='file'> File Name: doc_seg/model.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: model_fn</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/ranking/commit/6bf3f51cd0a312da842157665663c2dad9983248#diff-ac0a8b23265c0fdd56da5d2709bf0e7dfce716e2713c8c9fd8d44f4fd9461ff7L965' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/ranking</div><div id='commit'> Commit Name: 6bf3f51cd0a312da842157665663c2dad9983248</div><div id='time'> Time: 2021-01-29</div><div id='author'> Author: xuanhui@google.com</div><div id='file'> File Name: tensorflow_ranking/python/losses_impl.py</div><div id='class'> Class Name: ClickEMLoss</div><div id='method'> Method Name: compute_unreduced_loss</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/models/commit/0f7616bdade868fc1dd8c90adb6f7789176305a6#diff-8a33c3d6364a62c55c58d59bf15aa8f1957c2d672b991cb5a200ce26e0c522d8L131' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/models</div><div id='commit'> Commit Name: 0f7616bdade868fc1dd8c90adb6f7789176305a6</div><div id='time'> Time: 2020-08-10</div><div id='author'> Author: 30733558+plakal@users.noreply.github.com</div><div id='file'> File Name: research/audioset/vggish/vggish_train_demo.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: main</div><BR><BR><div id='link'><a href='https://github.com/p2irc/deepplantphenomics/commit/2e7c32174cdc305765e72a439333634611bc74e5#diff-27a7bb82922aabaac1ffae743bef79563d5b172ce9c08177b318af657b951c5bL157' target='_blank'>Link</a></div><div id='project'> Project Name: p2irc/deepplantphenomics</div><div id='commit'> Commit Name: 2e7c32174cdc305765e72a439333634611bc74e5</div><div id='time'> Time: 2019-10-31</div><div id='author'> Author: dbl599@mail.usask.ca</div><div id='file'> File Name: deepplantphenomics/semantic_segmentation_model.py</div><div id='class'> Class Name: SemanticSegmentationModel</div><div id='method'> Method Name: _graph_problem_loss</div><BR>