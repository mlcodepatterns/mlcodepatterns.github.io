<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            epoch_loss = 0.0
            for i in range(0, len(x_train), batch_size):
                &#47&#47 Get batch tensors
                <a id="change">r          = min(n, i+batch_size)</a>
                x_b, len_b = self._make_tensor(x_train[i:r])
                y_b        = y_train[i:r]
                &#47&#47 Run training step and evaluate loss function                  
                epoch_loss += self.session.run([self.loss, self.train_fn], {</code></pre><h3>After Change</h3><pre><code class='java'>
            &#47&#47 Print training stats
            if verbose and (t % print_freq == 0 or t in [0, (n_epochs-1)]):
                print("[{0}] Epoch {1} ({2:.2f}s)\tAverage loss={3:.6f}".format(
                    self.name, t, time() - st, <a id="change">np.mean(epoch_loss)</a>
                ))
        if verbose:
            print("[{0}] Training done ({1:.2f}s)".format(self.name, time()-st))
</code></pre>