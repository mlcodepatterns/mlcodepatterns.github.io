<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            self.proj_key = nn.Dense(units=self._key_units, use_bias=self._use_bias,
                                     flatten=False, weight_initializer=weight_initializer,
                                     bias_initializer=bias_initializer, prefix=&quotkey_&quot)
            <a id="change">self.proj_value = nn.Dense(units=self._value_units, use_bias=self._use_bias,
                                       flatten=False, weight_initializer=weight_initializer,
                                       bias_initializer=bias_initializer, prefix=&quotvalue_&quot)</a>

    def __call__(self, query, key, value=None, mask=None):
        Compute the attention.
</code></pre><h3>After Change</h3><pre><code class='java'>
        self._base_cell = base_cell
        self._num_heads = num_heads
        self._use_bias = use_bias
        units = <a id="change">{&quotquery&quot: query_units, &quotkey&quot: key_units, &quotvalue&quot: value_units}</a>
        for name, unit in units.items():
            if unit % self._num_heads != 0:
                raise ValueError(
                    &quotIn MultiHeadAttetion, the {name}_units should be divided exactly&quot</code></pre>