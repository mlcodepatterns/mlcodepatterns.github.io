<html><h3>380d21e6ef97648de99c4d9fb76814484f2f024f,reframe/core/schedulers/slurm.py,SlurmJobScheduler,_update_state,#SlurmJobScheduler#Any#,296
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        cmd = &quotsacct -S %s -P -j %s -o jobid,state,exitcode,nodelist,end&quot % (
            datetime.now().strftime(&quot%F&quot), job.jobid
        )
        <a id="change">sacct_env = os.environ.copy()</a>
        sacct_env[&quotSLURM_TIME_FORMAT&quot] = &quotstandard&quot
        completed = _run_strict(cmd, env=sacct_env)
        self._update_state_count += 1
</code></pre><h3>After Change</h3><pre><code class='java'>
    def _update_state(self, job):
        &quot&quot&quotCheck the status of the job.&quot&quot&quot

        <a id="change">with env.modify_env(variables={&quotSLURM_TIME_FORMAT&quot: &quotstandard&quot}):
            completed = _run_strict(
                &quotsacct -S %s -P -j %s -o jobid,state,exitcode,nodelist,end&quot %
                (datetime.now().strftime(&quot%F&quot), job.jobid)
            )

       </a> self._update_state_count += 1

        &#47&#47 This matches the format for both normal jobs as well as job arrays.
        &#47&#47 For job arrays the job_id has one of the following formats:</code></pre><img src="4817929.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/eth-cscs/reframe/commit/380d21e6ef97648de99c4d9fb76814484f2f024f#diff-e3a2df9e5131cd923a43d3b9830af788dafeff3409f7dfbf68e6d68285b9fa2bL299' target='_blank'>Link</a></div><div id='project'> Project Name: eth-cscs/reframe</div><div id='commit'> Commit Name: 380d21e6ef97648de99c4d9fb76814484f2f024f</div><div id='time'> Time: 2019-12-13</div><div id='author'> Author: eirini.koutsaniti@cscs.ch</div><div id='file'> File Name: reframe/core/schedulers/slurm.py</div><div id='class'> Class Name: SlurmJobScheduler</div><div id='method'> Method Name: _update_state</div><BR><BR><div id='link'><a href='https://github.com/matplotlib/matplotlib/commit/5be3c6df52e412b6b0c937c997ab770a3a9cd27c#diff-becc3462360d02198415578c91804e5b6306ad005f6d9a5fb34bef5a2c29331dL139' target='_blank'>Link</a></div><div id='project'> Project Name: matplotlib/matplotlib</div><div id='commit'> Commit Name: 5be3c6df52e412b6b0c937c997ab770a3a9cd27c</div><div id='time'> Time: 2018-03-28</div><div id='author'> Author: anntzer.lee@gmail.com</div><div id='file'> File Name: lib/matplotlib/style/core.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: context</div><BR><BR><div id='link'><a href='https://github.com/matplotlib/matplotlib/commit/f564af739e7ad9edd8038628c444d28cde79b87b#diff-ab6174d6efb49da4a60aba96b1dfd95ebbabab6fc421f736b210aa46fe19d2f7L21' target='_blank'>Link</a></div><div id='project'> Project Name: matplotlib/matplotlib</div><div id='commit'> Commit Name: f564af739e7ad9edd8038628c444d28cde79b87b</div><div id='time'> Time: 2018-05-30</div><div id='author'> Author: anntzer.lee@gmail.com</div><div id='file'> File Name: lib/matplotlib/testing/conftest.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: mpl_test_settings</div><BR><BR><div id='link'><a href='https://github.com/matplotlib/matplotlib/commit/5be3c6df52e412b6b0c937c997ab770a3a9cd27c#diff-dae6dac08f6bc9089833b46488e565939f0f8b8289418a39c7b0555ea632ab9fL120' target='_blank'>Link</a></div><div id='project'> Project Name: matplotlib/matplotlib</div><div id='commit'> Commit Name: 5be3c6df52e412b6b0c937c997ab770a3a9cd27c</div><div id='time'> Time: 2018-03-28</div><div id='author'> Author: anntzer.lee@gmail.com</div><div id='file'> File Name: lib/matplotlib/tests/test_backend_pgf.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_rcupdate</div><BR>