<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                    &#47&#47 Re-order a and b
                    a_sorted = sorted([dim for dim in a if dim not in [dim_a, dim_reduce]]) + [dim_a, dim_reduce]
                    b_sorted = sorted([dim for dim in b if dim not in [dim_b, dim_reduce]]) + [dim_reduce, dim_b]
                    <a id="change">assert(a_sorted[-1] == b_sorted[-2])</a>
                    assert(a_sorted[:-2] == b_sorted[:-2])

                else:
                    a_sorted = sorted([dim for dim in a if dim != dim_reduce]) + [dim_reduce]</code></pre><h3>After Change</h3><pre><code class='java'>
                        &#47&#47 Re-order a and b
                        a_sorted = sorted([dim for dim in a if dim not in [dim_a, dim_reduce]]) + [dim_a, dim_reduce]
                        b_sorted = sorted([dim for dim in b if dim not in [dim_b, dim_reduce]]) + [dim_reduce, dim_b]
                        <a id="change">if not a_sorted[:-2] == b_sorted[:-2]:
                            raise ValueError(&quotequation pattern not supported currently.&quot)

                   </a> else:
                        &#47&#47 High rank matrix multiplcation
                        a_sorted = sorted([dim for dim in a if dim != dim_reduce]) + [dim_reduce]
                        b_sorted = [dim_reduce] + sorted([dim for dim in b if dim != dim_reduce])</code></pre>