<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                        in_scope = True
                    &#47&#47&#47&#47&#47&#47 Handle defects &#47&#47&#47&#47&#47&#47
                if in_scope:
                    <a id="change">sub_annot.add_feature(feature.copy())</a>
            return sub_annot            
        else:
            raise TypeError("{:} instances are invalid Annotation indices"
                            .format(type(index).__name__))</code></pre><h3>After Change</h3><pre><code class='java'>
                if in_scope:
                    &#47&#47 Create copy for new annotation
                    new_feature = feature.copy()
                    <a id="change">for loc in new_feature.locs:
                        &#47&#47 Handle defects
                        if loc.first &lt; i_first:
                            print("test1")
                            loc.defect |= Location.Defect.MISS_LEFT
                            loc.first = i_first
                        if loc.last &gt; i_last:
                            print("test2")
                            loc.defect |= Location.Defect.MISS_RIGHT
                            loc.last = i_last
                   </a> sub_annot.add_feature(new_feature)
            return sub_annot            
        else:
            raise TypeError("{:} instances are invalid Annotation indices"</code></pre>