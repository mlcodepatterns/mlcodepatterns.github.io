<html><h3>b0d0053b1f1738640fc99fba642c83af42d10b22,geomstats/special_orthogonal_group.py,,closest_rotation_matrix,#Any#,8
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    mat_unitary_u, mat_diag_s, mat_unitary_v = np.linalg.svd(mat)
    rot_mat = np.dot(mat_unitary_u, mat_unitary_v)
    mat_diag_s = <a id="change">np.eye(3)</a> * mat_diag_s

    if np.linalg.det(rot_mat) &lt; 0:
        mat_diag_s[0, 0] = 1</code></pre><h3>After Change</h3><pre><code class='java'>
    rot_mat = np.matmul(mat_unitary_u, mat_unitary_v)

    mask = np.where(np.linalg.det(rot_mat) &lt; 0)
    diag_s[mask] = <a id="change">np.array([1, 1, -1])</a>

    mat_diag_s = np.diagflat(diag_s)

    rot_mat[mask] = np.matmul(np.matmul(mat_unitary_u, mat_diag_s),</code></pre><img src="66501766.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/geomstats/geomstats/commit/b0d0053b1f1738640fc99fba642c83af42d10b22#diff-eb4c060eec8763a5fbf9e482b1b8af3df6deb956dd19d73e5ca96fee33fdbb1bL18' target='_blank'>Link</a></div><div id='project'> Project Name: geomstats/geomstats</div><div id='commit'> Commit Name: b0d0053b1f1738640fc99fba642c83af42d10b22</div><div id='time'> Time: 2018-02-02</div><div id='author'> Author: ninamio78@gmail.com</div><div id='file'> File Name: geomstats/special_orthogonal_group.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: closest_rotation_matrix</div><BR><BR><div id='link'><a href='https://github.com/nipy/dipy/commit/31a62bc643e80e923bb10a4b3ae3370c6181fc98#diff-4e72965ef78b1e37637db07728fdac3a18c73785b8c0ace617068c8f83c42a75L41' target='_blank'>Link</a></div><div id='project'> Project Name: nipy/dipy</div><div id='commit'> Commit Name: 31a62bc643e80e923bb10a4b3ae3370c6181fc98</div><div id='time'> Time: 2017-05-10</div><div id='author'> Author: garyfallidis@gmail.com</div><div id='file'> File Name: dipy/io/tests/test_io_peaks.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_io_peaks</div><BR><BR><div id='link'><a href='https://github.com/nilearn/nilearn/commit/51d6b543e193cf385f97ff216400a7f0f54f289a#diff-603e6b98ace002d93bbfaf6475072f3a4fd5f43bdd0426b3f415b657bb41221fL123' target='_blank'>Link</a></div><div id='project'> Project Name: nilearn/nilearn</div><div id='commit'> Commit Name: 51d6b543e193cf385f97ff216400a7f0f54f289a</div><div id='time'> Time: 2015-02-11</div><div id='author'> Author: danilobzdok@gmail.com</div><div id='file'> File Name: nilearn/input_data/tests/test_nifti_masker.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_mask_4d</div><BR>