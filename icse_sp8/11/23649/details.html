<html><h3>abdc942ed5132a915ca6fccc13470bdf730f1457,test/augmenters/test_color.py,,test_Grayscale,#,87
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    aug = iaa.Grayscale((0.0, 1.0))
    base_img = base_img[0:1, 0:1, :]
    base_img_gray = iaa.Grayscale(1.0).augment_image(base_img)
    distance_max = np.average(<a id="change">np.abs(base_img_gray.astype(np.int32) - base_img.astype(np.int32))</a>)
    nb_iterations = 1000
    distances = []
    for _ in sm.xrange(nb_iterations):</code></pre><h3>After Change</h3><pre><code class='java'>
    assert np.allclose(observed, expected.astype(np.uint8))

    aug = iaa.Grayscale((0.0, 1.0))
    <a id="change">base_img = np.uint8([255, 0, 0]).reshape((1, 1, 3))</a>
    base_img_float = base_img.astype(np.float64) / 255.0
    base_img_gray = iaa.Grayscale(1.0).augment_image(base_img).astype(<a id="change">np.float64</a>) / 255.0
    distance_max = <a id="change">np.linalg.norm(base_img_gray.flatten() - base_img_float.flatten())</a>
    nb_iterations = 1000
    distances = []
    for _ in sm.xrange(nb_iterations):
        observed = aug.augment_image(base_img).astype(<a id="change">np.float64</a>) / 255.0
        distance = <a id="change">np.linalg.norm(observed.flatten() - base_img_float.flatten())</a> / distance_max
        distances.append(distance)

    assert 0 - 1e-4 &lt; min(distances) &lt; 0.1</code></pre><img src="123726686.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/aleju/imgaug/commit/abdc942ed5132a915ca6fccc13470bdf730f1457#diff-8de3f3ae756897cd891db94de043f05c99b3f0cf483423baacafa6a9d31ab803L93' target='_blank'>Link</a></div><div id='project'> Project Name: aleju/imgaug</div><div id='commit'> Commit Name: abdc942ed5132a915ca6fccc13470bdf730f1457</div><div id='time'> Time: 2019-01-28</div><div id='author'> Author: kontakt@ajung.name</div><div id='file'> File Name: test/augmenters/test_color.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_Grayscale</div><BR><BR><div id='link'><a href='https://github.com/aleju/imgaug/commit/abdc942ed5132a915ca6fccc13470bdf730f1457#diff-8de3f3ae756897cd891db94de043f05c99b3f0cf483423baacafa6a9d31ab803L93' target='_blank'>Link</a></div><div id='project'> Project Name: aleju/imgaug</div><div id='commit'> Commit Name: abdc942ed5132a915ca6fccc13470bdf730f1457</div><div id='time'> Time: 2019-01-28</div><div id='author'> Author: kontakt@ajung.name</div><div id='file'> File Name: test/augmenters/test_color.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_Grayscale</div><BR><BR><div id='link'><a href='https://github.com/glm-tools/pyglmnet/commit/a68ad3bda020d9ade2b33c58a3f1406de41b682c#diff-cc78bf166299339921d4c5dadf0499912041bb7b8415db1f800a54870a6fb141L664' target='_blank'>Link</a></div><div id='project'> Project Name: glm-tools/pyglmnet</div><div id='commit'> Commit Name: a68ad3bda020d9ade2b33c58a3f1406de41b682c</div><div id='time'> Time: 2018-09-05</div><div id='author'> Author: pavan.ramkumar@gmail.com</div><div id='file'> File Name: pyglmnet/pyglmnet.py</div><div id='class'> Class Name: GLM</div><div id='method'> Method Name: fit</div><BR><BR><div id='link'><a href='https://github.com/glm-tools/pyglmnet/commit/4367785c9131771d2dd80b45d4bbb4ca00bd24ac#diff-cc78bf166299339921d4c5dadf0499912041bb7b8415db1f800a54870a6fb141L664' target='_blank'>Link</a></div><div id='project'> Project Name: glm-tools/pyglmnet</div><div id='commit'> Commit Name: 4367785c9131771d2dd80b45d4bbb4ca00bd24ac</div><div id='time'> Time: 2018-09-08</div><div id='author'> Author: pavan.ramkumar@gmail.com</div><div id='file'> File Name: pyglmnet/pyglmnet.py</div><div id='class'> Class Name: GLM</div><div id='method'> Method Name: fit</div><BR>