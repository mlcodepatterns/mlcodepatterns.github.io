<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            X2 = X
        else:
            X2 = tf.cast(X2[:, 0], tf.int32)
        <a id="change">B = tf.linalg.matmul(self.W, self.W, transpose_b=True) + tf.linalg.diag(self.kappa)</a>
        return tf.gather(tf.transpose(tf.gather(B, X2)), X)

    def K_diag(self, X):
        X = tf.cast(X[:, 0], tf.int32)</code></pre><h3>After Change</h3><pre><code class='java'>
        ]
        if X2 is not None:
            shape_constraints.append((X2, [..., &quotM&quot, 1]))
        <a id="change">tf.debugging.assert_shapes(shape_constraints)</a>

        X = tf.cast(X[..., 0], tf.int32)
        if X2 is None:
            X2 = X</code></pre>