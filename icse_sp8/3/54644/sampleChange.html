<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
		return total/k

	def getOptimalReward(self, user, articlePool, exclude = []):		
		maxReward = <a id="change">float(&quot-inf&quot)</a>
		maxx = None
		for x in articlePool:	 
			reward = self.getReward(user, x)
			if reward &gt; maxReward and x not in exclude:</code></pre><h3>After Change</h3><pre><code class='java'>
		return total/k

	def getOptimalReward(self, user, articlePool, exclude = []):
		<a id="change">art_features = np.empty([len(articlePool), len(articlePool[0].featureVector)])</a>
		for i in range(len(articlePool)):
			art_features[i, :] = articlePool[i].featureVector
		user_features = self.get_user_features(user)
		reward_matrix = np.dot(art_features, user_features)
		pool_position = <a id="change">np.argmax(reward_matrix)</a>
		return reward_matrix[pool_position], articlePool[pool_position]

 &#47&#47    &#47&#47&#47&#47&#47&#47 Broadcasting Here &#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47&#47
	&#47&#47 def getOptimalReward(self, user, articlePool, exclude = []):</code></pre>