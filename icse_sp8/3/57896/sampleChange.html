<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def documents(self):
        Load datasets and return a dict similar to model Document
        suffixes = (&quotcurrent-year&quot, &quotlast-year&quot, &quotprevious-years&quot)
        for url in <a id="change">map(self.get_url, suffixes)</a>:
            print("Loading " + url)
            with NamedTemporaryFile() as tmp:
                urlretrieve(url, filename=tmp.name)</code></pre><h3>After Change</h3><pre><code class='java'>
                    for index, row in enumerate(csv.DictReader(file_handler)):
                        row[&quotsource&quot] = suffix
                        row[&quotline&quot] = index + 1
                        <a id="change">yield row</a>

    def selected_documents(self, start, limit):
        documents = map(self.serialize, self.documents())
        for count, document in enumerate(documents):</code></pre>