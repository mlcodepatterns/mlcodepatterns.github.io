<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    if not sensor_id:
        import neurio
        neurio_tp = neurio.TokenProvider(key=api_key, secret=api_secret)
        neurio_client = <a id="change">neurio.Client(token_provider=neurio_tp)</a>
        <a id="change">user_info = neurio_client.get_user_information()</a>
        _LOGGER.warning(&quotSensor ID auto-detected, set api_sensor_id: "%s"&quot,
                        user_info["locations"][0]["sensors"][0]["sensorId"])
        sensor_id = user_info["locations"][0]["sensors"][0]["sensorId"]
</code></pre><h3>After Change</h3><pre><code class='java'>
    update_active()

    &#47&#47 Active power sensor
    add_devices(<a id="change">[NeurioEnergy(data, ACTIVE_NAME, ACTIVE_TYPE, update_active)]</a>)
    &#47&#47 Daily power sensor
    add_devices([NeurioEnergy(data, DAILY_NAME, DAILY_TYPE, update_daily)])
</code></pre>