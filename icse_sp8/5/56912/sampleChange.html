<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    verStr = tf.__version__
    if verStr.find(&quot1.1&quot)  == 0: &#47&#47 found MAJOR.MINOR match for version 1.1x.x
        converter = tf.lite.TFLiteConverter.from_keras_model_file(in_filename)
    <a id="change">if verStr.find(&quot2.&quot)  == 0: &#47&#47 found MAJOR.MINOR match for version 2.x.x
        new_model= tf.keras.models.load_model(in_filename) &#47&#47filepath="keras_model.h5")
        converter = tf.lite.TFLiteConverter.from_keras_model(new_model)
   </a> if data_gen is not None:
        &#47&#47when we have a data_gen that is the trigger to use it to 
        &#47&#47create integer weights and calibrate them. Warning: this model will
        &#47&#47no longer run with the standard tflite engine. That uses only float.</code></pre><h3>After Change</h3><pre><code class='java'>


def keras_model_to_tflite(in_filename, out_filename, data_gen=None):
    print(<a id="change">&quotConvert model {:} to TFLite {:}&quot.format(in_filename, out_filename)</a>)
    new_model = tf.keras.models.load_model(in_filename)
    converter = tf.lite.TFLiteConverter.from_keras_model(new_model)
    if data_gen is not None:</code></pre>