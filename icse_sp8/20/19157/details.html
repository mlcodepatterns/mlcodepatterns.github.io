<html><h3>331239d40c0942886649f21ed46fa9ecd8d8255b,deepchem/models/tf_new_models/multitask_regressor.py,MultitaskGraphRegressor,__init__,#MultitaskGraphRegressor#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#,31
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    self.final_loss = final_loss
    self.model = model
    self.sess = tf.Session(graph=self.model.graph)
    <a id="change">if logdir is not None:
      if not os.path.exists(logdir):
        os.makedirs(logdir)
    else:
      logdir = tempfile.mkdtemp()
   </a> <a id="change">self.logdir = logdir</a>

    with self.model.graph.as_default():
      &#47&#47 Extract model info 
      self.batch_size = batch_size
      self.pad_batches = pad_batches
      &#47&#47 Get graph topology for x
      self.graph_topology = self.model.get_graph_topology()
      self.feat_dim = n_feat

      &#47&#47 Building outputs
      self.outputs = self.build()
      self.loss_op = self.add_training_loss(self.final_loss, self.outputs)

      self.learning_rate = learning_rate
      self.T = learning_rate_decay_time
      self.optimizer_type = optimizer_type

      self.optimizer_beta1 = beta1
      self.optimizer_beta2 = beta2

      &#47&#47 Set epsilon
      self.epsilon = 1e-7
      self.add_optimizer()

      &#47&#47 Initialize
      self.init_fn = tf.global_variables_initializer()
      self.sess.run(self.init_fn)

      &#47&#47 Path to save checkpoint files, which matches the
      &#47&#47 replicated supervisor&quots default path.
      self._save_path = <a id="change">os.path.join(logdir, &quotmodel.ckpt&quot)</a>

  def build(self):
    &#47&#47 Create target inputs
    self.label_placeholder = tf.placeholder(</code></pre><h3>After Change</h3><pre><code class='java'>
               pad_batches=True,
               verbose=True):

    <a id="change">super().__init__(self, model_dir=logdir, verbose=verbose)</a>
    self.n_tasks = n_tasks
    self.final_loss = final_loss
    self.model = model
    self.sess = tf.Session(graph=self.model.graph)</code></pre><img src="104732540.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 14</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/331239d40c0942886649f21ed46fa9ecd8d8255b#diff-ddf7ceaf9614aef6f8080e152175bd75e0f0136d3737c040c7b4d5c2dfd8a848L31' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 331239d40c0942886649f21ed46fa9ecd8d8255b</div><div id='time'> Time: 2017-05-16</div><div id='author'> Author: peter.eastman@gmail.com</div><div id='file'> File Name: deepchem/models/tf_new_models/multitask_regressor.py</div><div id='class'> Class Name: MultitaskGraphRegressor</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/331239d40c0942886649f21ed46fa9ecd8d8255b#diff-977d8959ba382f5a8e545e14cb2b9a35bfcc4680a936ee2dc5b3658eed3e3186L117' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 331239d40c0942886649f21ed46fa9ecd8d8255b</div><div id='time'> Time: 2017-05-16</div><div id='author'> Author: peter.eastman@gmail.com</div><div id='file'> File Name: deepchem/models/tensorflow_models/__init__.py</div><div id='class'> Class Name: TensorflowGraphModel</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/331239d40c0942886649f21ed46fa9ecd8d8255b#diff-fbd014deb59365732c1f62cc089ed8aaecda16a0ccf02fee753764c5a7ea99e1L72' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 331239d40c0942886649f21ed46fa9ecd8d8255b</div><div id='time'> Time: 2017-05-16</div><div id='author'> Author: peter.eastman@gmail.com</div><div id='file'> File Name: deepchem/models/tf_new_models/multitask_classifier.py</div><div id='class'> Class Name: MultitaskGraphClassifier</div><div id='method'> Method Name: __init__</div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/331239d40c0942886649f21ed46fa9ecd8d8255b#diff-ddf7ceaf9614aef6f8080e152175bd75e0f0136d3737c040c7b4d5c2dfd8a848L31' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 331239d40c0942886649f21ed46fa9ecd8d8255b</div><div id='time'> Time: 2017-05-16</div><div id='author'> Author: peter.eastman@gmail.com</div><div id='file'> File Name: deepchem/models/tf_new_models/multitask_regressor.py</div><div id='class'> Class Name: MultitaskGraphRegressor</div><div id='method'> Method Name: __init__</div><BR>