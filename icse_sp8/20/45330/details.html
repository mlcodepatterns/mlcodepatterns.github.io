<html><h3>4a81e9b234ae65c2f146061cb3244b49cb10f106,pynets/fmri/clustools.py,,nil_parcellate,#Any#Any#Any#Any#Any#Any#Any#Any#Any#Any#,375
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                print(&quotWarning: NaN\&quots detected in confound regressor file. Filling these with mean values, but the &quot
                      &quotregressor file should be checked manually.&quot)
                confounds_nonan = confounds.apply(lambda x: x.fillna(x.mean()), axis=0)
                <a id="change">conf_corr = &quot/tmp/confounds_mean_corrected_&quot + str(run_uuid) + &quot.tsv&quot</a>
                confounds_nonan.to_csv(conf_corr, sep=&quot\t&quot)
                clust_est.fit(func_img, confounds=conf_corr)
            else:
                clust_est.fit(func_img, confounds=conf)</code></pre><h3>After Change</h3><pre><code class='java'>
                print(&quotWarning: NaN\&quots detected in confound regressor file. Filling these with mean values, but the &quot
                      &quotregressor file should be checked manually.&quot)
                confounds_nonan = confounds.apply(lambda x: x.fillna(x.mean()), axis=0)
                <a id="change">os.makedirs("%s%s" % (dir_path, &quot/confounds_tmp&quot), exist_ok=True)</a>
                conf_corr = "%s%s%s%s" % (dir_path, &quot/confounds_tmp/confounds_mean_corrected_&quot, run_uuid, &quot.tsv&quot)
                confounds_nonan.to_csv(conf_corr, sep=&quot\t&quot)
                clust_est.fit(func_img, confounds=conf_corr)
            else:
                clust_est.fit(func_img, confounds=conf)
        else:
            clust_est.fit(func_img)
        region_labels = connected_label_regions(clust_est.labels_img_)
        nib.save(region_labels, uatlas)
    else:
        clust_est = Parcellations(method=clust_type, standardize=standardize, detrend=detrending, n_parcels=int(k),
                                  mask=clust_mask)
        if conf is not None:
            import pandas as pd
            confounds = pd.read_csv(conf, sep=&quot\t&quot)
            if confounds.isnull().values.any():
                import uuid
                from time import strftime
                run_uuid = &quot%s_%s&quot % (strftime(&quot%Y%m%d-%H%M%S&quot), uuid.uuid4())
                print(&quotWarning: NaN\&quots detected in confound regressor file. Filling these with mean values, but the &quot
                      &quotregressor file should be checked manually.&quot)
                confounds_nonan = confounds.apply(lambda x: x.fillna(x.mean()), axis=0)
                os.makedirs("%s%s" % (dir_path, &quot/confounds_tmp&quot), exist_ok=True)
                <a id="change">conf_corr = "%s%s%s%s" % (dir_path, &quot/confounds_tmp/confounds_mean_corrected_&quot, run_uuid, &quot.tsv&quot)</a>
                confounds_nonan.to_csv(conf_corr, sep=&quot\t&quot)
                clust_est.fit(func_img, confounds=conf_corr)
            else:
                clust_est.fit(func_img, confounds=conf)</code></pre><img src="212040483.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 11</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/4a81e9b234ae65c2f146061cb3244b49cb10f106#diff-349c60aa358314bd3a6b94c5dcff51b731a6733f3adb733e34159cba5ea2f271L435' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 4a81e9b234ae65c2f146061cb3244b49cb10f106</div><div id='time'> Time: 2019-10-11</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/fmri/clustools.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: nil_parcellate</div><BR><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/4a81e9b234ae65c2f146061cb3244b49cb10f106#diff-349c60aa358314bd3a6b94c5dcff51b731a6733f3adb733e34159cba5ea2f271L435' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 4a81e9b234ae65c2f146061cb3244b49cb10f106</div><div id='time'> Time: 2019-10-11</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/fmri/clustools.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: nil_parcellate</div><BR><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/4a81e9b234ae65c2f146061cb3244b49cb10f106#diff-6eed5f90aeb6bacfe187aeefaaf7a0d610b10b054aad334af118055f97cf98aaL374' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 4a81e9b234ae65c2f146061cb3244b49cb10f106</div><div id='time'> Time: 2019-10-11</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/fmri/estimation.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: extract_ts_parc</div><BR><BR><div id='link'><a href='https://github.com/dPys/PyNets/commit/4a81e9b234ae65c2f146061cb3244b49cb10f106#diff-6eed5f90aeb6bacfe187aeefaaf7a0d610b10b054aad334af118055f97cf98aaL521' target='_blank'>Link</a></div><div id='project'> Project Name: dPys/PyNets</div><div id='commit'> Commit Name: 4a81e9b234ae65c2f146061cb3244b49cb10f106</div><div id='time'> Time: 2019-10-11</div><div id='author'> Author: dpisner@utexas.edu</div><div id='file'> File Name: pynets/fmri/estimation.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: extract_ts_coords</div><BR>