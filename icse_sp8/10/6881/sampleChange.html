<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
class MeanRingBuf:
    def __init__(self, capacity):
        self.capacity = capacity
        <a id="change">self.full = False</a>
        self.pos = 0
        <a id="change">self._buf = np.zeros((capacity, ), dtype=np.float32)</a>

    def add(self, val):
        self._buf[self.pos] = val
        self.pos = (self.pos + 1) % self.capacity</code></pre><h3>After Change</h3><pre><code class='java'>


class MeanBuffer:
    def __init__(<a id="change">self</a>, capacity):
        self.capacity = capacity
        <a id="change">self.deque = collections.deque(maxlen=capacity)</a>
        self.sum = 0.0

    def add(self, val):
        if len(self.deque) == self.capacity:</code></pre>