<html><h3>bff5f111e188c26eff86d94249d5bf603f35d5e9,parlai/tasks/insuranceqa/build.py,,build,#Any#,71
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        build_data.untar(dpath, fname)

        &#47&#47 According to the author, V2 holds the latest data
        <a id="change">dpext = os.path.join(dpath, &quotinsuranceQA-master/V2&quot)</a>

        &#47&#47 read vocab file
        vocab_path = <a id="change">os.path.join(dpext, "vocabulary")</a>
        d_vocab = read_vocab(vocab_path)

        &#47&#47 read label2answer file
        label2answer_path_gz = os.path.join(dpext, "InsuranceQA.label2answer.token.encoded.gz")
        <a id="change">d_label_answer = read_label2answer(label2answer_path_gz, d_vocab)</a>

        &#47&#47 TODO: right now it uses 100 by default, but 500, 1000, 1500 (&#47&#47 of label candidates) should also be available
        train_path_gz = <a id="change">os</a>.path.join(dpext, "InsuranceQA.question.anslabel.token.100.pool.solr.train.encoded.gz")
        valid_path_gz = <a id="change">os</a>.path.join(dpext, "InsuranceQA.question.anslabel.token.100.pool.solr.valid.encoded.gz")
        <a id="change">test_path_gz = os.path.join(dpext, "InsuranceQA.question.anslabel.token.100.pool.solr.test.encoded.gz")</a>

        create_fb_format(dpath, &quottrain&quot, train_path_gz, d_vocab, d_label_answer)
        create_fb_format(dpath, &quotvalid&quot, valid_path_gz, d_vocab, d_label_answer)
        create_fb_format(dpath, &quottest&quot, test_path_gz, d_vocab, d_label_answer)</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 Download the data from github.
        fname = &quotinsuranceqa.zip&quot
        url = &quothttps://github.com/shuzi/insuranceQA/archive/master.zip&quot
        <a id="change">print(&quot[downloading data from: &quot + url + &quot]&quot)</a>
        build_data.download(url, dpath, fname)
        build_data.untar(dpath, fname)

        ParseInsuranceQAV1.build(dpath)</code></pre><img src="18810143.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 10</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/facebookresearch/ParlAI/commit/bff5f111e188c26eff86d94249d5bf603f35d5e9#diff-cb02c0075ecdfca8aea1e090d105d12d89c7f4607dcf21b949752fcd4c3829d7L72' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/ParlAI</div><div id='commit'> Commit Name: bff5f111e188c26eff86d94249d5bf603f35d5e9</div><div id='time'> Time: 2017-07-13</div><div id='author'> Author: chao@wayblazer.com</div><div id='file'> File Name: parlai/tasks/insuranceqa/build.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: build</div><BR><BR><div id='link'><a href='https://github.com/facebookresearch/ParlAI/commit/bff5f111e188c26eff86d94249d5bf603f35d5e9#diff-cb02c0075ecdfca8aea1e090d105d12d89c7f4607dcf21b949752fcd4c3829d7L72' target='_blank'>Link</a></div><div id='project'> Project Name: facebookresearch/ParlAI</div><div id='commit'> Commit Name: bff5f111e188c26eff86d94249d5bf603f35d5e9</div><div id='time'> Time: 2017-07-13</div><div id='author'> Author: chao@wayblazer.com</div><div id='file'> File Name: parlai/tasks/insuranceqa/build.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: build</div><BR><BR><div id='link'><a href='https://github.com/pyprob/pyprob/commit/2728afcd57721b34f95ba575507a3db6c86c1f4c#diff-0a20a6e4aabe47c3b9bd70211d40d39b449d7a41922b5d6dbd0549fea8c85b05L151' target='_blank'>Link</a></div><div id='project'> Project Name: pyprob/pyprob</div><div id='commit'> Commit Name: 2728afcd57721b34f95ba575507a3db6c86c1f4c</div><div id='time'> Time: 2018-02-21</div><div id='author'> Author: atilimgunes.baydin@gmail.com</div><div id='file'> File Name: tests/test_model_remote.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/yangyanli/PointCNN/commit/161b24af716a1e7a3221fce2903544ac1429387d#diff-3ec6af4ecfb2269b078005fc9fc361311092628ca465c75927034ada3935c606L10' target='_blank'>Link</a></div><div id='project'> Project Name: yangyanli/PointCNN</div><div id='commit'> Commit Name: 161b24af716a1e7a3221fce2903544ac1429387d</div><div id='time'> Time: 2018-06-08</div><div id='author'> Author: yangyan.lee@gmail.com</div><div id='file'> File Name: evaluation/eval_s3dis.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR>