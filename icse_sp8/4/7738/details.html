<html><h3>d603299e387628f3878ff0b783698494f87c602c,scanpy/datasets/_expression_atlas.py,,expression_atlas,#Any#,117
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    .. _EBI Single Cell Expression Atlas: https://www.ebi.ac.uk/gxa/sc/experiments
    
    <a id="change">if not settings.dataset_dir.is_dir():
        &#47&#47 Log here
        settings.dataset_dir.mkdir()
   </a> experiment_dir = settings.dataset_dir / accession
    if (experiment_dir / f"{accession}.h5ad").is_file():
        adata = anndata.read(experiment_dir / f"{accession}.h5ad")
    else:</code></pre><h3>After Change</h3><pre><code class='java'>
    
    download_experiment(accession)

    <a id="change">print("Downloaded {} to {}".format(accession, experiment_dir.absolute()))</a>

    with ZipFile(experiment_dir / "expression_archive.zip", "r") as f:
        adata = read_expression_from_archive(f)
    obs = pd.read_csv(</code></pre><img src="49642317.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 3</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/d603299e387628f3878ff0b783698494f87c602c#diff-608d5d54eb2c665a4f753e49d8f8bc7f1fbd45039362d0afd2149eedb64ec7abL134' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: d603299e387628f3878ff0b783698494f87c602c</div><div id='time'> Time: 2019-03-29</div><div id='author'> Author: ivirshup@gmail.com</div><div id='file'> File Name: scanpy/datasets/_expression_atlas.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: expression_atlas</div><BR><BR><div id='link'><a href='https://github.com/dmlc/gluon-cv/commit/2716ec90b5be79d67cb39c46f1182b9827fa60bc#diff-5d2f59a6b61bd05d5774be7c8156d71be7efdea50c3183c3bb0999588da46c3eL39' target='_blank'>Link</a></div><div id='project'> Project Name: dmlc/gluon-cv</div><div id='commit'> Commit Name: 2716ec90b5be79d67cb39c46f1182b9827fa60bc</div><div id='time'> Time: 2020-05-03</div><div id='author'> Author: 42975160+HieronymusLex@users.noreply.github.com</div><div id='file'> File Name: scripts/datasets/market1501.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: main</div><BR><BR><div id='link'><a href='https://github.com/GoogleCloudPlatform/python-docs-samples/commit/869e56edc7e3153b534f065e6a73d924ec28bec3#diff-1b71c74dd597644e7bb0a8a555afa00b2e49c5d55c7e56b16c9b3c4a6446a80aL62' target='_blank'>Link</a></div><div id='project'> Project Name: GoogleCloudPlatform/python-docs-samples</div><div id='commit'> Commit Name: 869e56edc7e3153b534f065e6a73d924ec28bec3</div><div id='time'> Time: 2020-05-26</div><div id='author'> Author: tmatsuo@google.com</div><div id='file'> File Name: vision/automl/edge_container_predict/automl_vision_edge_container_predict_test.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: edge_container_predict_server_port</div><BR>