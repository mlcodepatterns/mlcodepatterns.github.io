<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            number_pixels_maximal = np.sum(pixel_data == np.max(pixel_data))
            percent_saturation = (100.0 * float(number_pixels_saturated) /
                                  float(pixel_count))
            <a id="change">percent_maximal = (100.0 * float(number_pixels_maximal) /
                               float(pixel_count))</a>
        percent_saturation_name = "%s_%s_%s"%(IMAGE_QUALITY, PERCENT_SATURATION,
                                              image_name)
        percent_maximal_name = "%s_%s_%s"%(IMAGE_QUALITY, PERCENT_MAXIMAL,
                                           image_name)
        workspace.add_measurement(cpmeas.IMAGE, percent_saturation_name,
                                  percent_saturation)
        <a id="change">workspace.add_measurement(cpmeas.IMAGE, percent_maximal_name,
                                  percent_maximal)</a>
        return [["%s saturation"%image_name,"%.1f %%"%percent_saturation],
                ["%s maximal"%image_name, "%.1f %%"%percent_maximal]]
    
    def calculate_threshold(self, image_group, workspace):</code></pre><h3>After Change</h3><pre><code class='java'>
        else:
            number_pixels_maximal = np.sum(pixel_data == np.max(pixel_data))
            number_pixels_minimal = np.sum(pixel_data == np.min(pixel_data))
            <a id="change">percent_maximal = (100.0 * float(number_pixels_maximal) /
                               float(pixel_count))</a>
            percent_minimal = (100.0 * float(number_pixels_minimal) /
                               float(pixel_count))
        percent_maximal_name = "%s_%s_%s"%(IMAGE_QUALITY, PERCENT_MAXIMAL,
                                           image_name)
        percent_minimal_name = "%s_%s_%s"%(IMAGE_QUALITY, PERCENT_MINIMAL,
                                           image_name)
        <a id="change">workspace.add_measurement(cpmeas.IMAGE, percent_maximal_name,
                                  percent_maximal)</a>
        workspace.add_measurement(cpmeas.IMAGE, percent_minimal_name,
                                  percent_minimal)
        return [["%s maximal"%image_name,"%.1f %%"%percent_maximal],
                ["%s minimal"%image_name, "%.1f %%"%percent_minimal]]</code></pre>