<html><h3>9902aaa77d03a2a5d1ccc3f8e260dfee2be86819,python/tests/test_embeddings.py,,test_normalize,#,123
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    normed = norm_weights(wv.weights)
    norms = np.linalg.norm(normed, axis=1)
    for norm in norms:
        <a id="change">assert norm == 0 or np.allclose(norm, 1, rtol=1e-4)</a>


def test_vocab_truncation():
    model = random_model()</code></pre><h3>After Change</h3><pre><code class='java'>
def test_normalize():
    wv = random_model()(keep_unused=True)
    normed = norm_weights(wv.weights)
    <a id="change">gold_norms = np.zeros_like(wv.weights)</a>
    <a id="change">for i in range(len(gold_norms)):
        norm = np.sqrt(np.sum(np.square(wv.weights[i])))
        gold_norms[i] = wv.weights[i] if norm == 0.0 else wv.weights[i] / norm
   </a> np.testing.assert_allclose(normed, gold_norms)


def test_vocab_truncation():</code></pre><img src="22487990.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/dpressel/mead-baseline/commit/9902aaa77d03a2a5d1ccc3f8e260dfee2be86819#diff-a3533dc6d50ce1a58424ee445fef8bbe21c46bd405d8798bef7a78dbd8f1f8e1L124' target='_blank'>Link</a></div><div id='project'> Project Name: dpressel/mead-baseline</div><div id='commit'> Commit Name: 9902aaa77d03a2a5d1ccc3f8e260dfee2be86819</div><div id='time'> Time: 2018-06-19</div><div id='author'> Author: blester125@users.noreply.github.com</div><div id='file'> File Name: python/tests/test_embeddings.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_normalize</div><BR><BR><div id='link'><a href='https://github.com/scipy/scipy/commit/e9402dd24f071e7dbe4e0c2421f90f285ca31896#diff-e1d4858cae71f0994fc85210e0c0cb0d0d9e6f9484bbf2ed45a617df607e1338L23' target='_blank'>Link</a></div><div id='project'> Project Name: scipy/scipy</div><div id='commit'> Commit Name: e9402dd24f071e7dbe4e0c2421f90f285ca31896</div><div id='time'> Time: 2015-11-15</div><div id='author'> Author: person142@users.noreply.github.com</div><div id='file'> File Name: scipy/ndimage/tests/test_filters.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_gh_5430</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/cleverhans/commit/17d926283721a5b8b97610701b47256364170a39#diff-0e13eea8b6df2b43c4cbf21d72aa70eac4bd39065518269aca73a9209ac8b65cL51' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/cleverhans</div><div id='commit'> Commit Name: 17d926283721a5b8b97610701b47256364170a39</div><div id='time'> Time: 2020-11-23</div><div id='author'> Author: joel.frank@rub.de</div><div id='file'> File Name: cleverhans/future/tf2/utils_tf.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: get_or_guess_labels</div><BR><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/51975a8639d0b83544ec2f932567656b25bfc965#diff-57c406e912f9c49cb940525a0c00df89b737a5eec4428a3e6e6fe89ce2c78bc0L55' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 51975a8639d0b83544ec2f932567656b25bfc965</div><div id='time'> Time: 2018-09-02</div><div id='author'> Author: lgraesser@users.noreply.github.com</div><div id='file'> File Name: slm_lab/agent/algorithm/math_util.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: calc_nstep_returns</div><BR>