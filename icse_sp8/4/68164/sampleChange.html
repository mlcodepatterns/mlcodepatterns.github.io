<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def get_block(block):
    block_tdx = QA.DATABASE.stock_block
    <a id="change">block_ths = QA.DATABASE.stock_block_ths</a>
    codelist = QA.QA_fetch_stock_list_adv()
    block = [block] if isinstance(block, str) else block

    code_tdx = pd.DataFrame(
        [item for item in block_tdx.find({&quotblockname&quot: {&quot$in&quot: block}})])
    code_ths = pd.DataFrame(
        [item for item in block_ths.find({&quotblockname&quot: {&quot$in&quot: block}})])

    <a id="change">return pd.concat([code_tdx, code_ths], axis=0).code.drop_duplicates().tolist()</a>


def get_name(code):
    codelist = QA.QA_fetch_stock_list_adv()</code></pre><h3>After Change</h3><pre><code class='java'>
    block = [block] if isinstance(block, str) else block
    block_df = pd.DataFrame(
        [item for item in block_db.find({&quotblockname&quot: {&quot$in&quot: block}})])
    <a id="change">return block_df.code.drop_duplicates().tolist()</a>


def get_name(code):
    codelist = QA.QA_fetch_stock_list_adv()</code></pre>