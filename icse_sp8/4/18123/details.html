<html><h3>d2a42aaf1fb53a1e3beeaa90bb80767fccf80eaf,scanpy/preprocess/simple.py,,smp_norm,#Any#,181
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        X = X[:, counts_per_gene &gt;= 1]  &#47&#47 only consider genes with more than one count
        X = X * np.median(counts_per_cell) / (counts_per_cell[:, np.newaxis] + 1e-6)
    else:
        X = X.tocsc()[<a id="change">:, np</a><a id="change">.flatnonzero(counts_per_gene.A1 &gt;= 1)</a>].tobsr()
        Norm = sp.sparse.diags(np.median(counts_per_cell.A1) / (counts_per_cell.A.ravel() + 1e-6))
        X = Norm.dot(X).tocsr()
    return X</code></pre><h3>After Change</h3><pre><code class='java'>
        gene_filter = counts_per_gene &gt;= 1
        X = X * np.median(counts_per_cell) / (counts_per_cell[:, np.newaxis] + 1e-6)
    else:
        gene_filter = <a id="change">np.flatnonzero(counts_per_gene.A1 &gt;= 1)</a>
        Norm = sp.sparse.diags(np.median(counts_per_cell.A1) / (counts_per_cell.A.ravel() + 1e-6))
        X = Norm.dot(X.tobsr()).tocsr()
    return <a id="change">X</a>, gene_filter


def smp_norm_weinreb16(X, max_fraction=1, mult_with_mean=False):</code></pre><img src="100170337.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 4</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/theislab/scanpy/commit/d2a42aaf1fb53a1e3beeaa90bb80767fccf80eaf#diff-25d2a7cf00caf01090b987c5e6ac201d881c3d27ad7d2faabaea7f90bdea771dL204' target='_blank'>Link</a></div><div id='project'> Project Name: theislab/scanpy</div><div id='commit'> Commit Name: d2a42aaf1fb53a1e3beeaa90bb80767fccf80eaf</div><div id='time'> Time: 2017-04-24</div><div id='author'> Author: f.alex.wolf@gmx.de</div><div id='file'> File Name: scanpy/preprocess/simple.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: smp_norm</div><BR><BR><div id='link'><a href='https://github.com/chainer/chainercv/commit/97bd5c775a17b4e3c2345765d26fd67678f7da2a#diff-ce556dab6e55bff3599f6cd49a76f871a9898e646f5b7778c20a61738ab58374L61' target='_blank'>Link</a></div><div id='project'> Project Name: chainer/chainercv</div><div id='commit'> Commit Name: 97bd5c775a17b4e3c2345765d26fd67678f7da2a</div><div id='time'> Time: 2019-01-30</div><div id='author'> Author: ktns.87@gmail.com</div><div id='file'> File Name: chainercv/transforms/bbox/crop_bbox.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: crop_bbox</div><BR><BR><div id='link'><a href='https://github.com/scikit-learn-contrib/imbalanced-learn/commit/cddf39be59c3c1231d2d4fd3b9bfc10a21e63780#diff-3414068d767fe5a19362ef38e1977332981462f417981da5bdea954fdc2f6628L171' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-learn-contrib/imbalanced-learn</div><div id='commit'> Commit Name: cddf39be59c3c1231d2d4fd3b9bfc10a21e63780</div><div id='time'> Time: 2017-08-24</div><div id='author'> Author: g.lemaitre58@gmail.com</div><div id='file'> File Name: imblearn/under_sampling/prototype_selection/tomek_links.py</div><div id='class'> Class Name: TomekLinks</div><div id='method'> Method Name: _sample</div><BR>