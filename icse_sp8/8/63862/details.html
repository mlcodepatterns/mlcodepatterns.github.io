<html><h3>194538955b13e9b8cc8716bc6002abf8910af052,slm_lab/agent/memory/replay.py,SeqReplay,preprocess_state,#SeqReplay#Any#Any#,174
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    def preprocess_state(self, state, append=True):
        &quot&quot&quotTransforms the raw state into format that is fed into the network&quot&quot&quot
        &#47&#47 append when state is first seen when acting in policy_util, don&quott append elsewhere in memory
        <a id="change">if append:
            assert id(state) != id(self.state_buffer[-1]), &quotDo not append to buffer other than during action&quot
            self.state_buffer.append(state)
       </a> processed_state = np.stack(self.state_buffer)
        return processed_state

    @lab_api</code></pre><h3>After Change</h3><pre><code class='java'>
    def preprocess_state(self, state, append=True):
        &quot&quot&quotTransforms the raw state into format that is fed into the network&quot&quot&quot
        &#47&#47 append when state is first seen when acting in policy_util, don&quott append elsewhere in memory
        <a id="change">self.preprocess_append(state, append)</a>
        return np.stack(self.state_buffer)


class SILReplay(Replay):</code></pre><img src="297129765.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 6</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/194538955b13e9b8cc8716bc6002abf8910af052#diff-da304447a2de4c64b49e21a3b35ec2059f0f2c32ae933c67285e2208cc2e9facL174' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 194538955b13e9b8cc8716bc6002abf8910af052</div><div id='time'> Time: 2018-09-30</div><div id='author'> Author: kengzwl@gmail.com</div><div id='file'> File Name: slm_lab/agent/memory/replay.py</div><div id='class'> Class Name: SeqReplay</div><div id='method'> Method Name: preprocess_state</div><BR><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/194538955b13e9b8cc8716bc6002abf8910af052#diff-e570f4ee496c583219e52e8ec64189a81ed31d42ce69ae5f41869946054e08d3L257' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 194538955b13e9b8cc8716bc6002abf8910af052</div><div id='time'> Time: 2018-09-30</div><div id='author'> Author: kengzwl@gmail.com</div><div id='file'> File Name: slm_lab/agent/memory/onpolicy.py</div><div id='class'> Class Name: OnPolicySeqBatchReplay</div><div id='method'> Method Name: preprocess_state</div><BR><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/194538955b13e9b8cc8716bc6002abf8910af052#diff-da304447a2de4c64b49e21a3b35ec2059f0f2c32ae933c67285e2208cc2e9facL295' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 194538955b13e9b8cc8716bc6002abf8910af052</div><div id='time'> Time: 2018-09-30</div><div id='author'> Author: kengzwl@gmail.com</div><div id='file'> File Name: slm_lab/agent/memory/replay.py</div><div id='class'> Class Name: ConcatReplay</div><div id='method'> Method Name: preprocess_state</div><BR><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/194538955b13e9b8cc8716bc6002abf8910af052#diff-e570f4ee496c583219e52e8ec64189a81ed31d42ce69ae5f41869946054e08d3L336' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 194538955b13e9b8cc8716bc6002abf8910af052</div><div id='time'> Time: 2018-09-30</div><div id='author'> Author: kengzwl@gmail.com</div><div id='file'> File Name: slm_lab/agent/memory/onpolicy.py</div><div id='class'> Class Name: OnPolicyAtariReplay</div><div id='method'> Method Name: preprocess_state</div><BR><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/194538955b13e9b8cc8716bc6002abf8910af052#diff-e570f4ee496c583219e52e8ec64189a81ed31d42ce69ae5f41869946054e08d3L129' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 194538955b13e9b8cc8716bc6002abf8910af052</div><div id='time'> Time: 2018-09-30</div><div id='author'> Author: kengzwl@gmail.com</div><div id='file'> File Name: slm_lab/agent/memory/onpolicy.py</div><div id='class'> Class Name: OnPolicySeqReplay</div><div id='method'> Method Name: preprocess_state</div><BR><BR><div id='link'><a href='https://github.com/kengz/SLM-Lab/commit/194538955b13e9b8cc8716bc6002abf8910af052#diff-da304447a2de4c64b49e21a3b35ec2059f0f2c32ae933c67285e2208cc2e9facL343' target='_blank'>Link</a></div><div id='project'> Project Name: kengz/SLM-Lab</div><div id='commit'> Commit Name: 194538955b13e9b8cc8716bc6002abf8910af052</div><div id='time'> Time: 2018-09-30</div><div id='author'> Author: kengzwl@gmail.com</div><div id='file'> File Name: slm_lab/agent/memory/replay.py</div><div id='class'> Class Name: AtariReplay</div><div id='method'> Method Name: preprocess_state</div><BR>