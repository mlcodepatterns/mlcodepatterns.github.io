<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        &#47&#47     else 100 * compute_success(self.classifier, x, y, adv_x_best, self.targeted, batch_size=self.batch_size),
        &#47&#47 )

        return <a id="change">adv_x.cpu().detach().numpy()</a>

    def _compute_perturbation(self, batch, batch_labels):
        &#47&#47 Pick a small scalar to avoid division by 0
        tol = 10e-8</code></pre><h3>After Change</h3><pre><code class='java'>
        mask = kwargs.get("mask")
        if mask is not None:
            &#47&#47 Ensure the mask is broadcastable
            <a id="change">if len(mask.shape) &gt; len(x.shape) or mask.shape != x.shape[-len(mask.shape):]:
                raise ValueError("Mask shape must be broadcastable to input shape.")

       </a> adv_x_best = None
        rate_best = None

</code></pre>