<html><h3>7f1bef0c8063b39c9d6713a0e3835eb17ea4a5b7,deepchem/datasets/tests/test_load.py,TestLoad,test_move_load,#TestLoad#,29
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    Test that datasets can be moved and loaded.
    verbosity = "high"
    current_dir = os.path.dirname(os.path.realpath(__file__))
    <a id="change">feature_dir = os.path.join(self.base_dir, "features")</a>
    moved_feature_dir = os.path.join(self.base_dir, "moved_features")
    <a id="change">samples_dir = os.path.join(self.base_dir, "samples")</a>
    moved_samples_dir = os.path.join(self.base_dir, "moved_samples")
    data_dir = os.path.join(self.base_dir, "data")
    moved_data_dir = os.path.join(self.base_dir, "moved_data")
    dataset_file = os.path.join(
        current_dir, "../../models/tests/example.csv")

    featurizers = [CircularFingerprint(size=1024)]
    tasks = ["log-solubility"]
    featurizer = DataFeaturizer(tasks=tasks,
                                smiles_field="smiles",
                                compound_featurizers=featurizers,
                                verbosity=verbosity)
    featurized_samples = featurizer.featurize(
        dataset_file, feature_dir,
        samples_dir, reload=reload)
    <a id="change">dataset = Dataset(data_dir=data_dir, samples=featurized_samples, 
                      featurizers=featurizers, tasks=tasks,
                      verbosity=verbosity, reload=reload)</a>

    X, y, w, ids = dataset.to_numpy()
    shutil.move(feature_dir, moved_feature_dir)
    shutil.move(samples_dir, moved_samples_dir)</code></pre><h3>After Change</h3><pre><code class='java'>
    X, y, w, ids = dataset.to_numpy()
    shutil.move(data_dir, moved_data_dir)

    moved_dataset = <a id="change">Dataset(
        moved_data_dir, reload=reload)</a>

    X_moved, y_moved, w_moved, ids_moved = moved_dataset.to_numpy()

    np.testing.assert_allclose(X, X_moved)</code></pre><img src="62572730.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/7f1bef0c8063b39c9d6713a0e3835eb17ea4a5b7#diff-f5b97bb1b8ead5210586d81fc0bd3977f156213b8f9feb994437d8454134ff3eL29' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: 7f1bef0c8063b39c9d6713a0e3835eb17ea4a5b7</div><div id='time'> Time: 2016-05-30</div><div id='author'> Author: bharath.ramsundar@gmail.com</div><div id='file'> File Name: deepchem/datasets/tests/test_load.py</div><div id='class'> Class Name: TestLoad</div><div id='method'> Method Name: test_move_load</div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/fe358db6913812c1e3ba8cd8036d941c996fb413#diff-fe4294660997c82f0d3c05b94301ed618a537ee882b17f717c28d7018dc50277L30' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: fe358db6913812c1e3ba8cd8036d941c996fb413</div><div id='time'> Time: 2016-05-31</div><div id='author'> Author: bharath.ramsundar@gmail.com</div><div id='file'> File Name: deepchem/datasets/pcba_datasets.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: load_pcba</div><BR><BR><div id='link'><a href='https://github.com/deepchem/deepchem/commit/fe358db6913812c1e3ba8cd8036d941c996fb413#diff-8f0e4548c50f117d78d52acc702f27efc240dd0bcae966df8112878b100c49d2L30' target='_blank'>Link</a></div><div id='project'> Project Name: deepchem/deepchem</div><div id='commit'> Commit Name: fe358db6913812c1e3ba8cd8036d941c996fb413</div><div id='time'> Time: 2016-05-31</div><div id='author'> Author: bharath.ramsundar@gmail.com</div><div id='file'> File Name: deepchem/datasets/muv_datasets.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: load_muv</div><BR>