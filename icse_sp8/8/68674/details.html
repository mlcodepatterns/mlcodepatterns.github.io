<html><h3>6967cc5df1801b8f5a01110417b38495896d75e0,src/spn/structure/leaves/cltree/Inference.py,,cltree_likelihood,#Any#Any#Any#,9
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
from spn.algorithms.Inference import add_node_likelihood

def cltree_likelihood(node, data=None, dtype=np.float64):
    <a id="change">raise ValueError(&quotNot Implemented&quot)</a>

def add_cltree_inference_support():
    add_node_likelihood(CLTree, cltree_likelihood)
</code></pre><h3>After Change</h3><pre><code class='java'>
import numpy as np

def cltree_likelihood(node, data=None, dtype=np.float64):
    <a id="change">probs = np.zeros(data.shape[0], dtype=dtype)</a>

    <a id="change">for feature in range(0, node.n_features):
        parent = node.tree[feature]
        if parent == -1:
            probs = probs + node.log_factors[feature, data[:,node.scope[feature]],0]
        else:
            probs = probs + node.log_factors[feature, data[:,node.scope[feature]], data[:,node.scope[parent]]]

   </a> return np.exp(probs.reshape(data.shape[0],1))
    

</code></pre><img src="317796753.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 5</div><BR><div id='size'>Non-data size: 7</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/SPFlow/SPFlow/commit/6967cc5df1801b8f5a01110417b38495896d75e0#diff-a6a41faef86d8ea4d3569226baa8878051c02eb82a3b15fcd3755eef842d3218L10' target='_blank'>Link</a></div><div id='project'> Project Name: SPFlow/SPFlow</div><div id='commit'> Commit Name: 6967cc5df1801b8f5a01110417b38495896d75e0</div><div id='time'> Time: 2018-10-23</div><div id='author'> Author: nicola.dimauro@uniba.it</div><div id='file'> File Name: src/spn/structure/leaves/cltree/Inference.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: cltree_likelihood</div><BR><BR><div id='link'><a href='https://github.com/SPFlow/SPFlow/commit/6967cc5df1801b8f5a01110417b38495896d75e0#diff-a6a41faef86d8ea4d3569226baa8878051c02eb82a3b15fcd3755eef842d3218L10' target='_blank'>Link</a></div><div id='project'> Project Name: SPFlow/SPFlow</div><div id='commit'> Commit Name: 6967cc5df1801b8f5a01110417b38495896d75e0</div><div id='time'> Time: 2018-10-23</div><div id='author'> Author: nicola.dimauro@uniba.it</div><div id='file'> File Name: src/spn/structure/leaves/cltree/Inference.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: cltree_likelihood</div><BR><BR><div id='link'><a href='https://github.com/scikit-image/scikit-image/commit/a346268a461ef2a403ed8e8da6e9e446c741e75b#diff-098ee4fc629229b8749767f4cd9b401a90172bb4d294788286618ee984ef14a7L150' target='_blank'>Link</a></div><div id='project'> Project Name: scikit-image/scikit-image</div><div id='commit'> Commit Name: a346268a461ef2a403ed8e8da6e9e446c741e75b</div><div id='time'> Time: 2017-10-25</div><div id='author'> Author: jni.soma@gmail.com</div><div id='file'> File Name: skimage/measure/_moments.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: moments_normalized</div><BR><BR><div id='link'><a href='https://github.com/Bihaqo/t3f/commit/c4d25dad258c593270c5e405f8a5182d536f8d88#diff-5d85baa3228ecc0711f04f433662de3e40a7e810d3a953930ec890e9eaeae26cL46' target='_blank'>Link</a></div><div id='project'> Project Name: Bihaqo/t3f</div><div id='commit'> Commit Name: c4d25dad258c593270c5e405f8a5182d536f8d88</div><div id='time'> Time: 2017-01-25</div><div id='author'> Author: novikov@bayesgroup.ru</div><div id='file'> File Name: tensor_train.py</div><div id='class'> Class Name: TensorTrain</div><div id='method'> Method Name: get_shape</div><BR><BR><div id='link'><a href='https://github.com/google-research/language/commit/b4562327a4554689d8ab0906c605476ccf817336#diff-199d64ad8c520723787b0b10d680494fb47f1e648355bd7f94cf5d4b100e50eeL551' target='_blank'>Link</a></div><div id='project'> Project Name: google-research/language</div><div id='commit'> Commit Name: b4562327a4554689d8ab0906c605476ccf817336</div><div id='time'> Time: 2019-11-15</div><div id='author'> Author: kentonl@google.com</div><div id='file'> File Name: language/xsp/data_preprocessing/abstract_sql.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: _get_from_clause_for_tables</div><BR><BR><div id='link'><a href='https://github.com/SheffieldML/GPy/commit/65f9c7bb768529e15bdce9ee41b92aad997f1346#diff-1ac00e8d080fb9bab690c368070fd0bec844d6095502799af483a440570df0f4L76' target='_blank'>Link</a></div><div id='project'> Project Name: SheffieldML/GPy</div><div id='commit'> Commit Name: 65f9c7bb768529e15bdce9ee41b92aad997f1346</div><div id='time'> Time: 2013-03-06</div><div id='author'> Author: james.hensman@gmail.com</div><div id='file'> File Name: GPy/kern/coregionalise.py</div><div id='class'> Class Name: coregionalise</div><div id='method'> Method Name: dKdiag_dtheta</div><BR>