<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        positions on the edge, for each vehicle.
        
        vel = self.vehicles.get_speed(self.sorted_ids)
        pos = <a id="change">self.sorted_extra_data[0]</a>
        edge = <a id="change">self.sorted_extra_data[1]</a>
        max_speed = self.max_speed
        is_rl = [int(veh_id in <a id="change">self</a>.vehicles.get_rl_ids())
                 for veh_id in self.sorted_ids]

        &#47&#47 divide the values by the maximum attainable speed</code></pre><h3>After Change</h3><pre><code class='java'>
        &#47&#47 return np.mean(self.vehicles.get_speed())
        return rewards.desired_velocity(self, fail=kwargs["fail"])

    def get_state(<a id="change">self</a>, **kwargs):
        
        See parent class.

        The state is an array the velocities, edge counts, and relative
        positions on the edge, for each vehicle.
        
        vel = self.vehicles.get_speed(self.sorted_ids)
        pos = [<a id="change">self.get_x_by_id(veh_id)</a> for veh_id in self.sorted_ids]
        &#47&#47 is_rl = [int(veh_id in self.rl_ids) for veh_id in self.sorted_ids]

        &#47&#47 &#47&#47 normalize the speed</code></pre>