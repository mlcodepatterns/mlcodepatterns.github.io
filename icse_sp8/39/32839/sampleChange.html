<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

def test_dotplot():
    adata = sc.datasets.krumsiek11()
    <a id="change">outfile = NamedTemporaryFile(suffix=&quot.png&quot, prefix=&quotscanpy_test_dotplot_&quot, delete=False)</a>
    sc.pl.dotplot(adata, adata.var_names, &quotcell_type&quot, use_raw=False, show=False)
    <a id="change">pl.savefig(outfile.name, dpi=80)</a>
    <a id="change">pl.close()
    to</a>lerance = 15
    <a id="change">res = compare_images(ROOT + &quot/master_dotplot.png&quot, outfile.name, tolerance)</a>

    assert res is None, res

    <a id="change">os.remove(outfile.name)</a>

    &#47&#47 test dotplot numeric column():
    adata.obs[&quotGata2&quot] = adata.X[:, 0]
    sc.pl.dotplot(adata, adata.var_names, &quotGata2&quot, use_raw=False,
                  num_categories=7, figsize=(7, 2.5), show=False)
    <a id="change">pl.savefig(outfile.name, dpi=80)</a>
    <a id="change">pl.close()
    res = compare_images(ROOT + &quot/master_dotplot2.png&quot, outfile.name, tolerance)</a>

    assert res is None, res

    <a id="change">os.remove(outfile.name)</a>


def test_matrixplot():
    adata = sc.datasets.krumsiek11()</code></pre><h3>After Change</h3><pre><code class='java'>
def test_dotplot():
    adata = sc.datasets.krumsiek11()
    sc.pl.dotplot(adata, adata.var_names, &quotcell_type&quot, use_raw=False, show=False)
    <a id="change">save_and_compare_images(&quotmaster_dotplot&quot, tolerance=15)</a>

    &#47&#47 test dotplot numeric column():
    adata.obs[&quotGata2&quot] = adata.X[:, 0]
    sc.pl.dotplot(adata, adata.var_names, &quotGata2&quot, use_raw=False,</code></pre>