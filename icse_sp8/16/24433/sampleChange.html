<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    datasets.MNIST(&quot../../data/mnist&quot, train=True, download=True,
                   transform=transforms.Compose([
                       transforms.ToTensor(),
                       transforms.Normalize(<a id="change">(0.5, 0.5, 0.5)</a>, <a id="change">(0.5, 0.5, 0.5)</a>)
                   ])),
    batch_size=opt.batch_size, shuffle=True)

&#47&#47 Optimizers
optimizer_G = torch.optim.Adam(generator.parameters(), lr=opt.lr, betas=(opt.b1, opt.b2))
optimizer_D = torch.optim.Adam(discriminator.parameters(), lr=opt.lr, betas=(opt.b1, opt.b2))

Tensor = torch.cuda.FloatTensor if cuda else torch.FloatTensor

&#47&#47 ----------
&#47&#47  Training
&#47&#47 ----------

for epoch in range(opt.n_epochs):
    for i, (imgs, _) in enumerate(dataloader):

        &#47&#47 Adversarial ground truths
        <a id="change">valid</a> = Variable(Tensor(imgs.size(0), 1).fill_(1.0), requires_grad=False)
        fake = Variable(Tensor(imgs.size(0), 1).fill_(0.0), requires_grad=False)

        &#47&#47 Configure input</code></pre><h3>After Change</h3><pre><code class='java'>
        train=True,
        download=True,
        transform=transforms.Compose(
            [<a id="change">transforms.Resize(opt.img_size)</a>, transforms.ToTensor(), transforms.Normalize(<a id="change">[0.5]</a>, <a id="change">[0.5]</a>)]
        ),
    ),
    batch_size=opt.batch_size,
    shuffle=True,
)

&#47&#47 Optimizers
optimizer_G = torch.optim.Adam(generator.parameters(), lr=opt.lr, betas=(opt.b1, opt.b2))
optimizer_D = torch.optim.Adam(discriminator.parameters(), lr=opt.lr, betas=(opt.b1, opt.b2))

Tensor = torch.cuda.FloatTensor if cuda else torch.FloatTensor

&#47&#47 ----------
&#47&#47  Training
&#47&#47 ----------

for epoch in range(opt.n_epochs):
    for i, (imgs, _) in enumerate(dataloader):

        &#47&#47 Adversarial ground truths
        <a id="change">valid</a> = Variable(Tensor(imgs.size(0), 1).fill_(1.0), requires_grad=False)
        fake = Variable(Tensor(imgs.size(0), 1).fill_(0.0), requires_grad=False)

        &#47&#47 Configure input</code></pre>