<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 Determine size
        try:
            <a id="change">self._size = np.size(self._getfunc())</a>
            self._shape = np.shape(self._getfunc())
        except TypeError:
            self._size = 1
            self.shape = None

        query = <a id="change">"create table %s (recid INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, trace  int(5), %s FLOAT)" % (self.name, &quot FLOAT, &quot.join([&quotv%s&quot % (x+1) for x in range(self._size)]))</a>
        self.db.cur.execute(query)

    def tally(self, chain):
        Adds current value to trace.</code></pre><h3>After Change</h3><pre><code class='java'>
        except TypeError:
            self._shape = None
            
        <a id="change">self._vstr = &quot, &quot.join(var_str(self._shape))</a>

        &#47&#47 If the table already exists, exit now.
        if chain != 0:
            return

        &#47&#47 Create the variable name strings.
        <a id="change">vstr = &quot, &quot.join(v + &quot FLOAT&quot for v in var_str(self._shape))</a>
        
        query = <a id="change">"create table %s (recid INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, trace  int(5), %s )" % (self.name, vstr)</a>
        
        self.db.cur.execute(query)

        </code></pre>