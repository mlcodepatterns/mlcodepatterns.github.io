<html><h3>5568c56bd0e69841c0df940844251037cb6385cf,sonnet/python/modules/base_test.py,ModuleTest,testSharing,#ModuleTest#,473
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
  def testSharing(self):
    batch_size = 3
    in_size = 4
    <a id="change">inputs1 = tf.placeholder(tf.float32, shape=[batch_size, in_size])</a>
    <a id="change">inputs2 = tf.placeholder(tf.float32, shape=[batch_size, in_size])</a>

    build = functools.partial(_make_model_with_params, output_size=10)
    model = base.Module(build)
    self.assertEqual(model.scope_name, "make_model_with_params")
    outputs1 = model(inputs1)
    outputs2 = model(inputs2)
    input_data = np.random.rand(batch_size, in_size)

    <a id="change">with self.test_session() as sess:
      sess.run(tf.global_variables_initializer())
      outputs1, outputs2 = sess.run(
          [outputs1, outputs2],
          feed_dict={inputs1: input_data,
                     inputs2: input_data})
      self.assertAllClose(outputs1, outputs2)

 </a> def testCustomGetter(self):
    def simple_module_build(inputs):
      w = tf.get_variable("w", dtype=tf.float32, shape=[10, 10])
      b = tf.get_variable("b", dtype=tf.float32, shape=[10, 10])</code></pre><h3>After Change</h3><pre><code class='java'>
    batch_size = 3
    in_size = 4
    input_data = np.random.rand(batch_size, in_size)
    <a id="change">inputs1 = tf.constant(input_data)</a>
    <a id="change">inputs2 = tf.constant(input_data)</a>

    build = functools.partial(_make_model_with_params, output_size=10)
    model = base.Module(build)
    self.assertEqual(model.scope_name, "make_model_with_params")</code></pre><img src="163485630.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 3</div><BR><div id='size'>Non-data size: 16</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/deepmind/sonnet/commit/5568c56bd0e69841c0df940844251037cb6385cf#diff-8202e3bedee30874d96468c6aa1cf247d1a670dbff2cd9de36b8ae45cb00cfeaL473' target='_blank'>Link</a></div><div id='project'> Project Name: deepmind/sonnet</div><div id='commit'> Commit Name: 5568c56bd0e69841c0df940844251037cb6385cf</div><div id='time'> Time: 2018-07-17</div><div id='author'> Author: tomhennigan@google.com</div><div id='file'> File Name: sonnet/python/modules/base_test.py</div><div id='class'> Class Name: ModuleTest</div><div id='method'> Method Name: testSharing</div><BR><BR><div id='link'><a href='https://github.com/deepmind/sonnet/commit/5568c56bd0e69841c0df940844251037cb6385cf#diff-8202e3bedee30874d96468c6aa1cf247d1a670dbff2cd9de36b8ae45cb00cfeaL473' target='_blank'>Link</a></div><div id='project'> Project Name: deepmind/sonnet</div><div id='commit'> Commit Name: 5568c56bd0e69841c0df940844251037cb6385cf</div><div id='time'> Time: 2018-07-17</div><div id='author'> Author: tomhennigan@google.com</div><div id='file'> File Name: sonnet/python/modules/base_test.py</div><div id='class'> Class Name: ModuleTest</div><div id='method'> Method Name: testSharing</div><BR><BR><div id='link'><a href='https://github.com/deepmind/sonnet/commit/f7c759ca562303127a9991574d5a985d4dff99e8#diff-531b696be93e8421ce017c91ed780effe1d3fa677522d074ddc8282862267abeL168' target='_blank'>Link</a></div><div id='project'> Project Name: deepmind/sonnet</div><div id='commit'> Commit Name: f7c759ca562303127a9991574d5a985d4dff99e8</div><div id='time'> Time: 2018-07-17</div><div id='author'> Author: tomhennigan@google.com</div><div id='file'> File Name: sonnet/python/modules/gated_rnn_test.py</div><div id='class'> Class Name: LSTMTest</div><div id='method'> Method Name: testPeephole</div><BR><BR><div id='link'><a href='https://github.com/deepmind/sonnet/commit/f7c759ca562303127a9991574d5a985d4dff99e8#diff-531b696be93e8421ce017c91ed780effe1d3fa677522d074ddc8282862267abeL122' target='_blank'>Link</a></div><div id='project'> Project Name: deepmind/sonnet</div><div id='commit'> Commit Name: f7c759ca562303127a9991574d5a985d4dff99e8</div><div id='time'> Time: 2018-07-17</div><div id='author'> Author: tomhennigan@google.com</div><div id='file'> File Name: sonnet/python/modules/gated_rnn_test.py</div><div id='class'> Class Name: LSTMTest</div><div id='method'> Method Name: testComputation</div><BR>