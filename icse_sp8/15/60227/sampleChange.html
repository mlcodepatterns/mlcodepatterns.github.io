<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
    dataset = build_dataset(params)
    params[&quotINPUT_VOCABULARY_SIZE&quot] = dataset.vocabulary_len[params[&quotINPUTS_IDS_DATASET&quot][0]]
    params[&quotOUTPUT_VOCABULARY_SIZE&quot] = dataset.vocabulary_len[params[&quotOUTPUTS_IDS_DATASET&quot][0]]
    <a id="change">params[&quotMODEL_NAME&quot]</a> = \
        params[&quotTASK_NAME&quot] + &quot_&quot + params[&quotSRC_LAN&quot] + params[&quotTRG_LAN&quot] + &quot_&quot + params[&quotMODEL_TYPE&quot] + \
        &quot_src_emb_&quot + str(params[&quotSOURCE_TEXT_EMBEDDING_SIZE&quot]) + \
        &quot_bidir_&quot + str(params[&quotBIDIRECTIONAL_ENCODER&quot]) + \
        &quot_enc_&quot + params[&quotENCODER_RNN_TYPE&quot] + &quot_*&quot + str(params[&quotN_LAYERS_ENCODER&quot]) + &quot_&quot + str(
            params[&quotENCODER_HIDDEN_SIZE&quot]) + \
        &quot_dec_&quot + params[&quotDECODER_RNN_TYPE&quot] + &quot_*&quot + str(params[&quotN_LAYERS_DECODER&quot]) + &quot_&quot + str(
            params[&quotDECODER_HIDDEN_SIZE&quot]) + \
        &quot_deepout_&quot + &quot_&quot.join([layer[0] for layer in params[&quotDEEP_OUTPUT_LAYERS&quot]]) + \
        &quot_trg_emb_&quot + str(params[&quotTARGET_TEXT_EMBEDDING_SIZE&quot]) + \
        &quot_&quot + params[&quotOPTIMIZER&quot] + &quot_&quot + str(params[&quotLR&quot])
    <a id="change">params[&quotSTORE_PATH&quot] = os.path.join(K.backend() + &quot_test_train_models&quot, params[&quotMODEL_NAME&quot])</a>

    &#47&#47 Test several NMT-Keras utilities: train, sample, sample_ensemble, score_corpus...
    print("Training model")
    train_model(params)</code></pre><h3>After Change</h3><pre><code class='java'>
    print("Scoring corpus")
    score_corpus(parser, params)
    print("Done")
    <a id="change">clean_dirs(params)</a>


def test_ConditionalGRU_dot():
    params = load_tests_params()</code></pre>