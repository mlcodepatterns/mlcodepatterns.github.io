<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

    def test_create(self):
        with self.test_session():
            <a id="change">graph</a> = <a id="change">{}</a>
            <a id="change">graph[&quotd_real&quot] = tf.constant(0, shape=[2,2])</a>
            <a id="change">graph[&quotd_fake&quot] = tf.constant(0, shape=[2,2])</a>
            <a id="change">print(&quotgcraph&quot, graph)</a>
            loss = SoftmaxLoss(<a id="change">hg.GAN(graph=graph)</a>, loss_config)
            d_loss, g_loss = loss.create()
            d_shape = loss.ops.shape(d_loss)
            g_shape = loss.ops.shape(g_loss)</code></pre><h3>After Change</h3><pre><code class='java'>

    def test_create(self):
        with self.test_session():
            <a id="change">graph</a> = <a id="change">mock_graph()</a>

            gan = <a id="change">hg.GAN(graph=graph)</a>
            <a id="change">gan.create()</a>
            <a id="change">loss = SoftmaxLoss(gan, loss_config)</a>
            d_loss, g_loss = loss.create()
            d_shape = loss.ops.shape(d_loss)
            g_shape = loss.ops.shape(g_loss)
            self.assertEqual(sum(d_shape), 1)</code></pre>