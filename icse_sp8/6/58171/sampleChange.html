<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
                cumsum[key] += data.__inc__(key, item)
                batch[key].append(item)

            <a id="change">for key in follow_batch:
                item = torch.full((size, ), i, dtype=torch.long)
                batch[&quot{}_batch&quot.format(key)].append(item)

           </a> num_nodes = data.num_nodes
            if num_nodes is not None:
                item = torch.full((num_nodes, ), i, dtype=torch.long)
                batch.batch.append(item)</code></pre><h3>After Change</h3><pre><code class='java'>
        for i, data in enumerate(data_list):
            for key in data.keys:
                item = data[key] + cumsum[key]
                <a id="change">if torch.is_tensor(data[key]):
                    size = data[key].size(data.__cat_dim__(key, data[key]))
                else:
                    size = 1
               </a> batch.__slices__[key].append(size + batch.__slices__[key][-1])
                cumsum[key] += data.__inc__(key, item)
                batch[key].append(item)
</code></pre>