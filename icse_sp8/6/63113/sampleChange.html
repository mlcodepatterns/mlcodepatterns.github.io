<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        if options.get(&quotdrop&quot, False):
            self.drop_documents()

        <a id="change">documents = self.selected_documents(options[&quotstart&quot], options[&quotlimit&quot])</a>
        <a id="change">Document.objects.bulk_create(Document(**doc) for doc in documents)</a>
        print(&quotNow we have {:,} document&quot.format(Document.objects.count()))

    def serialize(self, document):
        Read the dict generated by DictReader and fix content types</code></pre><h3>After Change</h3><pre><code class='java'>
        if options.get(&quotdrop&quot, False):
            self.drop_documents()

        source = <a id="change">options[&quotsource&quot]</a>
        datasets = self.load_local(source) if source else self.load_remote()
        documents = self.documents_from(datasets)
        self.bulk_create_by(documents, options[&quotbatch_size&quot])
</code></pre>