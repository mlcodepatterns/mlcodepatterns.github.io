<html><h3>3703673d516335d7c5188b954e6bf7d123c646ba,tensorflow_transform/mappers_test.py,MappersTest,testNGrams,#MappersTest#,40
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
  def testNGrams(self):
    output_tensor = mappers.ngrams(
        tf.constant([&quotabc&quot, &quotdef&quot, &quotfghijklm&quot, &quotz&quot, &quot&quot]), (1, 5))
    <a id="change">with tf.Session():
      output = output_tensor.eval()
      self.assertAllEqual(
          output.indices,
          [[0, 0], [0, 1], [0, 2], [0, 3], [0, 4], [0, 5],
           [1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5],
           [2, 0], [2, 1], [2, 2], [2, 3], [2, 4], [2, 5], [2, 6], [2, 7],
           [2, 8], [2, 9], [2, 10], [2, 11], [2, 12], [2, 13], [2, 14], [2, 15],
           [2, 16], [2, 17], [2, 18], [2, 19], [2, 20], [2, 21], [2, 22],
           [2, 23], [2, 24], [2, 25], [2, 26], [2, 27], [2, 28], [2, 29],
           [3, 0]])
      self.assertAllEqual(output.values, [
          &quota&quot, &quotab&quot, &quotabc&quot, &quotb&quot, &quotbc&quot, &quotc&quot,
          &quotd&quot, &quotde&quot, &quotdef&quot, &quote&quot, &quotef&quot, &quotf&quot,
          &quotf&quot, &quotfg&quot, &quotfgh&quot, &quotfghi&quot, &quotfghij&quot, &quotg&quot, &quotgh&quot, &quotghi&quot, &quotghij&quot, &quotghijk&quot,
          &quoth&quot, &quothi&quot, &quothij&quot, &quothijk&quot, &quothijkl&quot, &quoti&quot, &quotij&quot, &quotijk&quot, &quotijkl&quot, &quotijklm&quot,
          &quotj&quot, &quotjk&quot, &quotjkl&quot, &quotjklm&quot, &quotk&quot, &quotkl&quot, &quotklm&quot, &quotl&quot, &quotlm&quot, &quotm&quot,
          &quotz&quot])
      self.assertAllEqual(output.dense_shape, [5, 30])

 </a> def testNGramsMinSizeNotOne(self):
    output_tensor = mappers.ngrams(
        tf.constant([&quotabc&quot, &quotdef&quot, &quotfghijklm&quot, &quotz&quot, &quot&quot]), (2, 5))
    with tf.Session():</code></pre><h3>After Change</h3><pre><code class='java'>
        tokens=tokenized_tensor,
        ngram_range=(1, 5),
        separator=&quot&quot)
    <a id="change">self.assertSparseOutput(
        expected_indices=[
            [0, 0], [0, 1], [0, 2], [0, 3], [0, 4], [0, 5],
            [1, 0], [1, 1], [1, 2], [1, 3], [1, 4], [1, 5],
            [2, 0], [2, 1], [2, 2], [2, 3], [2, 4], [2, 5], [2, 6], [2, 7],
            [2, 8], [2, 9], [2, 10], [2, 11], [2, 12], [2, 13], [2, 14],
            [2, 15], [2, 16], [2, 17], [2, 18], [2, 19], [2, 20], [2, 21],
            [2, 22], [2, 23], [2, 24], [2, 25], [2, 26], [2, 27], [2, 28],
            [2, 29], [3, 0]],
        expected_values=[
            &quota&quot, &quotab&quot, &quotabc&quot, &quotb&quot, &quotbc&quot, &quotc&quot,
            &quotd&quot, &quotde&quot, &quotdef&quot, &quote&quot, &quotef&quot, &quotf&quot,
            &quotf&quot, &quotfg&quot, &quotfgh&quot, &quotfghi&quot, &quotfghij&quot, &quotg&quot, &quotgh&quot, &quotghi&quot, &quotghij&quot,
            &quotghijk&quot, &quoth&quot, &quothi&quot, &quothij&quot, &quothijk&quot, &quothijkl&quot, &quoti&quot, &quotij&quot, &quotijk&quot,
            &quotijkl&quot, &quotijklm&quot, &quotj&quot, &quotjk&quot, &quotjkl&quot, &quotjklm&quot, &quotk&quot, &quotkl&quot, &quotklm&quot, &quotl&quot,
            &quotlm&quot, &quotm&quot, &quotz&quot],
        expected_shape=[5, 30],
        actual_sparse_tensor=output_tensor,
        close_values=False)</a>

  def testNGramsMinSizeNotOne(self):
    string_tensor = tf.constant([&quotabc&quot, &quotdef&quot, &quotfghijklm&quot, &quotz&quot, &quot&quot])
    tokenized_tensor = tf.string_split(string_tensor, delimiter=&quot&quot)</code></pre><img src="42149955.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/tensorflow/transform/commit/3703673d516335d7c5188b954e6bf7d123c646ba#diff-210e53eb3d29ec1eb60824c264129ee4ea56443b31ce50f109332dc9d71195d9L41' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/transform</div><div id='commit'> Commit Name: 3703673d516335d7c5188b954e6bf7d123c646ba</div><div id='time'> Time: 2017-06-02</div><div id='author'> Author: no-reply@google.com</div><div id='file'> File Name: tensorflow_transform/mappers_test.py</div><div id='class'> Class Name: MappersTest</div><div id='method'> Method Name: testNGrams</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/transform/commit/3703673d516335d7c5188b954e6bf7d123c646ba#diff-210e53eb3d29ec1eb60824c264129ee4ea56443b31ce50f109332dc9d71195d9L64' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/transform</div><div id='commit'> Commit Name: 3703673d516335d7c5188b954e6bf7d123c646ba</div><div id='time'> Time: 2017-06-02</div><div id='author'> Author: no-reply@google.com</div><div id='file'> File Name: tensorflow_transform/mappers_test.py</div><div id='class'> Class Name: MappersTest</div><div id='method'> Method Name: testNGramsMinSizeNotOne</div><BR><BR><div id='link'><a href='https://github.com/tensorflow/cleverhans/commit/ff37eb82ddba183c5881716d15bbc9ebfa9aeee9#diff-8c6b17b0929fa967630ce4c61dea9d70bb7a9bf17a83e9eace0a5260adb75473L27' target='_blank'>Link</a></div><div id='project'> Project Name: tensorflow/cleverhans</div><div id='commit'> Commit Name: ff37eb82ddba183c5881716d15bbc9ebfa9aeee9</div><div id='time'> Time: 2018-10-08</div><div id='author'> Author: windqaq@gmail.com</div><div id='file'> File Name: tests_tf/test_utils_tf.py</div><div id='class'> Class Name: TestUtilsTF</div><div id='method'> Method Name: test_l2_batch_normalize</div><BR><BR><div id='link'><a href='https://github.com/tensorlayer/tensorlayer/commit/910e1e544793c0ca9859a5a4f1c0171104166dc3#diff-170a0a8e22a905da07e9503b1c2e84fa38f39630e3f96fa5e9a4bf23dc1852f2L123' target='_blank'>Link</a></div><div id='project'> Project Name: tensorlayer/tensorlayer</div><div id='commit'> Commit Name: 910e1e544793c0ca9859a5a4f1c0171104166dc3</div><div id='time'> Time: 2019-03-10</div><div id='author'> Author: jingqing.zhang15@imperial.ac.uk</div><div id='file'> File Name: tests/layers/test_layers_core_basedense_dropout.py</div><div id='class'> Class Name: Layer_Core_Test</div><div id='method'> Method Name: test_modellayer</div><BR>