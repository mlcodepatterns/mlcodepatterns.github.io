<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

  model.initialize(data_config)

  <a id="change">checkpoint_manager = tf.train.CheckpointManager(checkpoint, args.model_dir, max_to_keep=5)</a>
  <a id="change">if checkpoint_manager.latest_checkpoint is not None:
    tf.get_logger().info("Restoring parameters from %s", checkpoint_manager.latest_checkpoint)
    checkpoint.restore(checkpoint_manager.latest_checkpoint)

 </a> if args.run == "train":
    train(args.src, args.tgt, checkpoint_manager)
  elif args.run == "translate":
    translate(args.src)</code></pre><h3>After Change</h3><pre><code class='java'>
      }
  }

  <a id="change">model = onmt.models.TransformerBase()</a>
  <a id="change">runner = onmt.Runner(model, config, auto_config=True)</a>

  if args.run == "train":
    runner.train()
  elif args.run == "translate":</code></pre>