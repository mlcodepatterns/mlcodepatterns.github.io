<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
        data = {"client": "p", "ie": "UTF-8", "oe": "UTF-8",
                "sl": from_lang, "tl": to_lang, "text": source}
        json5 = self._get_json5(self.url, host=host, type_=type_, data=data)
        <a id="change">if self._translation_successful(json5):
            return self._get_translation_from_json5(json5)
        else:
            raise NotTranslated(&quotTranslation API returned the input string unchanged.&quot)

   </a> def detect(self, source, host=None, type_=None):
        Detect the source text&quots language.
        if PY2:
            source = source.encode(&quotutf-8&quot)</code></pre><h3>After Change</h3><pre><code class='java'>
                "ie": "UTF-8", "oe": "UTF-8",
                "sl": from_lang, "tl": to_lang, "text": source}
        response = self._request(self.url, host=host, type_=type_, data=data)
        result = <a id="change">json.loads(response)</a>
        try:
            result, _ = json.loads(response)
        except ValueError:
            pass
        self._validate_translation(source, result)
        <a id="change">return result</a>

    def detect(self, source, host=None, type_=None):
        Detect the source text&quots language.
        if PY2:</code></pre>