<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
      self.w_ = weights
    self.w_ /= self.w_.sum()  &#47&#47 weights must sum to 1
    if self.prior is None:
      X = np.vstack(<a id="change">{tuple(row) for row in
                     quadruplets.reshape(-1, quadruplets.shape[2])}</a>)
      <a id="change">prior_inv = np.atleast_2d(np.cov(X, rowvar=False))</a>
      <a id="change">M = np.linalg.inv(prior_inv)</a>
    else:
      M = self.prior
      prior_inv = np.linalg.inv(self.prior)
</code></pre><h3>After Change</h3><pre><code class='java'>
      prior = &quotidentity&quot
    else:
      prior = self.prior
    <a id="change">M</a>, prior_inv = _initialize_metric_mahalanobis(quadruplets, prior,
                                                  return_inverse=True,
                                                  strict_pd=True,
                                                  matrix_name=&quotprior&quot)</code></pre>