<html><h3>a7a12d157766b69cf4b1ddbb5fcdacfe485dc6fa,test/kernels/test_matern_kernel.py,TestMaternKernel,test_ard_separate_batch,#TestMaternKernel#,117
</h3><link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>

        &#47&#47 batch_dims + diag
        res = kernel(a, b, batch_dims=(0, 2)).diag()
        <a id="change">actual = torch.cat([actual[i].diag().unsqueeze(0) for i in range(actual.size(0))])</a>
        self.assertLess(torch.norm(res - actual), 1e-5)


if __name__ == "__main__":</code></pre><h3>After Change</h3><pre><code class='java'>
            [
                [[[0.0, 0.0], [1.0, 1.0]], [[0.0, 0.0], [0.0, 0.0]]],
                [[[1.0, 1.0], [0.0, 0.0]], [[0.0, 0.0], [0.0, 0.0]]],
                [[[0.0, 0.0], [0.0, 0.0]], [<a id="change">[4.0, 4.0]</a>, [0.0, 0.0]]],
            ]
        )

        dist.mul_(math.sqrt(5))
        dist = dist.view(3, 2, 2, 2)
        actual = (dist ** 2 / 3 + dist + 1).mul(torch.exp(-dist))
        res = kernel(a, b, batch_dims=(0, 2)).evaluate()
        self.assertLess(torch.norm(res - actual), 1e-5)

        &#47&#47 batch_dims + diag
        res = kernel(a, b, batch_dims=(0, 2)).diag()
        <a id="change">actual = actual.diagonal(dim1=-2, dim2=-1)</a>
        self.assertLess(torch.norm(res - actual), 1e-5)


if __name__ == "__main__":</code></pre><img src="161875366.png" alt="Italian Trulli"   style="width:500px;height:500px;"><div id='inPattern'>In pattern: SUPERPATTERN</div><BR><div id='frequency'>Frequency: 4</div><BR><div id='size'>Non-data size: 5</div><BR><h3>Instances</h3><BR><div id='link'><a href='https://github.com/cornellius-gp/gpytorch/commit/a7a12d157766b69cf4b1ddbb5fcdacfe485dc6fa#diff-5d2a80424ae2686e4833feeb38554cf4cad7fedb145919174612bd872b056095L137' target='_blank'>Link</a></div><div id='project'> Project Name: cornellius-gp/gpytorch</div><div id='commit'> Commit Name: a7a12d157766b69cf4b1ddbb5fcdacfe485dc6fa</div><div id='time'> Time: 2019-04-03</div><div id='author'> Author: gpleiss@gmail.com</div><div id='file'> File Name: test/kernels/test_matern_kernel.py</div><div id='class'> Class Name: TestMaternKernel</div><div id='method'> Method Name: test_ard_separate_batch</div><BR><BR><div id='link'><a href='https://github.com/lcswillems/torch-rl/commit/2143ec0e8e6a02fade949bf15d9670500ce06234#diff-edf62d79c810fbcb7a885943bf88f2cbd154b280327da97d8284854c881e4b61L31' target='_blank'>Link</a></div><div id='project'> Project Name: lcswillems/torch-rl</div><div id='commit'> Commit Name: 2143ec0e8e6a02fade949bf15d9670500ce06234</div><div id='time'> Time: 2018-04-18</div><div id='author'> Author: lcswillems@gmail.com</div><div id='file'> File Name: scripts/enjoy.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: </div><BR><BR><div id='link'><a href='https://github.com/ixaxaar/pytorch-dnc/commit/a6667bf98c59a7447a6bc55869459e83f5bdb603#diff-1e2bc3913f11c22504d865b90327ccb4c0c92ea35c1103c36fd9b1f31eb26d1bL185' target='_blank'>Link</a></div><div id='project'> Project Name: ixaxaar/pytorch-dnc</div><div id='commit'> Commit Name: a6667bf98c59a7447a6bc55869459e83f5bdb603</div><div id='time'> Time: 2017-12-07</div><div id='author'> Author: root@ixaxaar.in</div><div id='file'> File Name: dnc/sparse_memory.py</div><div id='class'> Class Name: SparseMemory</div><div id='method'> Method Name: read_from_sparse_memory</div><BR><BR><div id='link'><a href='https://github.com/interactiveaudiolab/nussl/commit/e7b29c20004bc520b202fea982b8db4c760fc822#diff-8e24ae1876b6acf6b147b64965b92678414c0a4211393f8daeb7aa2777614063L69' target='_blank'>Link</a></div><div id='project'> Project Name: interactiveaudiolab/nussl</div><div id='commit'> Commit Name: e7b29c20004bc520b202fea982b8db4c760fc822</div><div id='time'> Time: 2020-08-06</div><div id='author'> Author: prem@u.northwestern.edu</div><div id='file'> File Name: tests/ml/test_loss.py</div><div id='class'> Class Name: </div><div id='method'> Method Name: test_permutation_invariant_loss_tf</div><BR>