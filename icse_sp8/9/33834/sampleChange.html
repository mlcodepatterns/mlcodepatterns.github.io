<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
            t_local = t_global * self.threshold_correction_factor.value

            return (
                min(<a id="change">max(t_local, self.threshold_range.min)</a>, self.threshold_range.max),
                t_global,
            )
</code></pre><h3>After Change</h3><pre><code class='java'>
            )
            return self._correct_global_threshold(orig_threshold), orig_threshold, None

        elif <a id="change">self.threshold_scope.value == TS_GLO</a>BAL or automatic:
            return self.get_global_threshold(image, automatic=automatic)

        elif <a id="change">self.threshold_scope.value == TS_ADA</a>PTIVE:
            return self.get_local_threshold(image)

        else:
            <a id="change">raise ValueError("Invalid thresholding settings")</a>

    def get_global_threshold(self, image, automatic=False):
        image_data = image.pixel_data[image.mask]
</code></pre>