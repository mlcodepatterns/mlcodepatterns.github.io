<link rel="stylesheet" href="../../../../default.css">
<script src="../../../../highlight.pack.js"></script> 
<script>hljs.initHighlightingOnLoad();</script>
<html><h3></h3><h3>Before Change</h3><pre><code class='java'>
import torch
import torch.utils.ffi

<a id="change">strBasepath</a> = <a id="change">os.path.split(os.path.abspath(__file__))[0]</a> + &quot/&quot
strHeaders = []
strSources = []
strDefines = []
strObjects = []

if torch.cuda.is_available() == True:
    strHeaders += [&quotsrc/Resample2d_cuda.h&quot]
    strSources += [&quotsrc/Resample2d_cuda.c&quot]
    strDefines += [(&quotWITH_CUDA&quot, None)]
    strObjects += [&quotsrc/Resample2d_kernel.o&quot]

<a id="change">ffi</a> = torch.utils.ffi.create_extension(
    name=&quot_ext.resample2d&quot,
    headers=strHeaders,
    sources=strSources,
    verbose=False,
    with_cuda=<a id="change">any(strDefine[0] == &quotWITH_CUDA&quot for strDefine in strDefines)</a>,
    package=False,
    relative_to=strBasepath,
    include_dirs=[<a id="change">os.path.expandvars(&quot$CUDA_HOME&quot) + &quot/include&quot</a>],
    define_macros=strDefines,
    extra_objects=[os.path.join(strBasepath, strObject) for strObject in strObjects]
)</code></pre><h3>After Change</h3><pre><code class='java'>
import torch
import torch.utils.ffi

<a id="change">this_folder</a> = <a id="change">os.path.dirname(os.path.abspath(__file__))</a> + &quot/&quot

Headers = []
Sources = []
<a id="change">Defines</a> = []
Objects = []

if torch.cuda.is_available() == True:
    Headers += [&quotsrc/Resample2d_cuda.h&quot]
    Sources += [&quotsrc/Resample2d_cuda.c&quot]
    Defines += [(&quotWITH_CUDA&quot, None)]
    Objects += [&quotsrc/Resample2d_kernel.o&quot]

<a id="change">ffi</a> = torch.utils.ffi.create_extension(
    name=&quot_ext.resample2d&quot,
    headers=Headers,
    sources=Sources,</code></pre>